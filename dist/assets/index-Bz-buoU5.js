(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ex(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rp={exports:{}},kl={},ip={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function J2(){if(c1)return Ye;c1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function d(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function T(V,q,K){this.props=V,this.context=q,this.refs=w,this.updater=K||y}T.prototype.isReactComponent={},T.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},T.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function E(){}E.prototype=T.prototype;function b(V,q,K){this.props=V,this.context=q,this.refs=w,this.updater=K||y}var S=b.prototype=new E;S.constructor=b,_(S,T.prototype),S.isPureReactComponent=!0;var x=Array.isArray,O=Object.prototype.hasOwnProperty,U={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(V,q,K){var te,J={},H=null,X=null;if(q!=null)for(te in q.ref!==void 0&&(X=q.ref),q.key!==void 0&&(H=""+q.key),q)O.call(q,te)&&!R.hasOwnProperty(te)&&(J[te]=q[te]);var oe=arguments.length-2;if(oe===1)J.children=K;else if(1<oe){for(var ae=Array(oe),pe=0;pe<oe;pe++)ae[pe]=arguments[pe+2];J.children=ae}if(V&&V.defaultProps)for(te in oe=V.defaultProps,oe)J[te]===void 0&&(J[te]=oe[te]);return{$$typeof:n,type:V,key:H,ref:X,props:J,_owner:U.current}}function M(V,q){return{$$typeof:n,type:V.type,key:q,ref:V.ref,props:V.props,_owner:V._owner}}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function k(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(K){return q[K]})}var L=/\/+/g;function D(V,q){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):q.toString(36)}function $(V,q,K,te,J){var H=typeof V;(H==="undefined"||H==="boolean")&&(V=null);var X=!1;if(V===null)X=!0;else switch(H){case"string":case"number":X=!0;break;case"object":switch(V.$$typeof){case n:case e:X=!0}}if(X)return X=V,J=J(X),V=te===""?"."+D(X,0):te,x(J)?(K="",V!=null&&(K=V.replace(L,"$&/")+"/"),$(J,q,K,"",function(pe){return pe})):J!=null&&(C(J)&&(J=M(J,K+(!J.key||X&&X.key===J.key?"":(""+J.key).replace(L,"$&/")+"/")+V)),q.push(J)),1;if(X=0,te=te===""?".":te+":",x(V))for(var oe=0;oe<V.length;oe++){H=V[oe];var ae=te+D(H,oe);X+=$(H,q,K,ae,J)}else if(ae=d(V),typeof ae=="function")for(V=ae.call(V),oe=0;!(H=V.next()).done;)H=H.value,ae=te+D(H,oe++),X+=$(H,q,K,ae,J);else if(H==="object")throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return X}function G(V,q,K){if(V==null)return V;var te=[],J=0;return $(V,te,"","",function(H){return q.call(K,H,J++)}),te}function ie(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(K){(V._status===0||V._status===-1)&&(V._status=1,V._result=K)},function(K){(V._status===0||V._status===-1)&&(V._status=2,V._result=K)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var ee={current:null},re={transition:null},Y={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:re,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:G,forEach:function(V,q,K){G(V,function(){q.apply(this,arguments)},K)},count:function(V){var q=0;return G(V,function(){q++}),q},toArray:function(V){return G(V,function(q){return q})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ye.Component=T,Ye.Fragment=t,Ye.Profiler=i,Ye.PureComponent=b,Ye.StrictMode=r,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ye.act=W,Ye.cloneElement=function(V,q,K){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var te=_({},V.props),J=V.key,H=V.ref,X=V._owner;if(q!=null){if(q.ref!==void 0&&(H=q.ref,X=U.current),q.key!==void 0&&(J=""+q.key),V.type&&V.type.defaultProps)var oe=V.type.defaultProps;for(ae in q)O.call(q,ae)&&!R.hasOwnProperty(ae)&&(te[ae]=q[ae]===void 0&&oe!==void 0?oe[ae]:q[ae])}var ae=arguments.length-2;if(ae===1)te.children=K;else if(1<ae){oe=Array(ae);for(var pe=0;pe<ae;pe++)oe[pe]=arguments[pe+2];te.children=oe}return{$$typeof:n,type:V.type,key:J,ref:H,props:te,_owner:X}},Ye.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Ye.createElement=I,Ye.createFactory=function(V){var q=I.bind(null,V);return q.type=V,q},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(V){return{$$typeof:u,render:V}},Ye.isValidElement=C,Ye.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:ie}},Ye.memo=function(V,q){return{$$typeof:h,type:V,compare:q===void 0?null:q}},Ye.startTransition=function(V){var q=re.transition;re.transition={};try{V()}finally{re.transition=q}},Ye.unstable_act=W,Ye.useCallback=function(V,q){return ee.current.useCallback(V,q)},Ye.useContext=function(V){return ee.current.useContext(V)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(V){return ee.current.useDeferredValue(V)},Ye.useEffect=function(V,q){return ee.current.useEffect(V,q)},Ye.useId=function(){return ee.current.useId()},Ye.useImperativeHandle=function(V,q,K){return ee.current.useImperativeHandle(V,q,K)},Ye.useInsertionEffect=function(V,q){return ee.current.useInsertionEffect(V,q)},Ye.useLayoutEffect=function(V,q){return ee.current.useLayoutEffect(V,q)},Ye.useMemo=function(V,q){return ee.current.useMemo(V,q)},Ye.useReducer=function(V,q,K){return ee.current.useReducer(V,q,K)},Ye.useRef=function(V){return ee.current.useRef(V)},Ye.useState=function(V){return ee.current.useState(V)},Ye.useSyncExternalStore=function(V,q,K){return ee.current.useSyncExternalStore(V,q,K)},Ye.useTransition=function(){return ee.current.useTransition()},Ye.version="18.3.1",Ye}var f1;function Jf(){return f1||(f1=1,ip.exports=J2()),ip.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function eR(){if(h1)return kl;h1=1;var n=Jf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,h){var m,g={},d=null,y=null;h!==void 0&&(d=""+h),f.key!==void 0&&(d=""+f.key),f.ref!==void 0&&(y=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(g[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:e,type:u,key:d,ref:y,props:g,_owner:i.current}}return kl.Fragment=t,kl.jsx=l,kl.jsxs=l,kl}var d1;function tR(){return d1||(d1=1,rp.exports=eR()),rp.exports}var j=tR(),se=Jf(),Kc={},sp={exports:{}},Pn={},op={exports:{}},ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function nR(){return p1||(p1=1,function(n){function e(re,Y){var W=re.length;re.push(Y);e:for(;0<W;){var V=W-1>>>1,q=re[V];if(0<i(q,Y))re[V]=Y,re[W]=q,W=V;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Y=re[0],W=re.pop();if(W!==Y){re[0]=W;e:for(var V=0,q=re.length,K=q>>>1;V<K;){var te=2*(V+1)-1,J=re[te],H=te+1,X=re[H];if(0>i(J,W))H<q&&0>i(X,J)?(re[V]=X,re[H]=W,V=H):(re[V]=J,re[te]=W,V=te);else if(H<q&&0>i(X,W))re[V]=X,re[H]=W,V=H;else break e}}return Y}function i(re,Y){var W=re.sortIndex-Y.sortIndex;return W!==0?W:re.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],h=[],m=1,g=null,d=3,y=!1,_=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(re){for(var Y=t(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=re)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(h)}}function x(re){if(w=!1,S(re),!_)if(t(f)!==null)_=!0,ie(O);else{var Y=t(h);Y!==null&&ee(x,Y.startTime-re)}}function O(re,Y){_=!1,w&&(w=!1,E(I),I=-1),y=!0;var W=d;try{for(S(Y),g=t(f);g!==null&&(!(g.expirationTime>Y)||re&&!k());){var V=g.callback;if(typeof V=="function"){g.callback=null,d=g.priorityLevel;var q=V(g.expirationTime<=Y);Y=n.unstable_now(),typeof q=="function"?g.callback=q:g===t(f)&&r(f),S(Y)}else r(f);g=t(f)}if(g!==null)var K=!0;else{var te=t(h);te!==null&&ee(x,te.startTime-Y),K=!1}return K}finally{g=null,d=W,y=!1}}var U=!1,R=null,I=-1,M=5,C=-1;function k(){return!(n.unstable_now()-C<M)}function L(){if(R!==null){var re=n.unstable_now();C=re;var Y=!0;try{Y=R(!0,re)}finally{Y?D():(U=!1,R=null)}}else U=!1}var D;if(typeof b=="function")D=function(){b(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=L,D=function(){G.postMessage(null)}}else D=function(){T(L,0)};function ie(re){R=re,U||(U=!0,D())}function ee(re,Y){I=T(function(){re(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){_||y||(_=!0,ie(O))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var W=d;d=Y;try{return re()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,Y){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var W=d;d=re;try{return Y()}finally{d=W}},n.unstable_scheduleCallback=function(re,Y,W){var V=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,re){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,re={id:m++,callback:Y,priorityLevel:re,startTime:W,expirationTime:q,sortIndex:-1},W>V?(re.sortIndex=W,e(h,re),t(f)===null&&re===t(h)&&(w?(E(I),I=-1):w=!0,ee(x,W-V))):(re.sortIndex=q,e(f,re),_||y||(_=!0,ie(O))),re},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(re){var Y=d;return function(){var W=d;d=Y;try{return re.apply(this,arguments)}finally{d=W}}}}(ap)),ap}var m1;function rR(){return m1||(m1=1,op.exports=nR()),op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function iR(){if(g1)return Pn;g1=1;var n=Jf(),e=rR();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function d(s){return f.call(g,s)?!0:f.call(m,s)?!1:h.test(s)?g[s]=!0:(m[s]=!0,!1)}function y(s,o,c,v){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return v?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,o,c,v){if(o===null||typeof o>"u"||y(s,o,c,v))return!0;if(v)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(s,o,c,v,A,N,B){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=v,this.attributeNamespace=A,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=N,this.removeEmptyString=B}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];T[o]=new w(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function b(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,b);T[o]=new w(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,b);T[o]=new w(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,b);T[o]=new w(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,o,c,v){var A=T.hasOwnProperty(o)?T[o]:null;(A!==null?A.type!==0:v||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(_(o,c,A,v)&&(c=null),v||A===null?d(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):A.mustUseProperty?s[A.propertyName]=c===null?A.type===3?!1:"":c:(o=A.attributeName,v=A.attributeNamespace,c===null?s.removeAttribute(o):(A=A.type,c=A===3||A===4&&c===!0?"":""+c,v?s.setAttributeNS(v,o,c):s.setAttribute(o,c))))}var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),U=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),re=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var W=Object.assign,V;function q(s){if(V===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+s}var K=!1;function te(s,o){if(!s||K)return"";K=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(fe){var v=fe}Reflect.construct(s,[],o)}else{try{o.call()}catch(fe){v=fe}s.call(o.prototype)}else{try{throw Error()}catch(fe){v=fe}s()}}catch(fe){if(fe&&v&&typeof fe.stack=="string"){for(var A=fe.stack.split(`
`),N=v.stack.split(`
`),B=A.length-1,Q=N.length-1;1<=B&&0<=Q&&A[B]!==N[Q];)Q--;for(;1<=B&&0<=Q;B--,Q--)if(A[B]!==N[Q]){if(B!==1||Q!==1)do if(B--,Q--,0>Q||A[B]!==N[Q]){var Z=`
`+A[B].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=B&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?q(s):""}function J(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=te(s.type,!1),s;case 11:return s=te(s.type.render,!1),s;case 1:return s=te(s.type,!0),s;default:return""}}function H(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case U:return"Portal";case M:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case $:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case k:return(s.displayName||"Context")+".Consumer";case C:return(s._context.displayName||"Context")+".Provider";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return o=s.displayName||null,o!==null?o:H(s.type)||"Memo";case ie:o=s._payload,s=s._init;try{return H(s(o))}catch{}}return null}function X(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ae(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pe(s){var o=ae(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),v=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var A=c.get,N=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return A.call(this)},set:function(B){v=""+B,N.call(this,B)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return v},setValue:function(B){v=""+B},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Se(s){s._valueTracker||(s._valueTracker=pe(s))}function Le(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),v="";return s&&(v=ae(s)?s.checked?"true":"false":s.value),s=v,s!==c?(o.setValue(s),!0):!1}function Ve(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ke(s,o){var c=o.checked;return W({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Xe(s,o){var c=o.defaultValue==null?"":o.defaultValue,v=o.checked!=null?o.checked:o.defaultChecked;c=oe(o.value!=null?o.value:c),s._wrapperState={initialChecked:v,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Lt(s,o){o=o.checked,o!=null&&S(s,"checked",o,!1)}function mt(s,o){Lt(s,o);var c=oe(o.value),v=o.type;if(c!=null)v==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?me(s,o.type,c):o.hasOwnProperty("defaultValue")&&me(s,o.type,oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function de(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var v=o.type;if(!(v!=="submit"&&v!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function me(s,o,c){(o!=="number"||Ve(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var be=Array.isArray;function Ae(s,o,c,v){if(s=s.options,o){o={};for(var A=0;A<c.length;A++)o["$"+c[A]]=!0;for(c=0;c<s.length;c++)A=o.hasOwnProperty("$"+s[c].value),s[c].selected!==A&&(s[c].selected=A),A&&v&&(s[c].defaultSelected=!0)}else{for(c=""+oe(c),o=null,A=0;A<s.length;A++){if(s[A].value===c){s[A].selected=!0,v&&(s[A].defaultSelected=!0);return}o!==null||s[A].disabled||(o=s[A])}o!==null&&(o.selected=!0)}}function ve(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ze(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(be(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:oe(c)}}function He(s,o){var c=oe(o.value),v=oe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),v!=null&&(s.defaultValue=""+v)}function Ge(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function st(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?st(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var rt,vs=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,v,A){MSApp.execUnsafeLocalFunction(function(){return s(o,c,v,A)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=rt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ut(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_s=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(s){_s.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),on[o]=on[s]})});function Fa(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||on.hasOwnProperty(s)&&on[s]?(""+o).trim():o+"px"}function Ua(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var v=c.indexOf("--")===0,A=Fa(c,o[c],v);c==="float"&&(c="cssFloat"),v?s.setProperty(c,A):s[c]=A}}var Ba=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(s,o){if(o){if(Ba[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function za(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ws=null;function go(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yo=null,Bn=null,br=null;function vo(s){if(s=dl(s)){if(typeof yo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=ac(o),yo(s.stateNode,s.type,o))}}function xr(s){Bn?br?br.push(s):br=[s]:Bn=s}function Ha(){if(Bn){var s=Bn,o=br;if(br=Bn=null,vo(s),o)for(s=0;s<o.length;s++)vo(o[s])}}function Es(s,o){return s(o)}function $a(){}var Qr=!1;function Wa(s,o,c){if(Qr)return s(o,c);Qr=!0;try{return Es(s,o,c)}finally{Qr=!1,(Bn!==null||br!==null)&&($a(),Ha())}}function Ct(s,o){var c=s.stateNode;if(c===null)return null;var v=ac(c);if(v===null)return null;c=v[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var _o=!1;if(u)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){_o=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{_o=!1}function Ts(s,o,c,v,A,N,B,Q,Z){var fe=Array.prototype.slice.call(arguments,3);try{o.apply(c,fe)}catch(we){this.onError(we)}}var bs=!1,wo=null,rr=!1,Ka=null,Ch={onError:function(s){bs=!0,wo=s}};function Eo(s,o,c,v,A,N,B,Q,Z){bs=!1,wo=null,Ts.apply(Ch,arguments)}function Nu(s,o,c,v,A,N,B,Q,Z){if(Eo.apply(this,arguments),bs){if(bs){var fe=wo;bs=!1,wo=null}else throw Error(t(198));rr||(rr=!0,Ka=fe)}}function ir(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function xs(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function sr(s){if(ir(s)!==s)throw Error(t(188))}function Ou(s){var o=s.alternate;if(!o){if(o=ir(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,v=o;;){var A=c.return;if(A===null)break;var N=A.alternate;if(N===null){if(v=A.return,v!==null){c=v;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===c)return sr(A),s;if(N===v)return sr(A),o;N=N.sibling}throw Error(t(188))}if(c.return!==v.return)c=A,v=N;else{for(var B=!1,Q=A.child;Q;){if(Q===c){B=!0,c=A,v=N;break}if(Q===v){B=!0,v=A,c=N;break}Q=Q.sibling}if(!B){for(Q=N.child;Q;){if(Q===c){B=!0,c=N,v=A;break}if(Q===v){B=!0,v=N,c=A;break}Q=Q.sibling}if(!B)throw Error(t(189))}}if(c.alternate!==v)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Ga(s){return s=Ou(s),s!==null?To(s):null}function To(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=To(s);if(o!==null)return o;s=s.sibling}return null}var bo=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,Du=e.unstable_shouldYield,Nh=e.unstable_requestPaint,ht=e.unstable_now,Lu=e.unstable_getCurrentPriorityLevel,As=e.unstable_ImmediatePriority,bi=e.unstable_UserBlockingPriority,qn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Mu=e.unstable_IdlePriority,Ss=null,On=null;function ju(s){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Ss,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Fu,Xa=Math.log,Vu=Math.LN2;function Fu(s){return s>>>=0,s===0?32:31-(Xa(s)/Vu|0)|0}var xo=64,Ao=4194304;function xi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Is(s,o){var c=s.pendingLanes;if(c===0)return 0;var v=0,A=s.suspendedLanes,N=s.pingedLanes,B=c&268435455;if(B!==0){var Q=B&~A;Q!==0?v=xi(Q):(N&=B,N!==0&&(v=xi(N)))}else B=c&~A,B!==0?v=xi(B):N!==0&&(v=xi(N));if(v===0)return 0;if(o!==0&&o!==v&&(o&A)===0&&(A=v&-v,N=o&-o,A>=N||A===16&&(N&4194240)!==0))return o;if((v&4)!==0&&(v|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=v;0<o;)c=31-yn(o),A=1<<c,v|=s[c],o&=~A;return v}function Oh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(s,o){for(var c=s.suspendedLanes,v=s.pingedLanes,A=s.expirationTimes,N=s.pendingLanes;0<N;){var B=31-yn(N),Q=1<<B,Z=A[B];Z===-1?((Q&c)===0||(Q&v)!==0)&&(A[B]=Oh(Q,o)):Z<=o&&(s.expiredLanes|=Q),N&=~Q}}function Dn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ks(){var s=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),s}function Ai(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Si(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-yn(o),s[o]=c}function ft(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<c;){var A=31-yn(c),N=1<<A;o[A]=0,v[A]=-1,s[A]=-1,c&=~N}}function Ii(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var v=31-yn(c),A=1<<v;A&o|s[v]&o&&(s[v]|=o),c&=~A}}var et=0;function ki(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Uu,So,Bu,qu,zu,Za=!1,Ar=[],Xt=null,or=null,ar=null,Ri=new Map,zn=new Map,Sr=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(s,o){switch(s){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Ri.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(o.pointerId)}}function bn(s,o,c,v,A,N){return s===null||s.nativeEvent!==N?(s={blockedOn:o,domEventName:c,eventSystemFlags:v,nativeEvent:N,targetContainers:[A]},o!==null&&(o=dl(o),o!==null&&So(o)),s):(s.eventSystemFlags|=v,o=s.targetContainers,A!==null&&o.indexOf(A)===-1&&o.push(A),s)}function Lh(s,o,c,v,A){switch(o){case"focusin":return Xt=bn(Xt,s,o,c,v,A),!0;case"dragenter":return or=bn(or,s,o,c,v,A),!0;case"mouseover":return ar=bn(ar,s,o,c,v,A),!0;case"pointerover":var N=A.pointerId;return Ri.set(N,bn(Ri.get(N)||null,s,o,c,v,A)),!0;case"gotpointercapture":return N=A.pointerId,zn.set(N,bn(zn.get(N)||null,s,o,c,v,A)),!0}return!1}function $u(s){var o=Os(s.target);if(o!==null){var c=ir(o);if(c!==null){if(o=c.tag,o===13){if(o=xs(c),o!==null){s.blockedOn=o,zu(s.priority,function(){Bu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Io(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var v=new c.constructor(c.type,c);ws=v,c.target.dispatchEvent(v),ws=null}else return o=dl(c),o!==null&&So(o),s.blockedOn=c,!1;o.shift()}return!0}function Rs(s,o,c){Xr(s)&&c.delete(o)}function Wu(){Za=!1,Xt!==null&&Xr(Xt)&&(Xt=null),or!==null&&Xr(or)&&(or=null),ar!==null&&Xr(ar)&&(ar=null),Ri.forEach(Rs),zn.forEach(Rs)}function lr(s,o){s.blockedOn===o&&(s.blockedOn=null,Za||(Za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wu)))}function ur(s){function o(A){return lr(A,s)}if(0<Ar.length){lr(Ar[0],s);for(var c=1;c<Ar.length;c++){var v=Ar[c];v.blockedOn===s&&(v.blockedOn=null)}}for(Xt!==null&&lr(Xt,s),or!==null&&lr(or,s),ar!==null&&lr(ar,s),Ri.forEach(o),zn.forEach(o),c=0;c<Sr.length;c++)v=Sr[c],v.blockedOn===s&&(v.blockedOn=null);for(;0<Sr.length&&(c=Sr[0],c.blockedOn===null);)$u(c),c.blockedOn===null&&Sr.shift()}var Zr=x.ReactCurrentBatchConfig,Pi=!0;function _t(s,o,c,v){var A=et,N=Zr.transition;Zr.transition=null;try{et=1,Ja(s,o,c,v)}finally{et=A,Zr.transition=N}}function Mh(s,o,c,v){var A=et,N=Zr.transition;Zr.transition=null;try{et=4,Ja(s,o,c,v)}finally{et=A,Zr.transition=N}}function Ja(s,o,c,v){if(Pi){var A=Io(s,o,c,v);if(A===null)Kh(s,o,v,Ps,c),Hu(s,v);else if(Lh(A,s,o,c,v))v.stopPropagation();else if(Hu(s,v),o&4&&-1<Dh.indexOf(s)){for(;A!==null;){var N=dl(A);if(N!==null&&Uu(N),N=Io(s,o,c,v),N===null&&Kh(s,o,v,Ps,c),N===A)break;A=N}A!==null&&v.stopPropagation()}else Kh(s,o,v,null,c)}}var Ps=null;function Io(s,o,c,v){if(Ps=null,s=go(v),s=Os(s),s!==null)if(o=ir(s),o===null)s=null;else if(c=o.tag,c===13){if(s=xs(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ps=s,null}function el(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lu()){case As:return 1;case bi:return 4;case qn:case Ya:return 16;case Mu:return 536870912;default:return 16}default:return 16}}var Ln=null,ko=null,xn=null;function tl(){if(xn)return xn;var s,o=ko,c=o.length,v,A="value"in Ln?Ln.value:Ln.textContent,N=A.length;for(s=0;s<c&&o[s]===A[s];s++);var B=c-s;for(v=1;v<=B&&o[c-v]===A[N-v];v++);return xn=A.slice(s,1<v?1-v:void 0)}function Ro(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ir(){return!0}function nl(){return!1}function Zt(s){function o(c,v,A,N,B){this._reactName=c,this._targetInst=A,this.type=v,this.nativeEvent=N,this.target=B,this.currentTarget=null;for(var Q in s)s.hasOwnProperty(Q)&&(c=s[Q],this[Q]=c?c(N):N[Q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ir:nl,this.isPropagationStopped=nl,this}return W(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),o}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Zt(cr),kr=W({},cr,{view:0,detail:0}),jh=Zt(kr),Co,Jr,Ci,Cs=W({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ci&&(Ci&&s.type==="mousemove"?(Co=s.screenX-Ci.screenX,Jr=s.screenY-Ci.screenY):Jr=Co=0,Ci=s),Co)},movementY:function(s){return"movementY"in s?s.movementY:Jr}}),No=Zt(Cs),rl=W({},Cs,{dataTransfer:0}),Ku=Zt(rl),Oo=W({},kr,{relatedTarget:0}),Do=Zt(Oo),Gu=W({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=Zt(Gu),Qu=W({},cr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yu=Zt(Qu),Xu=W({},cr,{data:0}),il=Zt(Xu),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Zu[s])?!!o[s]:!1}function Rr(){return Ju}var p=W({},kr,{key:function(s){if(s.key){var o=Lo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ro(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(s){return s.type==="keypress"?Ro(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ro(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),P=Zt(p),F=W({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=Zt(F),le=W({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),he=Zt(le),xe=W({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Zt(xe),qt=W({},Cs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Zt(qt),Wt=[9,13,27,32],Mt=u&&"CompositionEvent"in window,Hn=null;u&&"documentMode"in document&&(Hn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Hn,Ns=u&&(!Mt||Hn&&8<Hn&&11>=Hn),Mo=" ",i0=!1;function s0(s,o){switch(s){case"keyup":return Wt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var jo=!1;function Yk(s,o){switch(s){case"compositionend":return o0(o);case"keypress":return o.which!==32?null:(i0=!0,Mo);case"textInput":return s=o.data,s===Mo&&i0?null:s;default:return null}}function Xk(s,o){if(jo)return s==="compositionend"||!Mt&&s0(s,o)?(s=tl(),xn=ko=Ln=null,jo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ns&&o.locale!=="ko"?null:o.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Zk[s.type]:o==="textarea"}function l0(s,o,c,v){xr(v),o=ic(o,"onChange"),0<o.length&&(c=new Po("onChange","change",null,c,v),s.push({event:c,listeners:o}))}var sl=null,ol=null;function Jk(s){S0(s,0)}function ec(s){var o=qo(s);if(Le(o))return s}function e2(s,o){if(s==="change")return o}var u0=!1;if(u){var Vh;if(u){var Fh="oninput"in document;if(!Fh){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Fh=typeof c0.oninput=="function"}Vh=Fh}else Vh=!1;u0=Vh&&(!document.documentMode||9<document.documentMode)}function f0(){sl&&(sl.detachEvent("onpropertychange",h0),ol=sl=null)}function h0(s){if(s.propertyName==="value"&&ec(ol)){var o=[];l0(o,ol,s,go(s)),Wa(Jk,o)}}function t2(s,o,c){s==="focusin"?(f0(),sl=o,ol=c,sl.attachEvent("onpropertychange",h0)):s==="focusout"&&f0()}function n2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ec(ol)}function r2(s,o){if(s==="click")return ec(o)}function i2(s,o){if(s==="input"||s==="change")return ec(o)}function s2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var fr=typeof Object.is=="function"?Object.is:s2;function al(s,o){if(fr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),v=Object.keys(o);if(c.length!==v.length)return!1;for(v=0;v<c.length;v++){var A=c[v];if(!f.call(o,A)||!fr(s[A],o[A]))return!1}return!0}function d0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function p0(s,o){var c=d0(s);s=0;for(var v;c;){if(c.nodeType===3){if(v=s+c.textContent.length,s<=o&&v>=o)return{node:c,offset:o-s};s=v}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=d0(c)}}function m0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?m0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function g0(){for(var s=window,o=Ve();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ve(s.document)}return o}function Uh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function o2(s){var o=g0(),c=s.focusedElem,v=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&m0(c.ownerDocument.documentElement,c)){if(v!==null&&Uh(c)){if(o=v.start,s=v.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var A=c.textContent.length,N=Math.min(v.start,A);v=v.end===void 0?N:Math.min(v.end,A),!s.extend&&N>v&&(A=v,v=N,N=A),A=p0(c,N);var B=p0(c,v);A&&B&&(s.rangeCount!==1||s.anchorNode!==A.node||s.anchorOffset!==A.offset||s.focusNode!==B.node||s.focusOffset!==B.offset)&&(o=o.createRange(),o.setStart(A.node,A.offset),s.removeAllRanges(),N>v?(s.addRange(o),s.extend(B.node,B.offset)):(o.setEnd(B.node,B.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var a2=u&&"documentMode"in document&&11>=document.documentMode,Vo=null,Bh=null,ll=null,qh=!1;function y0(s,o,c){var v=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qh||Vo==null||Vo!==Ve(v)||(v=Vo,"selectionStart"in v&&Uh(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ll&&al(ll,v)||(ll=v,v=ic(Bh,"onSelect"),0<v.length&&(o=new Po("onSelect","select",null,o,c),s.push({event:o,listeners:v}),o.target=Vo)))}function tc(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Fo={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},zh={},v0={};u&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function nc(s){if(zh[s])return zh[s];if(!Fo[s])return s;var o=Fo[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in v0)return zh[s]=o[c];return s}var _0=nc("animationend"),w0=nc("animationiteration"),E0=nc("animationstart"),T0=nc("transitionend"),b0=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(s,o){b0.set(s,o),a(o,[s])}for(var Hh=0;Hh<x0.length;Hh++){var $h=x0[Hh],l2=$h.toLowerCase(),u2=$h[0].toUpperCase()+$h.slice(1);Ni(l2,"on"+u2)}Ni(_0,"onAnimationEnd"),Ni(w0,"onAnimationIteration"),Ni(E0,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(T0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function A0(s,o,c){var v=s.type||"unknown-event";s.currentTarget=c,Nu(v,o,void 0,s),s.currentTarget=null}function S0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var v=s[c],A=v.event;v=v.listeners;e:{var N=void 0;if(o)for(var B=v.length-1;0<=B;B--){var Q=v[B],Z=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,Z!==N&&A.isPropagationStopped())break e;A0(A,Q,fe),N=Z}else for(B=0;B<v.length;B++){if(Q=v[B],Z=Q.instance,fe=Q.currentTarget,Q=Q.listener,Z!==N&&A.isPropagationStopped())break e;A0(A,Q,fe),N=Z}}}if(rr)throw s=Ka,rr=!1,Ka=null,s}function gt(s,o){var c=o[Jh];c===void 0&&(c=o[Jh]=new Set);var v=s+"__bubble";c.has(v)||(I0(o,s,2,!1),c.add(v))}function Wh(s,o,c){var v=0;o&&(v|=4),I0(c,s,v,o)}var rc="_reactListening"+Math.random().toString(36).slice(2);function cl(s){if(!s[rc]){s[rc]=!0,r.forEach(function(c){c!=="selectionchange"&&(c2.has(c)||Wh(c,!1,s),Wh(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rc]||(o[rc]=!0,Wh("selectionchange",!1,o))}}function I0(s,o,c,v){switch(el(o)){case 1:var A=_t;break;case 4:A=Mh;break;default:A=Ja}c=A.bind(null,o,c,s),A=void 0,!_o||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(A=!0),v?A!==void 0?s.addEventListener(o,c,{capture:!0,passive:A}):s.addEventListener(o,c,!0):A!==void 0?s.addEventListener(o,c,{passive:A}):s.addEventListener(o,c,!1)}function Kh(s,o,c,v,A){var N=v;if((o&1)===0&&(o&2)===0&&v!==null)e:for(;;){if(v===null)return;var B=v.tag;if(B===3||B===4){var Q=v.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(B===4)for(B=v.return;B!==null;){var Z=B.tag;if((Z===3||Z===4)&&(Z=B.stateNode.containerInfo,Z===A||Z.nodeType===8&&Z.parentNode===A))return;B=B.return}for(;Q!==null;){if(B=Os(Q),B===null)return;if(Z=B.tag,Z===5||Z===6){v=N=B;continue e}Q=Q.parentNode}}v=v.return}Wa(function(){var fe=N,we=go(c),Ee=[];e:{var _e=b0.get(s);if(_e!==void 0){var Ie=Po,Ce=s;switch(s){case"keypress":if(Ro(c)===0)break e;case"keydown":case"keyup":Ie=P;break;case"focusin":Ce="focus",Ie=Do;break;case"focusout":Ce="blur",Ie=Do;break;case"beforeblur":case"afterblur":Ie=Do;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=he;break;case _0:case w0:case E0:Ie=ei;break;case T0:Ie=ct;break;case"scroll":Ie=jh;break;case"wheel":Ie=tt;break;case"copy":case"cut":case"paste":Ie=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=z}var Ne=(o&4)!==0,Nt=!Ne&&s==="scroll",ue=Ne?_e!==null?_e+"Capture":null:_e;Ne=[];for(var ne=fe,ce;ne!==null;){ce=ne;var Te=ce.stateNode;if(ce.tag===5&&Te!==null&&(ce=Te,ue!==null&&(Te=Ct(ne,ue),Te!=null&&Ne.push(fl(ne,Te,ce)))),Nt)break;ne=ne.return}0<Ne.length&&(_e=new Ie(_e,Ce,null,c,we),Ee.push({event:_e,listeners:Ne}))}}if((o&7)===0){e:{if(_e=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",_e&&c!==ws&&(Ce=c.relatedTarget||c.fromElement)&&(Os(Ce)||Ce[ti]))break e;if((Ie||_e)&&(_e=we.window===we?we:(_e=we.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ie?(Ce=c.relatedTarget||c.toElement,Ie=fe,Ce=Ce?Os(Ce):null,Ce!==null&&(Nt=ir(Ce),Ce!==Nt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Ie=null,Ce=fe),Ie!==Ce)){if(Ne=No,Te="onMouseLeave",ue="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=z,Te="onPointerLeave",ue="onPointerEnter",ne="pointer"),Nt=Ie==null?_e:qo(Ie),ce=Ce==null?_e:qo(Ce),_e=new Ne(Te,ne+"leave",Ie,c,we),_e.target=Nt,_e.relatedTarget=ce,Te=null,Os(we)===fe&&(Ne=new Ne(ue,ne+"enter",Ce,c,we),Ne.target=ce,Ne.relatedTarget=Nt,Te=Ne),Nt=Te,Ie&&Ce)t:{for(Ne=Ie,ue=Ce,ne=0,ce=Ne;ce;ce=Uo(ce))ne++;for(ce=0,Te=ue;Te;Te=Uo(Te))ce++;for(;0<ne-ce;)Ne=Uo(Ne),ne--;for(;0<ce-ne;)ue=Uo(ue),ce--;for(;ne--;){if(Ne===ue||ue!==null&&Ne===ue.alternate)break t;Ne=Uo(Ne),ue=Uo(ue)}Ne=null}else Ne=null;Ie!==null&&k0(Ee,_e,Ie,Ne,!1),Ce!==null&&Nt!==null&&k0(Ee,Nt,Ce,Ne,!0)}}e:{if(_e=fe?qo(fe):window,Ie=_e.nodeName&&_e.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&_e.type==="file")var Oe=e2;else if(a0(_e))if(u0)Oe=i2;else{Oe=n2;var Me=t2}else(Ie=_e.nodeName)&&Ie.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Oe=r2);if(Oe&&(Oe=Oe(s,fe))){l0(Ee,Oe,c,we);break e}Me&&Me(s,_e,fe),s==="focusout"&&(Me=_e._wrapperState)&&Me.controlled&&_e.type==="number"&&me(_e,"number",_e.value)}switch(Me=fe?qo(fe):window,s){case"focusin":(a0(Me)||Me.contentEditable==="true")&&(Vo=Me,Bh=fe,ll=null);break;case"focusout":ll=Bh=Vo=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,y0(Ee,c,we);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":y0(Ee,c,we)}var je;if(Mt)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else jo?s0(s,c)&&(Be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Be="onCompositionStart");Be&&(Ns&&c.locale!=="ko"&&(jo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&jo&&(je=tl()):(Ln=we,ko="value"in Ln?Ln.value:Ln.textContent,jo=!0)),Me=ic(fe,Be),0<Me.length&&(Be=new il(Be,s,null,c,we),Ee.push({event:Be,listeners:Me}),je?Be.data=je:(je=o0(c),je!==null&&(Be.data=je)))),(je=Mn?Yk(s,c):Xk(s,c))&&(fe=ic(fe,"onBeforeInput"),0<fe.length&&(we=new il("onBeforeInput","beforeinput",null,c,we),Ee.push({event:we,listeners:fe}),we.data=je))}S0(Ee,o)})}function fl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function ic(s,o){for(var c=o+"Capture",v=[];s!==null;){var A=s,N=A.stateNode;A.tag===5&&N!==null&&(A=N,N=Ct(s,c),N!=null&&v.unshift(fl(s,N,A)),N=Ct(s,o),N!=null&&v.push(fl(s,N,A))),s=s.return}return v}function Uo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function k0(s,o,c,v,A){for(var N=o._reactName,B=[];c!==null&&c!==v;){var Q=c,Z=Q.alternate,fe=Q.stateNode;if(Z!==null&&Z===v)break;Q.tag===5&&fe!==null&&(Q=fe,A?(Z=Ct(c,N),Z!=null&&B.unshift(fl(c,Z,Q))):A||(Z=Ct(c,N),Z!=null&&B.push(fl(c,Z,Q)))),c=c.return}B.length!==0&&s.push({event:o,listeners:B})}var f2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function R0(s){return(typeof s=="string"?s:""+s).replace(f2,`
`).replace(h2,"")}function sc(s,o,c){if(o=R0(o),R0(s)!==o&&c)throw Error(t(425))}function oc(){}var Gh=null,Qh=null;function Yh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(s){return P0.resolve(null).then(s).catch(m2)}:Xh;function m2(s){setTimeout(function(){throw s})}function Zh(s,o){var c=o,v=0;do{var A=c.nextSibling;if(s.removeChild(c),A&&A.nodeType===8)if(c=A.data,c==="/$"){if(v===0){s.removeChild(A),ur(o);return}v--}else c!=="$"&&c!=="$?"&&c!=="$!"||v++;c=A}while(c);ur(o)}function Oi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function C0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Bo,hl="__reactProps$"+Bo,ti="__reactContainer$"+Bo,Jh="__reactEvents$"+Bo,g2="__reactListeners$"+Bo,y2="__reactHandles$"+Bo;function Os(s){var o=s[Pr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ti]||c[Pr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=C0(s);s!==null;){if(c=s[Pr])return c;s=C0(s)}return o}s=c,c=s.parentNode}return null}function dl(s){return s=s[Pr]||s[ti],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function qo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ac(s){return s[hl]||null}var ed=[],zo=-1;function Di(s){return{current:s}}function yt(s){0>zo||(s.current=ed[zo],ed[zo]=null,zo--)}function dt(s,o){zo++,ed[zo]=s.current,s.current=o}var Li={},an=Di(Li),An=Di(!1),Ds=Li;function Ho(s,o){var c=s.type.contextTypes;if(!c)return Li;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===o)return v.__reactInternalMemoizedMaskedChildContext;var A={},N;for(N in c)A[N]=o[N];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=A),A}function Sn(s){return s=s.childContextTypes,s!=null}function lc(){yt(An),yt(an)}function N0(s,o,c){if(an.current!==Li)throw Error(t(168));dt(an,o),dt(An,c)}function O0(s,o,c){var v=s.stateNode;if(o=o.childContextTypes,typeof v.getChildContext!="function")return c;v=v.getChildContext();for(var A in v)if(!(A in o))throw Error(t(108,X(s)||"Unknown",A));return W({},c,v)}function uc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Li,Ds=an.current,dt(an,s),dt(An,An.current),!0}function D0(s,o,c){var v=s.stateNode;if(!v)throw Error(t(169));c?(s=O0(s,o,Ds),v.__reactInternalMemoizedMergedChildContext=s,yt(An),yt(an),dt(an,s)):yt(An),dt(An,c)}var ni=null,cc=!1,td=!1;function L0(s){ni===null?ni=[s]:ni.push(s)}function v2(s){cc=!0,L0(s)}function Mi(){if(!td&&ni!==null){td=!0;var s=0,o=et;try{var c=ni;for(et=1;s<c.length;s++){var v=c[s];do v=v(!0);while(v!==null)}ni=null,cc=!1}catch(A){throw ni!==null&&(ni=ni.slice(s+1)),bo(As,Mi),A}finally{et=o,td=!1}}return null}var $o=[],Wo=0,fc=null,hc=0,$n=[],Wn=0,Ls=null,ri=1,ii="";function Ms(s,o){$o[Wo++]=hc,$o[Wo++]=fc,fc=s,hc=o}function M0(s,o,c){$n[Wn++]=ri,$n[Wn++]=ii,$n[Wn++]=Ls,Ls=s;var v=ri;s=ii;var A=32-yn(v)-1;v&=~(1<<A),c+=1;var N=32-yn(o)+A;if(30<N){var B=A-A%5;N=(v&(1<<B)-1).toString(32),v>>=B,A-=B,ri=1<<32-yn(o)+A|c<<A|v,ii=N+s}else ri=1<<N|c<<A|v,ii=s}function nd(s){s.return!==null&&(Ms(s,1),M0(s,1,0))}function rd(s){for(;s===fc;)fc=$o[--Wo],$o[Wo]=null,hc=$o[--Wo],$o[Wo]=null;for(;s===Ls;)Ls=$n[--Wn],$n[Wn]=null,ii=$n[--Wn],$n[Wn]=null,ri=$n[--Wn],$n[Wn]=null}var jn=null,Vn=null,wt=!1,hr=null;function j0(s,o){var c=Yn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function V0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,jn=s,Vn=Oi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,jn=s,Vn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ls!==null?{id:ri,overflow:ii}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Yn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,jn=s,Vn=null,!0):!1;default:return!1}}function id(s){return(s.mode&1)!==0&&(s.flags&128)===0}function sd(s){if(wt){var o=Vn;if(o){var c=o;if(!V0(s,o)){if(id(s))throw Error(t(418));o=Oi(c.nextSibling);var v=jn;o&&V0(s,o)?j0(v,c):(s.flags=s.flags&-4097|2,wt=!1,jn=s)}}else{if(id(s))throw Error(t(418));s.flags=s.flags&-4097|2,wt=!1,jn=s}}}function F0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;jn=s}function dc(s){if(s!==jn)return!1;if(!wt)return F0(s),wt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Yh(s.type,s.memoizedProps)),o&&(o=Vn)){if(id(s))throw U0(),Error(t(418));for(;o;)j0(s,o),o=Oi(o.nextSibling)}if(F0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Vn=Oi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Vn=null}}else Vn=jn?Oi(s.stateNode.nextSibling):null;return!0}function U0(){for(var s=Vn;s;)s=Oi(s.nextSibling)}function Ko(){Vn=jn=null,wt=!1}function od(s){hr===null?hr=[s]:hr.push(s)}var _2=x.ReactCurrentBatchConfig;function pl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var v=c.stateNode}if(!v)throw Error(t(147,s));var A=v,N=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===N?o.ref:(o=function(B){var Q=A.refs;B===null?delete Q[N]:Q[N]=B},o._stringRef=N,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function pc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function B0(s){var o=s._init;return o(s._payload)}function q0(s){function o(ue,ne){if(s){var ce=ue.deletions;ce===null?(ue.deletions=[ne],ue.flags|=16):ce.push(ne)}}function c(ue,ne){if(!s)return null;for(;ne!==null;)o(ue,ne),ne=ne.sibling;return null}function v(ue,ne){for(ue=new Map;ne!==null;)ne.key!==null?ue.set(ne.key,ne):ue.set(ne.index,ne),ne=ne.sibling;return ue}function A(ue,ne){return ue=Hi(ue,ne),ue.index=0,ue.sibling=null,ue}function N(ue,ne,ce){return ue.index=ce,s?(ce=ue.alternate,ce!==null?(ce=ce.index,ce<ne?(ue.flags|=2,ne):ce):(ue.flags|=2,ne)):(ue.flags|=1048576,ne)}function B(ue){return s&&ue.alternate===null&&(ue.flags|=2),ue}function Q(ue,ne,ce,Te){return ne===null||ne.tag!==6?(ne=Xd(ce,ue.mode,Te),ne.return=ue,ne):(ne=A(ne,ce),ne.return=ue,ne)}function Z(ue,ne,ce,Te){var Oe=ce.type;return Oe===R?we(ue,ne,ce.props.children,Te,ce.key):ne!==null&&(ne.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ie&&B0(Oe)===ne.type)?(Te=A(ne,ce.props),Te.ref=pl(ue,ne,ce),Te.return=ue,Te):(Te=Vc(ce.type,ce.key,ce.props,null,ue.mode,Te),Te.ref=pl(ue,ne,ce),Te.return=ue,Te)}function fe(ue,ne,ce,Te){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=Zd(ce,ue.mode,Te),ne.return=ue,ne):(ne=A(ne,ce.children||[]),ne.return=ue,ne)}function we(ue,ne,ce,Te,Oe){return ne===null||ne.tag!==7?(ne=Hs(ce,ue.mode,Te,Oe),ne.return=ue,ne):(ne=A(ne,ce),ne.return=ue,ne)}function Ee(ue,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Xd(""+ne,ue.mode,ce),ne.return=ue,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case O:return ce=Vc(ne.type,ne.key,ne.props,null,ue.mode,ce),ce.ref=pl(ue,null,ne),ce.return=ue,ce;case U:return ne=Zd(ne,ue.mode,ce),ne.return=ue,ne;case ie:var Te=ne._init;return Ee(ue,Te(ne._payload),ce)}if(be(ne)||Y(ne))return ne=Hs(ne,ue.mode,ce,null),ne.return=ue,ne;pc(ue,ne)}return null}function _e(ue,ne,ce,Te){var Oe=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Oe!==null?null:Q(ue,ne,""+ce,Te);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case O:return ce.key===Oe?Z(ue,ne,ce,Te):null;case U:return ce.key===Oe?fe(ue,ne,ce,Te):null;case ie:return Oe=ce._init,_e(ue,ne,Oe(ce._payload),Te)}if(be(ce)||Y(ce))return Oe!==null?null:we(ue,ne,ce,Te,null);pc(ue,ce)}return null}function Ie(ue,ne,ce,Te,Oe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ue=ue.get(ce)||null,Q(ne,ue,""+Te,Oe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case O:return ue=ue.get(Te.key===null?ce:Te.key)||null,Z(ne,ue,Te,Oe);case U:return ue=ue.get(Te.key===null?ce:Te.key)||null,fe(ne,ue,Te,Oe);case ie:var Me=Te._init;return Ie(ue,ne,ce,Me(Te._payload),Oe)}if(be(Te)||Y(Te))return ue=ue.get(ce)||null,we(ne,ue,Te,Oe,null);pc(ne,Te)}return null}function Ce(ue,ne,ce,Te){for(var Oe=null,Me=null,je=ne,Be=ne=0,Qt=null;je!==null&&Be<ce.length;Be++){je.index>Be?(Qt=je,je=null):Qt=je.sibling;var ot=_e(ue,je,ce[Be],Te);if(ot===null){je===null&&(je=Qt);break}s&&je&&ot.alternate===null&&o(ue,je),ne=N(ot,ne,Be),Me===null?Oe=ot:Me.sibling=ot,Me=ot,je=Qt}if(Be===ce.length)return c(ue,je),wt&&Ms(ue,Be),Oe;if(je===null){for(;Be<ce.length;Be++)je=Ee(ue,ce[Be],Te),je!==null&&(ne=N(je,ne,Be),Me===null?Oe=je:Me.sibling=je,Me=je);return wt&&Ms(ue,Be),Oe}for(je=v(ue,je);Be<ce.length;Be++)Qt=Ie(je,ue,Be,ce[Be],Te),Qt!==null&&(s&&Qt.alternate!==null&&je.delete(Qt.key===null?Be:Qt.key),ne=N(Qt,ne,Be),Me===null?Oe=Qt:Me.sibling=Qt,Me=Qt);return s&&je.forEach(function($i){return o(ue,$i)}),wt&&Ms(ue,Be),Oe}function Ne(ue,ne,ce,Te){var Oe=Y(ce);if(typeof Oe!="function")throw Error(t(150));if(ce=Oe.call(ce),ce==null)throw Error(t(151));for(var Me=Oe=null,je=ne,Be=ne=0,Qt=null,ot=ce.next();je!==null&&!ot.done;Be++,ot=ce.next()){je.index>Be?(Qt=je,je=null):Qt=je.sibling;var $i=_e(ue,je,ot.value,Te);if($i===null){je===null&&(je=Qt);break}s&&je&&$i.alternate===null&&o(ue,je),ne=N($i,ne,Be),Me===null?Oe=$i:Me.sibling=$i,Me=$i,je=Qt}if(ot.done)return c(ue,je),wt&&Ms(ue,Be),Oe;if(je===null){for(;!ot.done;Be++,ot=ce.next())ot=Ee(ue,ot.value,Te),ot!==null&&(ne=N(ot,ne,Be),Me===null?Oe=ot:Me.sibling=ot,Me=ot);return wt&&Ms(ue,Be),Oe}for(je=v(ue,je);!ot.done;Be++,ot=ce.next())ot=Ie(je,ue,Be,ot.value,Te),ot!==null&&(s&&ot.alternate!==null&&je.delete(ot.key===null?Be:ot.key),ne=N(ot,ne,Be),Me===null?Oe=ot:Me.sibling=ot,Me=ot);return s&&je.forEach(function(Z2){return o(ue,Z2)}),wt&&Ms(ue,Be),Oe}function Nt(ue,ne,ce,Te){if(typeof ce=="object"&&ce!==null&&ce.type===R&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case O:e:{for(var Oe=ce.key,Me=ne;Me!==null;){if(Me.key===Oe){if(Oe=ce.type,Oe===R){if(Me.tag===7){c(ue,Me.sibling),ne=A(Me,ce.props.children),ne.return=ue,ue=ne;break e}}else if(Me.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ie&&B0(Oe)===Me.type){c(ue,Me.sibling),ne=A(Me,ce.props),ne.ref=pl(ue,Me,ce),ne.return=ue,ue=ne;break e}c(ue,Me);break}else o(ue,Me);Me=Me.sibling}ce.type===R?(ne=Hs(ce.props.children,ue.mode,Te,ce.key),ne.return=ue,ue=ne):(Te=Vc(ce.type,ce.key,ce.props,null,ue.mode,Te),Te.ref=pl(ue,ne,ce),Te.return=ue,ue=Te)}return B(ue);case U:e:{for(Me=ce.key;ne!==null;){if(ne.key===Me)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){c(ue,ne.sibling),ne=A(ne,ce.children||[]),ne.return=ue,ue=ne;break e}else{c(ue,ne);break}else o(ue,ne);ne=ne.sibling}ne=Zd(ce,ue.mode,Te),ne.return=ue,ue=ne}return B(ue);case ie:return Me=ce._init,Nt(ue,ne,Me(ce._payload),Te)}if(be(ce))return Ce(ue,ne,ce,Te);if(Y(ce))return Ne(ue,ne,ce,Te);pc(ue,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ne!==null&&ne.tag===6?(c(ue,ne.sibling),ne=A(ne,ce),ne.return=ue,ue=ne):(c(ue,ne),ne=Xd(ce,ue.mode,Te),ne.return=ue,ue=ne),B(ue)):c(ue,ne)}return Nt}var Go=q0(!0),z0=q0(!1),mc=Di(null),gc=null,Qo=null,ad=null;function ld(){ad=Qo=gc=null}function ud(s){var o=mc.current;yt(mc),s._currentValue=o}function cd(s,o,c){for(;s!==null;){var v=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,v!==null&&(v.childLanes|=o)):v!==null&&(v.childLanes&o)!==o&&(v.childLanes|=o),s===c)break;s=s.return}}function Yo(s,o){gc=s,ad=Qo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(In=!0),s.firstContext=null)}function Kn(s){var o=s._currentValue;if(ad!==s)if(s={context:s,memoizedValue:o,next:null},Qo===null){if(gc===null)throw Error(t(308));Qo=s,gc.dependencies={lanes:0,firstContext:s}}else Qo=Qo.next=s;return o}var js=null;function fd(s){js===null?js=[s]:js.push(s)}function H0(s,o,c,v){var A=o.interleaved;return A===null?(c.next=c,fd(o)):(c.next=A.next,A.next=c),o.interleaved=c,si(s,v)}function si(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ji=!1;function hd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function oi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Vi(s,o,c){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(it&2)!==0){var A=v.pending;return A===null?o.next=o:(o.next=A.next,A.next=o),v.pending=o,si(s,c)}return A=v.interleaved,A===null?(o.next=o,fd(v)):(o.next=A.next,A.next=o),v.interleaved=o,si(s,c)}function yc(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var v=o.lanes;v&=s.pendingLanes,c|=v,o.lanes=c,Ii(s,c)}}function W0(s,o){var c=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,c===v)){var A=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var B={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};N===null?A=N=B:N=N.next=B,c=c.next}while(c!==null);N===null?A=N=o:N=N.next=o}else A=N=o;c={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:v.shared,effects:v.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function vc(s,o,c,v){var A=s.updateQueue;ji=!1;var N=A.firstBaseUpdate,B=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var Z=Q,fe=Z.next;Z.next=null,B===null?N=fe:B.next=fe,B=Z;var we=s.alternate;we!==null&&(we=we.updateQueue,Q=we.lastBaseUpdate,Q!==B&&(Q===null?we.firstBaseUpdate=fe:Q.next=fe,we.lastBaseUpdate=Z))}if(N!==null){var Ee=A.baseState;B=0,we=fe=Z=null,Q=N;do{var _e=Q.lane,Ie=Q.eventTime;if((v&_e)===_e){we!==null&&(we=we.next={eventTime:Ie,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Ce=s,Ne=Q;switch(_e=o,Ie=c,Ne.tag){case 1:if(Ce=Ne.payload,typeof Ce=="function"){Ee=Ce.call(Ie,Ee,_e);break e}Ee=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ne.payload,_e=typeof Ce=="function"?Ce.call(Ie,Ee,_e):Ce,_e==null)break e;Ee=W({},Ee,_e);break e;case 2:ji=!0}}Q.callback!==null&&Q.lane!==0&&(s.flags|=64,_e=A.effects,_e===null?A.effects=[Q]:_e.push(Q))}else Ie={eventTime:Ie,lane:_e,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},we===null?(fe=we=Ie,Z=Ee):we=we.next=Ie,B|=_e;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;_e=Q,Q=_e.next,_e.next=null,A.lastBaseUpdate=_e,A.shared.pending=null}}while(!0);if(we===null&&(Z=Ee),A.baseState=Z,A.firstBaseUpdate=fe,A.lastBaseUpdate=we,o=A.shared.interleaved,o!==null){A=o;do B|=A.lane,A=A.next;while(A!==o)}else N===null&&(A.shared.lanes=0);Us|=B,s.lanes=B,s.memoizedState=Ee}}function K0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var v=s[o],A=v.callback;if(A!==null){if(v.callback=null,v=c,typeof A!="function")throw Error(t(191,A));A.call(v)}}}var ml={},Cr=Di(ml),gl=Di(ml),yl=Di(ml);function Vs(s){if(s===ml)throw Error(t(174));return s}function dd(s,o){switch(dt(yl,o),dt(gl,s),dt(Cr,ml),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=lt(o,s)}yt(Cr),dt(Cr,o)}function Xo(){yt(Cr),yt(gl),yt(yl)}function G0(s){Vs(yl.current);var o=Vs(Cr.current),c=lt(o,s.type);o!==c&&(dt(gl,s),dt(Cr,c))}function pd(s){gl.current===s&&(yt(Cr),yt(gl))}var Et=Di(0);function _c(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var md=[];function gd(){for(var s=0;s<md.length;s++)md[s]._workInProgressVersionPrimary=null;md.length=0}var wc=x.ReactCurrentDispatcher,yd=x.ReactCurrentBatchConfig,Fs=0,Tt=null,zt=null,Kt=null,Ec=!1,vl=!1,_l=0,w2=0;function ln(){throw Error(t(321))}function vd(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!fr(s[c],o[c]))return!1;return!0}function _d(s,o,c,v,A,N){if(Fs=N,Tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,wc.current=s===null||s.memoizedState===null?x2:A2,s=c(v,A),vl){N=0;do{if(vl=!1,_l=0,25<=N)throw Error(t(301));N+=1,Kt=zt=null,o.updateQueue=null,wc.current=S2,s=c(v,A)}while(vl)}if(wc.current=xc,o=zt!==null&&zt.next!==null,Fs=0,Kt=zt=Tt=null,Ec=!1,o)throw Error(t(300));return s}function wd(){var s=_l!==0;return _l=0,s}function Nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Tt.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function Gn(){if(zt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var o=Kt===null?Tt.memoizedState:Kt.next;if(o!==null)Kt=o,zt=s;else{if(s===null)throw Error(t(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?Tt.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function wl(s,o){return typeof o=="function"?o(s):o}function Ed(s){var o=Gn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var v=zt,A=v.baseQueue,N=c.pending;if(N!==null){if(A!==null){var B=A.next;A.next=N.next,N.next=B}v.baseQueue=A=N,c.pending=null}if(A!==null){N=A.next,v=v.baseState;var Q=B=null,Z=null,fe=N;do{var we=fe.lane;if((Fs&we)===we)Z!==null&&(Z=Z.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),v=fe.hasEagerState?fe.eagerState:s(v,fe.action);else{var Ee={lane:we,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};Z===null?(Q=Z=Ee,B=v):Z=Z.next=Ee,Tt.lanes|=we,Us|=we}fe=fe.next}while(fe!==null&&fe!==N);Z===null?B=v:Z.next=Q,fr(v,o.memoizedState)||(In=!0),o.memoizedState=v,o.baseState=B,o.baseQueue=Z,c.lastRenderedState=v}if(s=c.interleaved,s!==null){A=s;do N=A.lane,Tt.lanes|=N,Us|=N,A=A.next;while(A!==s)}else A===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Td(s){var o=Gn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var v=c.dispatch,A=c.pending,N=o.memoizedState;if(A!==null){c.pending=null;var B=A=A.next;do N=s(N,B.action),B=B.next;while(B!==A);fr(N,o.memoizedState)||(In=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),c.lastRenderedState=N}return[N,v]}function Q0(){}function Y0(s,o){var c=Tt,v=Gn(),A=o(),N=!fr(v.memoizedState,A);if(N&&(v.memoizedState=A,In=!0),v=v.queue,bd(J0.bind(null,c,v,s),[s]),v.getSnapshot!==o||N||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,El(9,Z0.bind(null,c,v,A,o),void 0,null),Gt===null)throw Error(t(349));(Fs&30)!==0||X0(c,o,A)}return A}function X0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Tt.updateQueue,o===null?(o={lastEffect:null,stores:null},Tt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Z0(s,o,c,v){o.value=c,o.getSnapshot=v,e_(o)&&t_(s)}function J0(s,o,c){return c(function(){e_(o)&&t_(s)})}function e_(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!fr(s,c)}catch{return!0}}function t_(s){var o=si(s,1);o!==null&&gr(o,s,1,-1)}function n_(s){var o=Nr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:s},o.queue=s,s=s.dispatch=b2.bind(null,Tt,s),[o.memoizedState,s]}function El(s,o,c,v){return s={tag:s,create:o,destroy:c,deps:v,next:null},o=Tt.updateQueue,o===null?(o={lastEffect:null,stores:null},Tt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(v=c.next,c.next=s,s.next=v,o.lastEffect=s)),s}function r_(){return Gn().memoizedState}function Tc(s,o,c,v){var A=Nr();Tt.flags|=s,A.memoizedState=El(1|o,c,void 0,v===void 0?null:v)}function bc(s,o,c,v){var A=Gn();v=v===void 0?null:v;var N=void 0;if(zt!==null){var B=zt.memoizedState;if(N=B.destroy,v!==null&&vd(v,B.deps)){A.memoizedState=El(o,c,N,v);return}}Tt.flags|=s,A.memoizedState=El(1|o,c,N,v)}function i_(s,o){return Tc(8390656,8,s,o)}function bd(s,o){return bc(2048,8,s,o)}function s_(s,o){return bc(4,2,s,o)}function o_(s,o){return bc(4,4,s,o)}function a_(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function l_(s,o,c){return c=c!=null?c.concat([s]):null,bc(4,4,a_.bind(null,o,s),c)}function xd(){}function u_(s,o){var c=Gn();o=o===void 0?null:o;var v=c.memoizedState;return v!==null&&o!==null&&vd(o,v[1])?v[0]:(c.memoizedState=[s,o],s)}function c_(s,o){var c=Gn();o=o===void 0?null:o;var v=c.memoizedState;return v!==null&&o!==null&&vd(o,v[1])?v[0]:(s=s(),c.memoizedState=[s,o],s)}function f_(s,o,c){return(Fs&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=c):(fr(c,o)||(c=ks(),Tt.lanes|=c,Us|=c,s.baseState=!0),o)}function E2(s,o){var c=et;et=c!==0&&4>c?c:4,s(!0);var v=yd.transition;yd.transition={};try{s(!1),o()}finally{et=c,yd.transition=v}}function h_(){return Gn().memoizedState}function T2(s,o,c){var v=qi(s);if(c={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null},d_(s))p_(o,c);else if(c=H0(s,o,c,v),c!==null){var A=wn();gr(c,s,v,A),m_(c,o,v)}}function b2(s,o,c){var v=qi(s),A={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null};if(d_(s))p_(o,A);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var B=o.lastRenderedState,Q=N(B,c);if(A.hasEagerState=!0,A.eagerState=Q,fr(Q,B)){var Z=o.interleaved;Z===null?(A.next=A,fd(o)):(A.next=Z.next,Z.next=A),o.interleaved=A;return}}catch{}finally{}c=H0(s,o,A,v),c!==null&&(A=wn(),gr(c,s,v,A),m_(c,o,v))}}function d_(s){var o=s.alternate;return s===Tt||o!==null&&o===Tt}function p_(s,o){vl=Ec=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function m_(s,o,c){if((c&4194240)!==0){var v=o.lanes;v&=s.pendingLanes,c|=v,o.lanes=c,Ii(s,c)}}var xc={readContext:Kn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},x2={readContext:Kn,useCallback:function(s,o){return Nr().memoizedState=[s,o===void 0?null:o],s},useContext:Kn,useEffect:i_,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Tc(4194308,4,a_.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Tc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Tc(4,2,s,o)},useMemo:function(s,o){var c=Nr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var v=Nr();return o=c!==void 0?c(o):o,v.memoizedState=v.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},v.queue=s,s=s.dispatch=T2.bind(null,Tt,s),[v.memoizedState,s]},useRef:function(s){var o=Nr();return s={current:s},o.memoizedState=s},useState:n_,useDebugValue:xd,useDeferredValue:function(s){return Nr().memoizedState=s},useTransition:function(){var s=n_(!1),o=s[0];return s=E2.bind(null,s[1]),Nr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var v=Tt,A=Nr();if(wt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Gt===null)throw Error(t(349));(Fs&30)!==0||X0(v,o,c)}A.memoizedState=c;var N={value:c,getSnapshot:o};return A.queue=N,i_(J0.bind(null,v,N,s),[s]),v.flags|=2048,El(9,Z0.bind(null,v,N,c,o),void 0,null),c},useId:function(){var s=Nr(),o=Gt.identifierPrefix;if(wt){var c=ii,v=ri;c=(v&~(1<<32-yn(v)-1)).toString(32)+c,o=":"+o+"R"+c,c=_l++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=w2++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},A2={readContext:Kn,useCallback:u_,useContext:Kn,useEffect:bd,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:o_,useMemo:c_,useReducer:Ed,useRef:r_,useState:function(){return Ed(wl)},useDebugValue:xd,useDeferredValue:function(s){var o=Gn();return f_(o,zt.memoizedState,s)},useTransition:function(){var s=Ed(wl)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:h_,unstable_isNewReconciler:!1},S2={readContext:Kn,useCallback:u_,useContext:Kn,useEffect:bd,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:o_,useMemo:c_,useReducer:Td,useRef:r_,useState:function(){return Td(wl)},useDebugValue:xd,useDeferredValue:function(s){var o=Gn();return zt===null?o.memoizedState=s:f_(o,zt.memoizedState,s)},useTransition:function(){var s=Td(wl)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:h_,unstable_isNewReconciler:!1};function dr(s,o){if(s&&s.defaultProps){o=W({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Ad(s,o,c,v){o=s.memoizedState,c=c(v,o),c=c==null?o:W({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ac={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var v=wn(),A=qi(s),N=oi(v,A);N.payload=o,c!=null&&(N.callback=c),o=Vi(s,N,A),o!==null&&(gr(o,s,A,v),yc(o,s,A))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var v=wn(),A=qi(s),N=oi(v,A);N.tag=1,N.payload=o,c!=null&&(N.callback=c),o=Vi(s,N,A),o!==null&&(gr(o,s,A,v),yc(o,s,A))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=wn(),v=qi(s),A=oi(c,v);A.tag=2,o!=null&&(A.callback=o),o=Vi(s,A,v),o!==null&&(gr(o,s,v,c),yc(o,s,v))}};function g_(s,o,c,v,A,N,B){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,N,B):o.prototype&&o.prototype.isPureReactComponent?!al(c,v)||!al(A,N):!0}function y_(s,o,c){var v=!1,A=Li,N=o.contextType;return typeof N=="object"&&N!==null?N=Kn(N):(A=Sn(o)?Ds:an.current,v=o.contextTypes,N=(v=v!=null)?Ho(s,A):Li),o=new o(c,N),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ac,s.stateNode=o,o._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=A,s.__reactInternalMemoizedMaskedChildContext=N),o}function v_(s,o,c,v){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,v),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,v),o.state!==s&&Ac.enqueueReplaceState(o,o.state,null)}function Sd(s,o,c,v){var A=s.stateNode;A.props=c,A.state=s.memoizedState,A.refs={},hd(s);var N=o.contextType;typeof N=="object"&&N!==null?A.context=Kn(N):(N=Sn(o)?Ds:an.current,A.context=Ho(s,N)),A.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Ad(s,o,N,c),A.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(o=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),o!==A.state&&Ac.enqueueReplaceState(A,A.state,null),vc(s,c,A,v),A.state=s.memoizedState),typeof A.componentDidMount=="function"&&(s.flags|=4194308)}function Zo(s,o){try{var c="",v=o;do c+=J(v),v=v.return;while(v);var A=c}catch(N){A=`
Error generating stack: `+N.message+`
`+N.stack}return{value:s,source:o,stack:A,digest:null}}function Id(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function kd(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var I2=typeof WeakMap=="function"?WeakMap:Map;function __(s,o,c){c=oi(-1,c),c.tag=3,c.payload={element:null};var v=o.value;return c.callback=function(){Nc||(Nc=!0,zd=v),kd(s,o)},c}function w_(s,o,c){c=oi(-1,c),c.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var A=o.value;c.payload=function(){return v(A)},c.callback=function(){kd(s,o)}}var N=s.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(c.callback=function(){kd(s,o),typeof v!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var B=o.stack;this.componentDidCatch(o.value,{componentStack:B!==null?B:""})}),c}function E_(s,o,c){var v=s.pingCache;if(v===null){v=s.pingCache=new I2;var A=new Set;v.set(o,A)}else A=v.get(o),A===void 0&&(A=new Set,v.set(o,A));A.has(c)||(A.add(c),s=B2.bind(null,s,o,c),o.then(s,s))}function T_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function b_(s,o,c,v,A){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=oi(-1,1),o.tag=2,Vi(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=A,s)}var k2=x.ReactCurrentOwner,In=!1;function _n(s,o,c,v){o.child=s===null?z0(o,null,c,v):Go(o,s.child,c,v)}function x_(s,o,c,v,A){c=c.render;var N=o.ref;return Yo(o,A),v=_d(s,o,c,v,N,A),c=wd(),s!==null&&!In?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~A,ai(s,o,A)):(wt&&c&&nd(o),o.flags|=1,_n(s,o,v,A),o.child)}function A_(s,o,c,v,A){if(s===null){var N=c.type;return typeof N=="function"&&!Yd(N)&&N.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=N,S_(s,o,N,v,A)):(s=Vc(c.type,null,v,o,o.mode,A),s.ref=o.ref,s.return=o,o.child=s)}if(N=s.child,(s.lanes&A)===0){var B=N.memoizedProps;if(c=c.compare,c=c!==null?c:al,c(B,v)&&s.ref===o.ref)return ai(s,o,A)}return o.flags|=1,s=Hi(N,v),s.ref=o.ref,s.return=o,o.child=s}function S_(s,o,c,v,A){if(s!==null){var N=s.memoizedProps;if(al(N,v)&&s.ref===o.ref)if(In=!1,o.pendingProps=v=N,(s.lanes&A)!==0)(s.flags&131072)!==0&&(In=!0);else return o.lanes=s.lanes,ai(s,o,A)}return Rd(s,o,c,v,A)}function I_(s,o,c){var v=o.pendingProps,A=v.children,N=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(ea,Fn),Fn|=c;else{if((c&1073741824)===0)return s=N!==null?N.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,dt(ea,Fn),Fn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=N!==null?N.baseLanes:c,dt(ea,Fn),Fn|=v}else N!==null?(v=N.baseLanes|c,o.memoizedState=null):v=c,dt(ea,Fn),Fn|=v;return _n(s,o,A,c),o.child}function k_(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Rd(s,o,c,v,A){var N=Sn(c)?Ds:an.current;return N=Ho(o,N),Yo(o,A),c=_d(s,o,c,v,N,A),v=wd(),s!==null&&!In?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~A,ai(s,o,A)):(wt&&v&&nd(o),o.flags|=1,_n(s,o,c,A),o.child)}function R_(s,o,c,v,A){if(Sn(c)){var N=!0;uc(o)}else N=!1;if(Yo(o,A),o.stateNode===null)Ic(s,o),y_(o,c,v),Sd(o,c,v,A),v=!0;else if(s===null){var B=o.stateNode,Q=o.memoizedProps;B.props=Q;var Z=B.context,fe=c.contextType;typeof fe=="object"&&fe!==null?fe=Kn(fe):(fe=Sn(c)?Ds:an.current,fe=Ho(o,fe));var we=c.getDerivedStateFromProps,Ee=typeof we=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ee||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Q!==v||Z!==fe)&&v_(o,B,v,fe),ji=!1;var _e=o.memoizedState;B.state=_e,vc(o,v,B,A),Z=o.memoizedState,Q!==v||_e!==Z||An.current||ji?(typeof we=="function"&&(Ad(o,c,we,v),Z=o.memoizedState),(Q=ji||g_(o,c,Q,v,_e,Z,fe))?(Ee||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(o.flags|=4194308)):(typeof B.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=v,o.memoizedState=Z),B.props=v,B.state=Z,B.context=fe,v=Q):(typeof B.componentDidMount=="function"&&(o.flags|=4194308),v=!1)}else{B=o.stateNode,$0(s,o),Q=o.memoizedProps,fe=o.type===o.elementType?Q:dr(o.type,Q),B.props=fe,Ee=o.pendingProps,_e=B.context,Z=c.contextType,typeof Z=="object"&&Z!==null?Z=Kn(Z):(Z=Sn(c)?Ds:an.current,Z=Ho(o,Z));var Ie=c.getDerivedStateFromProps;(we=typeof Ie=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Q!==Ee||_e!==Z)&&v_(o,B,v,Z),ji=!1,_e=o.memoizedState,B.state=_e,vc(o,v,B,A);var Ce=o.memoizedState;Q!==Ee||_e!==Ce||An.current||ji?(typeof Ie=="function"&&(Ad(o,c,Ie,v),Ce=o.memoizedState),(fe=ji||g_(o,c,fe,v,_e,Ce,Z)||!1)?(we||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(v,Ce,Z),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(v,Ce,Z)),typeof B.componentDidUpdate=="function"&&(o.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof B.componentDidUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(o.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(o.flags|=1024),o.memoizedProps=v,o.memoizedState=Ce),B.props=v,B.state=Ce,B.context=Z,v=fe):(typeof B.componentDidUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(o.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(o.flags|=1024),v=!1)}return Pd(s,o,c,v,N,A)}function Pd(s,o,c,v,A,N){k_(s,o);var B=(o.flags&128)!==0;if(!v&&!B)return A&&D0(o,c,!1),ai(s,o,N);v=o.stateNode,k2.current=o;var Q=B&&typeof c.getDerivedStateFromError!="function"?null:v.render();return o.flags|=1,s!==null&&B?(o.child=Go(o,s.child,null,N),o.child=Go(o,null,Q,N)):_n(s,o,Q,N),o.memoizedState=v.state,A&&D0(o,c,!0),o.child}function P_(s){var o=s.stateNode;o.pendingContext?N0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&N0(s,o.context,!1),dd(s,o.containerInfo)}function C_(s,o,c,v,A){return Ko(),od(A),o.flags|=256,_n(s,o,c,v),o.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Nd(s){return{baseLanes:s,cachePool:null,transitions:null}}function N_(s,o,c){var v=o.pendingProps,A=Et.current,N=!1,B=(o.flags&128)!==0,Q;if((Q=B)||(Q=s!==null&&s.memoizedState===null?!1:(A&2)!==0),Q?(N=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(A|=1),dt(Et,A&1),s===null)return sd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(B=v.children,s=v.fallback,N?(v=o.mode,N=o.child,B={mode:"hidden",children:B},(v&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=B):N=Fc(B,v,0,null),s=Hs(s,v,c,null),N.return=o,s.return=o,N.sibling=s,o.child=N,o.child.memoizedState=Nd(c),o.memoizedState=Cd,s):Od(o,B));if(A=s.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return R2(s,o,B,v,Q,A,c);if(N){N=v.fallback,B=o.mode,A=s.child,Q=A.sibling;var Z={mode:"hidden",children:v.children};return(B&1)===0&&o.child!==A?(v=o.child,v.childLanes=0,v.pendingProps=Z,o.deletions=null):(v=Hi(A,Z),v.subtreeFlags=A.subtreeFlags&14680064),Q!==null?N=Hi(Q,N):(N=Hs(N,B,c,null),N.flags|=2),N.return=o,v.return=o,v.sibling=N,o.child=v,v=N,N=o.child,B=s.child.memoizedState,B=B===null?Nd(c):{baseLanes:B.baseLanes|c,cachePool:null,transitions:B.transitions},N.memoizedState=B,N.childLanes=s.childLanes&~c,o.memoizedState=Cd,v}return N=s.child,s=N.sibling,v=Hi(N,{mode:"visible",children:v.children}),(o.mode&1)===0&&(v.lanes=c),v.return=o,v.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=v,o.memoizedState=null,v}function Od(s,o){return o=Fc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Sc(s,o,c,v){return v!==null&&od(v),Go(o,s.child,null,c),s=Od(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function R2(s,o,c,v,A,N,B){if(c)return o.flags&256?(o.flags&=-257,v=Id(Error(t(422))),Sc(s,o,B,v)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(N=v.fallback,A=o.mode,v=Fc({mode:"visible",children:v.children},A,0,null),N=Hs(N,A,B,null),N.flags|=2,v.return=o,N.return=o,v.sibling=N,o.child=v,(o.mode&1)!==0&&Go(o,s.child,null,B),o.child.memoizedState=Nd(B),o.memoizedState=Cd,N);if((o.mode&1)===0)return Sc(s,o,B,null);if(A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var Q=v.dgst;return v=Q,N=Error(t(419)),v=Id(N,v,void 0),Sc(s,o,B,v)}if(Q=(B&s.childLanes)!==0,In||Q){if(v=Gt,v!==null){switch(B&-B){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(v.suspendedLanes|B))!==0?0:A,A!==0&&A!==N.retryLane&&(N.retryLane=A,si(s,A),gr(v,s,A,-1))}return Qd(),v=Id(Error(t(421))),Sc(s,o,B,v)}return A.data==="$?"?(o.flags|=128,o.child=s.child,o=q2.bind(null,s),A._reactRetry=o,null):(s=N.treeContext,Vn=Oi(A.nextSibling),jn=o,wt=!0,hr=null,s!==null&&($n[Wn++]=ri,$n[Wn++]=ii,$n[Wn++]=Ls,ri=s.id,ii=s.overflow,Ls=o),o=Od(o,v.children),o.flags|=4096,o)}function O_(s,o,c){s.lanes|=o;var v=s.alternate;v!==null&&(v.lanes|=o),cd(s.return,o,c)}function Dd(s,o,c,v,A){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:v,tail:c,tailMode:A}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=v,N.tail=c,N.tailMode=A)}function D_(s,o,c){var v=o.pendingProps,A=v.revealOrder,N=v.tail;if(_n(s,o,v.children,c),v=Et.current,(v&2)!==0)v=v&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&O_(s,c,o);else if(s.tag===19)O_(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(dt(Et,v),(o.mode&1)===0)o.memoizedState=null;else switch(A){case"forwards":for(c=o.child,A=null;c!==null;)s=c.alternate,s!==null&&_c(s)===null&&(A=c),c=c.sibling;c=A,c===null?(A=o.child,o.child=null):(A=c.sibling,c.sibling=null),Dd(o,!1,A,c,N);break;case"backwards":for(c=null,A=o.child,o.child=null;A!==null;){if(s=A.alternate,s!==null&&_c(s)===null){o.child=A;break}s=A.sibling,A.sibling=c,c=A,A=s}Dd(o,!0,c,null,N);break;case"together":Dd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ic(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ai(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Us|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=Hi(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Hi(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function P2(s,o,c){switch(o.tag){case 3:P_(o),Ko();break;case 5:G0(o);break;case 1:Sn(o.type)&&uc(o);break;case 4:dd(o,o.stateNode.containerInfo);break;case 10:var v=o.type._context,A=o.memoizedProps.value;dt(mc,v._currentValue),v._currentValue=A;break;case 13:if(v=o.memoizedState,v!==null)return v.dehydrated!==null?(dt(Et,Et.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?N_(s,o,c):(dt(Et,Et.current&1),s=ai(s,o,c),s!==null?s.sibling:null);dt(Et,Et.current&1);break;case 19:if(v=(c&o.childLanes)!==0,(s.flags&128)!==0){if(v)return D_(s,o,c);o.flags|=128}if(A=o.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),dt(Et,Et.current),v)break;return null;case 22:case 23:return o.lanes=0,I_(s,o,c)}return ai(s,o,c)}var L_,Ld,M_,j_;L_=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ld=function(){},M_=function(s,o,c,v){var A=s.memoizedProps;if(A!==v){s=o.stateNode,Vs(Cr.current);var N=null;switch(c){case"input":A=Ke(s,A),v=Ke(s,v),N=[];break;case"select":A=W({},A,{value:void 0}),v=W({},v,{value:void 0}),N=[];break;case"textarea":A=ve(s,A),v=ve(s,v),N=[];break;default:typeof A.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=oc)}qa(c,v);var B;c=null;for(fe in A)if(!v.hasOwnProperty(fe)&&A.hasOwnProperty(fe)&&A[fe]!=null)if(fe==="style"){var Q=A[fe];for(B in Q)Q.hasOwnProperty(B)&&(c||(c={}),c[B]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(i.hasOwnProperty(fe)?N||(N=[]):(N=N||[]).push(fe,null));for(fe in v){var Z=v[fe];if(Q=A!=null?A[fe]:void 0,v.hasOwnProperty(fe)&&Z!==Q&&(Z!=null||Q!=null))if(fe==="style")if(Q){for(B in Q)!Q.hasOwnProperty(B)||Z&&Z.hasOwnProperty(B)||(c||(c={}),c[B]="");for(B in Z)Z.hasOwnProperty(B)&&Q[B]!==Z[B]&&(c||(c={}),c[B]=Z[B])}else c||(N||(N=[]),N.push(fe,c)),c=Z;else fe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Q=Q?Q.__html:void 0,Z!=null&&Q!==Z&&(N=N||[]).push(fe,Z)):fe==="children"?typeof Z!="string"&&typeof Z!="number"||(N=N||[]).push(fe,""+Z):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(fe)?(Z!=null&&fe==="onScroll"&&gt("scroll",s),N||Q===Z||(N=[])):(N=N||[]).push(fe,Z))}c&&(N=N||[]).push("style",c);var fe=N;(o.updateQueue=fe)&&(o.flags|=4)}},j_=function(s,o,c,v){c!==v&&(o.flags|=4)};function Tl(s,o){if(!wt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var v=null;c!==null;)c.alternate!==null&&(v=c),c=c.sibling;v===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function un(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,v=0;if(o)for(var A=s.child;A!==null;)c|=A.lanes|A.childLanes,v|=A.subtreeFlags&14680064,v|=A.flags&14680064,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)c|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=v,s.childLanes=c,o}function C2(s,o,c){var v=o.pendingProps;switch(rd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(o),null;case 1:return Sn(o.type)&&lc(),un(o),null;case 3:return v=o.stateNode,Xo(),yt(An),yt(an),gd(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(dc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hr!==null&&(Wd(hr),hr=null))),Ld(s,o),un(o),null;case 5:pd(o);var A=Vs(yl.current);if(c=o.type,s!==null&&o.stateNode!=null)M_(s,o,c,v,A),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!v){if(o.stateNode===null)throw Error(t(166));return un(o),null}if(s=Vs(Cr.current),dc(o)){v=o.stateNode,c=o.type;var N=o.memoizedProps;switch(v[Pr]=o,v[hl]=N,s=(o.mode&1)!==0,c){case"dialog":gt("cancel",v),gt("close",v);break;case"iframe":case"object":case"embed":gt("load",v);break;case"video":case"audio":for(A=0;A<ul.length;A++)gt(ul[A],v);break;case"source":gt("error",v);break;case"img":case"image":case"link":gt("error",v),gt("load",v);break;case"details":gt("toggle",v);break;case"input":Xe(v,N),gt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!N.multiple},gt("invalid",v);break;case"textarea":ze(v,N),gt("invalid",v)}qa(c,N),A=null;for(var B in N)if(N.hasOwnProperty(B)){var Q=N[B];B==="children"?typeof Q=="string"?v.textContent!==Q&&(N.suppressHydrationWarning!==!0&&sc(v.textContent,Q,s),A=["children",Q]):typeof Q=="number"&&v.textContent!==""+Q&&(N.suppressHydrationWarning!==!0&&sc(v.textContent,Q,s),A=["children",""+Q]):i.hasOwnProperty(B)&&Q!=null&&B==="onScroll"&&gt("scroll",v)}switch(c){case"input":Se(v),de(v,N,!0);break;case"textarea":Se(v),Ge(v);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(v.onclick=oc)}v=A,o.updateQueue=v,v!==null&&(o.flags|=4)}else{B=A.nodeType===9?A:A.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=st(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=B.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=B.createElement(c,{is:v.is}):(s=B.createElement(c),c==="select"&&(B=s,v.multiple?B.multiple=!0:v.size&&(B.size=v.size))):s=B.createElementNS(s,c),s[Pr]=o,s[hl]=v,L_(s,o,!1,!1),o.stateNode=s;e:{switch(B=za(c,v),c){case"dialog":gt("cancel",s),gt("close",s),A=v;break;case"iframe":case"object":case"embed":gt("load",s),A=v;break;case"video":case"audio":for(A=0;A<ul.length;A++)gt(ul[A],s);A=v;break;case"source":gt("error",s),A=v;break;case"img":case"image":case"link":gt("error",s),gt("load",s),A=v;break;case"details":gt("toggle",s),A=v;break;case"input":Xe(s,v),A=Ke(s,v),gt("invalid",s);break;case"option":A=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},A=W({},v,{value:void 0}),gt("invalid",s);break;case"textarea":ze(s,v),A=ve(s,v),gt("invalid",s);break;default:A=v}qa(c,A),Q=A;for(N in Q)if(Q.hasOwnProperty(N)){var Z=Q[N];N==="style"?Ua(s,Z):N==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&vs(s,Z)):N==="children"?typeof Z=="string"?(c!=="textarea"||Z!=="")&&ut(s,Z):typeof Z=="number"&&ut(s,""+Z):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?Z!=null&&N==="onScroll"&&gt("scroll",s):Z!=null&&S(s,N,Z,B))}switch(c){case"input":Se(s),de(s,v,!1);break;case"textarea":Se(s),Ge(s);break;case"option":v.value!=null&&s.setAttribute("value",""+oe(v.value));break;case"select":s.multiple=!!v.multiple,N=v.value,N!=null?Ae(s,!!v.multiple,N,!1):v.defaultValue!=null&&Ae(s,!!v.multiple,v.defaultValue,!0);break;default:typeof A.onClick=="function"&&(s.onclick=oc)}switch(c){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return un(o),null;case 6:if(s&&o.stateNode!=null)j_(s,o,s.memoizedProps,v);else{if(typeof v!="string"&&o.stateNode===null)throw Error(t(166));if(c=Vs(yl.current),Vs(Cr.current),dc(o)){if(v=o.stateNode,c=o.memoizedProps,v[Pr]=o,(N=v.nodeValue!==c)&&(s=jn,s!==null))switch(s.tag){case 3:sc(v.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&sc(v.nodeValue,c,(s.mode&1)!==0)}N&&(o.flags|=4)}else v=(c.nodeType===9?c:c.ownerDocument).createTextNode(v),v[Pr]=o,o.stateNode=v}return un(o),null;case 13:if(yt(Et),v=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&Vn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)U0(),Ko(),o.flags|=98560,N=!1;else if(N=dc(o),v!==null&&v.dehydrated!==null){if(s===null){if(!N)throw Error(t(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[Pr]=o}else Ko(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;un(o),N=!1}else hr!==null&&(Wd(hr),hr=null),N=!0;if(!N)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Et.current&1)!==0?Ht===0&&(Ht=3):Qd())),o.updateQueue!==null&&(o.flags|=4),un(o),null);case 4:return Xo(),Ld(s,o),s===null&&cl(o.stateNode.containerInfo),un(o),null;case 10:return ud(o.type._context),un(o),null;case 17:return Sn(o.type)&&lc(),un(o),null;case 19:if(yt(Et),N=o.memoizedState,N===null)return un(o),null;if(v=(o.flags&128)!==0,B=N.rendering,B===null)if(v)Tl(N,!1);else{if(Ht!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(B=_c(s),B!==null){for(o.flags|=128,Tl(N,!1),v=B.updateQueue,v!==null&&(o.updateQueue=v,o.flags|=4),o.subtreeFlags=0,v=c,c=o.child;c!==null;)N=c,s=v,N.flags&=14680066,B=N.alternate,B===null?(N.childLanes=0,N.lanes=s,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=B.childLanes,N.lanes=B.lanes,N.child=B.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=B.memoizedProps,N.memoizedState=B.memoizedState,N.updateQueue=B.updateQueue,N.type=B.type,s=B.dependencies,N.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return dt(Et,Et.current&1|2),o.child}s=s.sibling}N.tail!==null&&ht()>ta&&(o.flags|=128,v=!0,Tl(N,!1),o.lanes=4194304)}else{if(!v)if(s=_c(B),s!==null){if(o.flags|=128,v=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Tl(N,!0),N.tail===null&&N.tailMode==="hidden"&&!B.alternate&&!wt)return un(o),null}else 2*ht()-N.renderingStartTime>ta&&c!==1073741824&&(o.flags|=128,v=!0,Tl(N,!1),o.lanes=4194304);N.isBackwards?(B.sibling=o.child,o.child=B):(c=N.last,c!==null?c.sibling=B:o.child=B,N.last=B)}return N.tail!==null?(o=N.tail,N.rendering=o,N.tail=o.sibling,N.renderingStartTime=ht(),o.sibling=null,c=Et.current,dt(Et,v?c&1|2:c&1),o):(un(o),null);case 22:case 23:return Gd(),v=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(o.flags|=8192),v&&(o.mode&1)!==0?(Fn&1073741824)!==0&&(un(o),o.subtreeFlags&6&&(o.flags|=8192)):un(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function N2(s,o){switch(rd(o),o.tag){case 1:return Sn(o.type)&&lc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Xo(),yt(An),yt(an),gd(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return pd(o),null;case 13:if(yt(Et),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ko()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return yt(Et),null;case 4:return Xo(),null;case 10:return ud(o.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var kc=!1,cn=!1,O2=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Jo(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(v){It(s,o,v)}else c.current=null}function Md(s,o,c){try{c()}catch(v){It(s,o,v)}}var V_=!1;function D2(s,o){if(Gh=Pi,s=g0(),Uh(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var v=c.getSelection&&c.getSelection();if(v&&v.rangeCount!==0){c=v.anchorNode;var A=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var B=0,Q=-1,Z=-1,fe=0,we=0,Ee=s,_e=null;t:for(;;){for(var Ie;Ee!==c||A!==0&&Ee.nodeType!==3||(Q=B+A),Ee!==N||v!==0&&Ee.nodeType!==3||(Z=B+v),Ee.nodeType===3&&(B+=Ee.nodeValue.length),(Ie=Ee.firstChild)!==null;)_e=Ee,Ee=Ie;for(;;){if(Ee===s)break t;if(_e===c&&++fe===A&&(Q=B),_e===N&&++we===v&&(Z=B),(Ie=Ee.nextSibling)!==null)break;Ee=_e,_e=Ee.parentNode}Ee=Ie}c=Q===-1||Z===-1?null:{start:Q,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Qh={focusedElem:s,selectionRange:c},Pi=!1,Re=o;Re!==null;)if(o=Re,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Re=s;else for(;Re!==null;){o=Re;try{var Ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ne=Ce.memoizedProps,Nt=Ce.memoizedState,ue=o.stateNode,ne=ue.getSnapshotBeforeUpdate(o.elementType===o.type?Ne:dr(o.type,Ne),Nt);ue.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ce=o.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){It(o,o.return,Te)}if(s=o.sibling,s!==null){s.return=o.return,Re=s;break}Re=o.return}return Ce=V_,V_=!1,Ce}function bl(s,o,c){var v=o.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var A=v=v.next;do{if((A.tag&s)===s){var N=A.destroy;A.destroy=void 0,N!==void 0&&Md(o,c,N)}A=A.next}while(A!==v)}}function Rc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var v=c.create;c.destroy=v()}c=c.next}while(c!==o)}}function jd(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function F_(s){var o=s.alternate;o!==null&&(s.alternate=null,F_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Pr],delete o[hl],delete o[Jh],delete o[g2],delete o[y2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function U_(s){return s.tag===5||s.tag===3||s.tag===4}function B_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||U_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vd(s,o,c){var v=s.tag;if(v===5||v===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=oc));else if(v!==4&&(s=s.child,s!==null))for(Vd(s,o,c),s=s.sibling;s!==null;)Vd(s,o,c),s=s.sibling}function Fd(s,o,c){var v=s.tag;if(v===5||v===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(Fd(s,o,c),s=s.sibling;s!==null;)Fd(s,o,c),s=s.sibling}var Jt=null,pr=!1;function Fi(s,o,c){for(c=c.child;c!==null;)q_(s,o,c),c=c.sibling}function q_(s,o,c){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Ss,c)}catch{}switch(c.tag){case 5:cn||Jo(c,o);case 6:var v=Jt,A=pr;Jt=null,Fi(s,o,c),Jt=v,pr=A,Jt!==null&&(pr?(s=Jt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Jt.removeChild(c.stateNode));break;case 18:Jt!==null&&(pr?(s=Jt,c=c.stateNode,s.nodeType===8?Zh(s.parentNode,c):s.nodeType===1&&Zh(s,c),ur(s)):Zh(Jt,c.stateNode));break;case 4:v=Jt,A=pr,Jt=c.stateNode.containerInfo,pr=!0,Fi(s,o,c),Jt=v,pr=A;break;case 0:case 11:case 14:case 15:if(!cn&&(v=c.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){A=v=v.next;do{var N=A,B=N.destroy;N=N.tag,B!==void 0&&((N&2)!==0||(N&4)!==0)&&Md(c,o,B),A=A.next}while(A!==v)}Fi(s,o,c);break;case 1:if(!cn&&(Jo(c,o),v=c.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=c.memoizedProps,v.state=c.memoizedState,v.componentWillUnmount()}catch(Q){It(c,o,Q)}Fi(s,o,c);break;case 21:Fi(s,o,c);break;case 22:c.mode&1?(cn=(v=cn)||c.memoizedState!==null,Fi(s,o,c),cn=v):Fi(s,o,c);break;default:Fi(s,o,c)}}function z_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new O2),o.forEach(function(v){var A=z2.bind(null,s,v);c.has(v)||(c.add(v),v.then(A,A))})}}function mr(s,o){var c=o.deletions;if(c!==null)for(var v=0;v<c.length;v++){var A=c[v];try{var N=s,B=o,Q=B;e:for(;Q!==null;){switch(Q.tag){case 5:Jt=Q.stateNode,pr=!1;break e;case 3:Jt=Q.stateNode.containerInfo,pr=!0;break e;case 4:Jt=Q.stateNode.containerInfo,pr=!0;break e}Q=Q.return}if(Jt===null)throw Error(t(160));q_(N,B,A),Jt=null,pr=!1;var Z=A.alternate;Z!==null&&(Z.return=null),A.return=null}catch(fe){It(A,o,fe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)H_(o,s),o=o.sibling}function H_(s,o){var c=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mr(o,s),Or(s),v&4){try{bl(3,s,s.return),Rc(3,s)}catch(Ne){It(s,s.return,Ne)}try{bl(5,s,s.return)}catch(Ne){It(s,s.return,Ne)}}break;case 1:mr(o,s),Or(s),v&512&&c!==null&&Jo(c,c.return);break;case 5:if(mr(o,s),Or(s),v&512&&c!==null&&Jo(c,c.return),s.flags&32){var A=s.stateNode;try{ut(A,"")}catch(Ne){It(s,s.return,Ne)}}if(v&4&&(A=s.stateNode,A!=null)){var N=s.memoizedProps,B=c!==null?c.memoizedProps:N,Q=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{Q==="input"&&N.type==="radio"&&N.name!=null&&Lt(A,N),za(Q,B);var fe=za(Q,N);for(B=0;B<Z.length;B+=2){var we=Z[B],Ee=Z[B+1];we==="style"?Ua(A,Ee):we==="dangerouslySetInnerHTML"?vs(A,Ee):we==="children"?ut(A,Ee):S(A,we,Ee,fe)}switch(Q){case"input":mt(A,N);break;case"textarea":He(A,N);break;case"select":var _e=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!N.multiple;var Ie=N.value;Ie!=null?Ae(A,!!N.multiple,Ie,!1):_e!==!!N.multiple&&(N.defaultValue!=null?Ae(A,!!N.multiple,N.defaultValue,!0):Ae(A,!!N.multiple,N.multiple?[]:"",!1))}A[hl]=N}catch(Ne){It(s,s.return,Ne)}}break;case 6:if(mr(o,s),Or(s),v&4){if(s.stateNode===null)throw Error(t(162));A=s.stateNode,N=s.memoizedProps;try{A.nodeValue=N}catch(Ne){It(s,s.return,Ne)}}break;case 3:if(mr(o,s),Or(s),v&4&&c!==null&&c.memoizedState.isDehydrated)try{ur(o.containerInfo)}catch(Ne){It(s,s.return,Ne)}break;case 4:mr(o,s),Or(s);break;case 13:mr(o,s),Or(s),A=s.child,A.flags&8192&&(N=A.memoizedState!==null,A.stateNode.isHidden=N,!N||A.alternate!==null&&A.alternate.memoizedState!==null||(qd=ht())),v&4&&z_(s);break;case 22:if(we=c!==null&&c.memoizedState!==null,s.mode&1?(cn=(fe=cn)||we,mr(o,s),cn=fe):mr(o,s),Or(s),v&8192){if(fe=s.memoizedState!==null,(s.stateNode.isHidden=fe)&&!we&&(s.mode&1)!==0)for(Re=s,we=s.child;we!==null;){for(Ee=Re=we;Re!==null;){switch(_e=Re,Ie=_e.child,_e.tag){case 0:case 11:case 14:case 15:bl(4,_e,_e.return);break;case 1:Jo(_e,_e.return);var Ce=_e.stateNode;if(typeof Ce.componentWillUnmount=="function"){v=_e,c=_e.return;try{o=v,Ce.props=o.memoizedProps,Ce.state=o.memoizedState,Ce.componentWillUnmount()}catch(Ne){It(v,c,Ne)}}break;case 5:Jo(_e,_e.return);break;case 22:if(_e.memoizedState!==null){K_(Ee);continue}}Ie!==null?(Ie.return=_e,Re=Ie):K_(Ee)}we=we.sibling}e:for(we=null,Ee=s;;){if(Ee.tag===5){if(we===null){we=Ee;try{A=Ee.stateNode,fe?(N=A.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(Q=Ee.stateNode,Z=Ee.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Q.style.display=Fa("display",B))}catch(Ne){It(s,s.return,Ne)}}}else if(Ee.tag===6){if(we===null)try{Ee.stateNode.nodeValue=fe?"":Ee.memoizedProps}catch(Ne){It(s,s.return,Ne)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===s)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===s)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===s)break e;we===Ee&&(we=null),Ee=Ee.return}we===Ee&&(we=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:mr(o,s),Or(s),v&4&&z_(s);break;case 21:break;default:mr(o,s),Or(s)}}function Or(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(U_(c)){var v=c;break e}c=c.return}throw Error(t(160))}switch(v.tag){case 5:var A=v.stateNode;v.flags&32&&(ut(A,""),v.flags&=-33);var N=B_(s);Fd(s,N,A);break;case 3:case 4:var B=v.stateNode.containerInfo,Q=B_(s);Vd(s,Q,B);break;default:throw Error(t(161))}}catch(Z){It(s,s.return,Z)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function L2(s,o,c){Re=s,$_(s)}function $_(s,o,c){for(var v=(s.mode&1)!==0;Re!==null;){var A=Re,N=A.child;if(A.tag===22&&v){var B=A.memoizedState!==null||kc;if(!B){var Q=A.alternate,Z=Q!==null&&Q.memoizedState!==null||cn;Q=kc;var fe=cn;if(kc=B,(cn=Z)&&!fe)for(Re=A;Re!==null;)B=Re,Z=B.child,B.tag===22&&B.memoizedState!==null?G_(A):Z!==null?(Z.return=B,Re=Z):G_(A);for(;N!==null;)Re=N,$_(N),N=N.sibling;Re=A,kc=Q,cn=fe}W_(s)}else(A.subtreeFlags&8772)!==0&&N!==null?(N.return=A,Re=N):W_(s)}}function W_(s){for(;Re!==null;){var o=Re;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:cn||Rc(5,o);break;case 1:var v=o.stateNode;if(o.flags&4&&!cn)if(c===null)v.componentDidMount();else{var A=o.elementType===o.type?c.memoizedProps:dr(o.type,c.memoizedProps);v.componentDidUpdate(A,c.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var N=o.updateQueue;N!==null&&K0(o,N,v);break;case 3:var B=o.updateQueue;if(B!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}K0(o,B,c)}break;case 5:var Q=o.stateNode;if(c===null&&o.flags&4){c=Q;var Z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&c.focus();break;case"img":Z.src&&(c.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var fe=o.alternate;if(fe!==null){var we=fe.memoizedState;if(we!==null){var Ee=we.dehydrated;Ee!==null&&ur(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||o.flags&512&&jd(o)}catch(_e){It(o,o.return,_e)}}if(o===s){Re=null;break}if(c=o.sibling,c!==null){c.return=o.return,Re=c;break}Re=o.return}}function K_(s){for(;Re!==null;){var o=Re;if(o===s){Re=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Re=c;break}Re=o.return}}function G_(s){for(;Re!==null;){var o=Re;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Rc(4,o)}catch(Z){It(o,c,Z)}break;case 1:var v=o.stateNode;if(typeof v.componentDidMount=="function"){var A=o.return;try{v.componentDidMount()}catch(Z){It(o,A,Z)}}var N=o.return;try{jd(o)}catch(Z){It(o,N,Z)}break;case 5:var B=o.return;try{jd(o)}catch(Z){It(o,B,Z)}}}catch(Z){It(o,o.return,Z)}if(o===s){Re=null;break}var Q=o.sibling;if(Q!==null){Q.return=o.return,Re=Q;break}Re=o.return}}var M2=Math.ceil,Pc=x.ReactCurrentDispatcher,Ud=x.ReactCurrentOwner,Qn=x.ReactCurrentBatchConfig,it=0,Gt=null,jt=null,en=0,Fn=0,ea=Di(0),Ht=0,xl=null,Us=0,Cc=0,Bd=0,Al=null,kn=null,qd=0,ta=1/0,li=null,Nc=!1,zd=null,Ui=null,Oc=!1,Bi=null,Dc=0,Sl=0,Hd=null,Lc=-1,Mc=0;function wn(){return(it&6)!==0?ht():Lc!==-1?Lc:Lc=ht()}function qi(s){return(s.mode&1)===0?1:(it&2)!==0&&en!==0?en&-en:_2.transition!==null?(Mc===0&&(Mc=ks()),Mc):(s=et,s!==0||(s=window.event,s=s===void 0?16:el(s.type)),s)}function gr(s,o,c,v){if(50<Sl)throw Sl=0,Hd=null,Error(t(185));Si(s,c,v),((it&2)===0||s!==Gt)&&(s===Gt&&((it&2)===0&&(Cc|=c),Ht===4&&zi(s,en)),Rn(s,v),c===1&&it===0&&(o.mode&1)===0&&(ta=ht()+500,cc&&Mi()))}function Rn(s,o){var c=s.callbackNode;Yr(s,o);var v=Is(s,s===Gt?en:0);if(v===0)c!==null&&Qa(c),s.callbackNode=null,s.callbackPriority=0;else if(o=v&-v,s.callbackPriority!==o){if(c!=null&&Qa(c),o===1)s.tag===0?v2(Y_.bind(null,s)):L0(Y_.bind(null,s)),p2(function(){(it&6)===0&&Mi()}),c=null;else{switch(ki(v)){case 1:c=As;break;case 4:c=bi;break;case 16:c=qn;break;case 536870912:c=Mu;break;default:c=qn}c=i1(c,Q_.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Q_(s,o){if(Lc=-1,Mc=0,(it&6)!==0)throw Error(t(327));var c=s.callbackNode;if(na()&&s.callbackNode!==c)return null;var v=Is(s,s===Gt?en:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||o)o=jc(s,v);else{o=v;var A=it;it|=2;var N=Z_();(Gt!==s||en!==o)&&(li=null,ta=ht()+500,qs(s,o));do try{F2();break}catch(Q){X_(s,Q)}while(!0);ld(),Pc.current=N,it=A,jt!==null?o=0:(Gt=null,en=0,o=Ht)}if(o!==0){if(o===2&&(A=Dn(s),A!==0&&(v=A,o=$d(s,A))),o===1)throw c=xl,qs(s,0),zi(s,v),Rn(s,ht()),c;if(o===6)zi(s,v);else{if(A=s.current.alternate,(v&30)===0&&!j2(A)&&(o=jc(s,v),o===2&&(N=Dn(s),N!==0&&(v=N,o=$d(s,N))),o===1))throw c=xl,qs(s,0),zi(s,v),Rn(s,ht()),c;switch(s.finishedWork=A,s.finishedLanes=v,o){case 0:case 1:throw Error(t(345));case 2:zs(s,kn,li);break;case 3:if(zi(s,v),(v&130023424)===v&&(o=qd+500-ht(),10<o)){if(Is(s,0)!==0)break;if(A=s.suspendedLanes,(A&v)!==v){wn(),s.pingedLanes|=s.suspendedLanes&A;break}s.timeoutHandle=Xh(zs.bind(null,s,kn,li),o);break}zs(s,kn,li);break;case 4:if(zi(s,v),(v&4194240)===v)break;for(o=s.eventTimes,A=-1;0<v;){var B=31-yn(v);N=1<<B,B=o[B],B>A&&(A=B),v&=~N}if(v=A,v=ht()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*M2(v/1960))-v,10<v){s.timeoutHandle=Xh(zs.bind(null,s,kn,li),v);break}zs(s,kn,li);break;case 5:zs(s,kn,li);break;default:throw Error(t(329))}}}return Rn(s,ht()),s.callbackNode===c?Q_.bind(null,s):null}function $d(s,o){var c=Al;return s.current.memoizedState.isDehydrated&&(qs(s,o).flags|=256),s=jc(s,o),s!==2&&(o=kn,kn=c,o!==null&&Wd(o)),s}function Wd(s){kn===null?kn=s:kn.push.apply(kn,s)}function j2(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var v=0;v<c.length;v++){var A=c[v],N=A.getSnapshot;A=A.value;try{if(!fr(N(),A))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zi(s,o){for(o&=~Bd,o&=~Cc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-yn(o),v=1<<c;s[c]=-1,o&=~v}}function Y_(s){if((it&6)!==0)throw Error(t(327));na();var o=Is(s,0);if((o&1)===0)return Rn(s,ht()),null;var c=jc(s,o);if(s.tag!==0&&c===2){var v=Dn(s);v!==0&&(o=v,c=$d(s,v))}if(c===1)throw c=xl,qs(s,0),zi(s,o),Rn(s,ht()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,zs(s,kn,li),Rn(s,ht()),null}function Kd(s,o){var c=it;it|=1;try{return s(o)}finally{it=c,it===0&&(ta=ht()+500,cc&&Mi())}}function Bs(s){Bi!==null&&Bi.tag===0&&(it&6)===0&&na();var o=it;it|=1;var c=Qn.transition,v=et;try{if(Qn.transition=null,et=1,s)return s()}finally{et=v,Qn.transition=c,it=o,(it&6)===0&&Mi()}}function Gd(){Fn=ea.current,yt(ea)}function qs(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,d2(c)),jt!==null)for(c=jt.return;c!==null;){var v=c;switch(rd(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&lc();break;case 3:Xo(),yt(An),yt(an),gd();break;case 5:pd(v);break;case 4:Xo();break;case 13:yt(Et);break;case 19:yt(Et);break;case 10:ud(v.type._context);break;case 22:case 23:Gd()}c=c.return}if(Gt=s,jt=s=Hi(s.current,null),en=Fn=o,Ht=0,xl=null,Bd=Cc=Us=0,kn=Al=null,js!==null){for(o=0;o<js.length;o++)if(c=js[o],v=c.interleaved,v!==null){c.interleaved=null;var A=v.next,N=c.pending;if(N!==null){var B=N.next;N.next=A,v.next=B}c.pending=v}js=null}return s}function X_(s,o){do{var c=jt;try{if(ld(),wc.current=xc,Ec){for(var v=Tt.memoizedState;v!==null;){var A=v.queue;A!==null&&(A.pending=null),v=v.next}Ec=!1}if(Fs=0,Kt=zt=Tt=null,vl=!1,_l=0,Ud.current=null,c===null||c.return===null){Ht=1,xl=o,jt=null;break}e:{var N=s,B=c.return,Q=c,Z=o;if(o=en,Q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=Z,we=Q,Ee=we.tag;if((we.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var _e=we.alternate;_e?(we.updateQueue=_e.updateQueue,we.memoizedState=_e.memoizedState,we.lanes=_e.lanes):(we.updateQueue=null,we.memoizedState=null)}var Ie=T_(B);if(Ie!==null){Ie.flags&=-257,b_(Ie,B,Q,N,o),Ie.mode&1&&E_(N,fe,o),o=Ie,Z=fe;var Ce=o.updateQueue;if(Ce===null){var Ne=new Set;Ne.add(Z),o.updateQueue=Ne}else Ce.add(Z);break e}else{if((o&1)===0){E_(N,fe,o),Qd();break e}Z=Error(t(426))}}else if(wt&&Q.mode&1){var Nt=T_(B);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),b_(Nt,B,Q,N,o),od(Zo(Z,Q));break e}}N=Z=Zo(Z,Q),Ht!==4&&(Ht=2),Al===null?Al=[N]:Al.push(N),N=B;do{switch(N.tag){case 3:N.flags|=65536,o&=-o,N.lanes|=o;var ue=__(N,Z,o);W0(N,ue);break e;case 1:Q=Z;var ne=N.type,ce=N.stateNode;if((N.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Ui===null||!Ui.has(ce)))){N.flags|=65536,o&=-o,N.lanes|=o;var Te=w_(N,Q,o);W0(N,Te);break e}}N=N.return}while(N!==null)}e1(c)}catch(Oe){o=Oe,jt===c&&c!==null&&(jt=c=c.return);continue}break}while(!0)}function Z_(){var s=Pc.current;return Pc.current=xc,s===null?xc:s}function Qd(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Gt===null||(Us&268435455)===0&&(Cc&268435455)===0||zi(Gt,en)}function jc(s,o){var c=it;it|=2;var v=Z_();(Gt!==s||en!==o)&&(li=null,qs(s,o));do try{V2();break}catch(A){X_(s,A)}while(!0);if(ld(),it=c,Pc.current=v,jt!==null)throw Error(t(261));return Gt=null,en=0,Ht}function V2(){for(;jt!==null;)J_(jt)}function F2(){for(;jt!==null&&!Du();)J_(jt)}function J_(s){var o=r1(s.alternate,s,Fn);s.memoizedProps=s.pendingProps,o===null?e1(s):jt=o,Ud.current=null}function e1(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=C2(c,o,Fn),c!==null){jt=c;return}}else{if(c=N2(c,o),c!==null){c.flags&=32767,jt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ht=6,jt=null;return}}if(o=o.sibling,o!==null){jt=o;return}jt=o=s}while(o!==null);Ht===0&&(Ht=5)}function zs(s,o,c){var v=et,A=Qn.transition;try{Qn.transition=null,et=1,U2(s,o,c,v)}finally{Qn.transition=A,et=v}return null}function U2(s,o,c,v){do na();while(Bi!==null);if((it&6)!==0)throw Error(t(327));c=s.finishedWork;var A=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var N=c.lanes|c.childLanes;if(ft(s,N),s===Gt&&(jt=Gt=null,en=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Oc||(Oc=!0,i1(qn,function(){return na(),null})),N=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||N){N=Qn.transition,Qn.transition=null;var B=et;et=1;var Q=it;it|=4,Ud.current=null,D2(s,c),H_(c,s),o2(Qh),Pi=!!Gh,Qh=Gh=null,s.current=c,L2(c),Nh(),it=Q,et=B,Qn.transition=N}else s.current=c;if(Oc&&(Oc=!1,Bi=s,Dc=A),N=s.pendingLanes,N===0&&(Ui=null),ju(c.stateNode),Rn(s,ht()),o!==null)for(v=s.onRecoverableError,c=0;c<o.length;c++)A=o[c],v(A.value,{componentStack:A.stack,digest:A.digest});if(Nc)throw Nc=!1,s=zd,zd=null,s;return(Dc&1)!==0&&s.tag!==0&&na(),N=s.pendingLanes,(N&1)!==0?s===Hd?Sl++:(Sl=0,Hd=s):Sl=0,Mi(),null}function na(){if(Bi!==null){var s=ki(Dc),o=Qn.transition,c=et;try{if(Qn.transition=null,et=16>s?16:s,Bi===null)var v=!1;else{if(s=Bi,Bi=null,Dc=0,(it&6)!==0)throw Error(t(331));var A=it;for(it|=4,Re=s.current;Re!==null;){var N=Re,B=N.child;if((Re.flags&16)!==0){var Q=N.deletions;if(Q!==null){for(var Z=0;Z<Q.length;Z++){var fe=Q[Z];for(Re=fe;Re!==null;){var we=Re;switch(we.tag){case 0:case 11:case 15:bl(8,we,N)}var Ee=we.child;if(Ee!==null)Ee.return=we,Re=Ee;else for(;Re!==null;){we=Re;var _e=we.sibling,Ie=we.return;if(F_(we),we===fe){Re=null;break}if(_e!==null){_e.return=Ie,Re=_e;break}Re=Ie}}}var Ce=N.alternate;if(Ce!==null){var Ne=Ce.child;if(Ne!==null){Ce.child=null;do{var Nt=Ne.sibling;Ne.sibling=null,Ne=Nt}while(Ne!==null)}}Re=N}}if((N.subtreeFlags&2064)!==0&&B!==null)B.return=N,Re=B;else e:for(;Re!==null;){if(N=Re,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:bl(9,N,N.return)}var ue=N.sibling;if(ue!==null){ue.return=N.return,Re=ue;break e}Re=N.return}}var ne=s.current;for(Re=ne;Re!==null;){B=Re;var ce=B.child;if((B.subtreeFlags&2064)!==0&&ce!==null)ce.return=B,Re=ce;else e:for(B=ne;Re!==null;){if(Q=Re,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Rc(9,Q)}}catch(Oe){It(Q,Q.return,Oe)}if(Q===B){Re=null;break e}var Te=Q.sibling;if(Te!==null){Te.return=Q.return,Re=Te;break e}Re=Q.return}}if(it=A,Mi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Ss,s)}catch{}v=!0}return v}finally{et=c,Qn.transition=o}}return!1}function t1(s,o,c){o=Zo(c,o),o=__(s,o,1),s=Vi(s,o,1),o=wn(),s!==null&&(Si(s,1,o),Rn(s,o))}function It(s,o,c){if(s.tag===3)t1(s,s,c);else for(;o!==null;){if(o.tag===3){t1(o,s,c);break}else if(o.tag===1){var v=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ui===null||!Ui.has(v))){s=Zo(c,s),s=w_(o,s,1),o=Vi(o,s,1),s=wn(),o!==null&&(Si(o,1,s),Rn(o,s));break}}o=o.return}}function B2(s,o,c){var v=s.pingCache;v!==null&&v.delete(o),o=wn(),s.pingedLanes|=s.suspendedLanes&c,Gt===s&&(en&c)===c&&(Ht===4||Ht===3&&(en&130023424)===en&&500>ht()-qd?qs(s,0):Bd|=c),Rn(s,o)}function n1(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ao,Ao<<=1,(Ao&130023424)===0&&(Ao=4194304)));var c=wn();s=si(s,o),s!==null&&(Si(s,o,c),Rn(s,c))}function q2(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),n1(s,c)}function z2(s,o){var c=0;switch(s.tag){case 13:var v=s.stateNode,A=s.memoizedState;A!==null&&(c=A.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(o),n1(s,c)}var r1;r1=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||An.current)In=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return In=!1,P2(s,o,c);In=(s.flags&131072)!==0}else In=!1,wt&&(o.flags&1048576)!==0&&M0(o,hc,o.index);switch(o.lanes=0,o.tag){case 2:var v=o.type;Ic(s,o),s=o.pendingProps;var A=Ho(o,an.current);Yo(o,c),A=_d(null,o,v,s,A,c);var N=wd();return o.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Sn(v)?(N=!0,uc(o)):N=!1,o.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,hd(o),A.updater=Ac,o.stateNode=A,A._reactInternals=o,Sd(o,v,s,c),o=Pd(null,o,v,!0,N,c)):(o.tag=0,wt&&N&&nd(o),_n(null,o,A,c),o=o.child),o;case 16:v=o.elementType;e:{switch(Ic(s,o),s=o.pendingProps,A=v._init,v=A(v._payload),o.type=v,A=o.tag=$2(v),s=dr(v,s),A){case 0:o=Rd(null,o,v,s,c);break e;case 1:o=R_(null,o,v,s,c);break e;case 11:o=x_(null,o,v,s,c);break e;case 14:o=A_(null,o,v,dr(v.type,s),c);break e}throw Error(t(306,v,""))}return o;case 0:return v=o.type,A=o.pendingProps,A=o.elementType===v?A:dr(v,A),Rd(s,o,v,A,c);case 1:return v=o.type,A=o.pendingProps,A=o.elementType===v?A:dr(v,A),R_(s,o,v,A,c);case 3:e:{if(P_(o),s===null)throw Error(t(387));v=o.pendingProps,N=o.memoizedState,A=N.element,$0(s,o),vc(o,v,null,c);var B=o.memoizedState;if(v=B.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){A=Zo(Error(t(423)),o),o=C_(s,o,v,c,A);break e}else if(v!==A){A=Zo(Error(t(424)),o),o=C_(s,o,v,c,A);break e}else for(Vn=Oi(o.stateNode.containerInfo.firstChild),jn=o,wt=!0,hr=null,c=z0(o,null,v,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ko(),v===A){o=ai(s,o,c);break e}_n(s,o,v,c)}o=o.child}return o;case 5:return G0(o),s===null&&sd(o),v=o.type,A=o.pendingProps,N=s!==null?s.memoizedProps:null,B=A.children,Yh(v,A)?B=null:N!==null&&Yh(v,N)&&(o.flags|=32),k_(s,o),_n(s,o,B,c),o.child;case 6:return s===null&&sd(o),null;case 13:return N_(s,o,c);case 4:return dd(o,o.stateNode.containerInfo),v=o.pendingProps,s===null?o.child=Go(o,null,v,c):_n(s,o,v,c),o.child;case 11:return v=o.type,A=o.pendingProps,A=o.elementType===v?A:dr(v,A),x_(s,o,v,A,c);case 7:return _n(s,o,o.pendingProps,c),o.child;case 8:return _n(s,o,o.pendingProps.children,c),o.child;case 12:return _n(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(v=o.type._context,A=o.pendingProps,N=o.memoizedProps,B=A.value,dt(mc,v._currentValue),v._currentValue=B,N!==null)if(fr(N.value,B)){if(N.children===A.children&&!An.current){o=ai(s,o,c);break e}}else for(N=o.child,N!==null&&(N.return=o);N!==null;){var Q=N.dependencies;if(Q!==null){B=N.child;for(var Z=Q.firstContext;Z!==null;){if(Z.context===v){if(N.tag===1){Z=oi(-1,c&-c),Z.tag=2;var fe=N.updateQueue;if(fe!==null){fe=fe.shared;var we=fe.pending;we===null?Z.next=Z:(Z.next=we.next,we.next=Z),fe.pending=Z}}N.lanes|=c,Z=N.alternate,Z!==null&&(Z.lanes|=c),cd(N.return,c,o),Q.lanes|=c;break}Z=Z.next}}else if(N.tag===10)B=N.type===o.type?null:N.child;else if(N.tag===18){if(B=N.return,B===null)throw Error(t(341));B.lanes|=c,Q=B.alternate,Q!==null&&(Q.lanes|=c),cd(B,c,o),B=N.sibling}else B=N.child;if(B!==null)B.return=N;else for(B=N;B!==null;){if(B===o){B=null;break}if(N=B.sibling,N!==null){N.return=B.return,B=N;break}B=B.return}N=B}_n(s,o,A.children,c),o=o.child}return o;case 9:return A=o.type,v=o.pendingProps.children,Yo(o,c),A=Kn(A),v=v(A),o.flags|=1,_n(s,o,v,c),o.child;case 14:return v=o.type,A=dr(v,o.pendingProps),A=dr(v.type,A),A_(s,o,v,A,c);case 15:return S_(s,o,o.type,o.pendingProps,c);case 17:return v=o.type,A=o.pendingProps,A=o.elementType===v?A:dr(v,A),Ic(s,o),o.tag=1,Sn(v)?(s=!0,uc(o)):s=!1,Yo(o,c),y_(o,v,A),Sd(o,v,A,c),Pd(null,o,v,!0,s,c);case 19:return D_(s,o,c);case 22:return I_(s,o,c)}throw Error(t(156,o.tag))};function i1(s,o){return bo(s,o)}function H2(s,o,c,v){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,o,c,v){return new H2(s,o,c,v)}function Yd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $2(s){if(typeof s=="function")return Yd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===G)return 14}return 2}function Hi(s,o){var c=s.alternate;return c===null?(c=Yn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Vc(s,o,c,v,A,N){var B=2;if(v=s,typeof s=="function")Yd(s)&&(B=1);else if(typeof s=="string")B=5;else e:switch(s){case R:return Hs(c.children,A,N,o);case I:B=8,A|=8;break;case M:return s=Yn(12,c,o,A|2),s.elementType=M,s.lanes=N,s;case D:return s=Yn(13,c,o,A),s.elementType=D,s.lanes=N,s;case $:return s=Yn(19,c,o,A),s.elementType=$,s.lanes=N,s;case ee:return Fc(c,A,N,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:B=10;break e;case k:B=9;break e;case L:B=11;break e;case G:B=14;break e;case ie:B=16,v=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Yn(B,c,o,A),o.elementType=s,o.type=v,o.lanes=N,o}function Hs(s,o,c,v){return s=Yn(7,s,v,o),s.lanes=c,s}function Fc(s,o,c,v){return s=Yn(22,s,v,o),s.elementType=ee,s.lanes=c,s.stateNode={isHidden:!1},s}function Xd(s,o,c){return s=Yn(6,s,null,o),s.lanes=c,s}function Zd(s,o,c){return o=Yn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function W2(s,o,c,v,A){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ai(0),this.expirationTimes=Ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.identifierPrefix=v,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Jd(s,o,c,v,A,N,B,Q,Z){return s=new W2(s,o,c,Q,Z),o===1?(o=1,N===!0&&(o|=8)):o=0,N=Yn(3,null,null,o),s.current=N,N.stateNode=s,N.memoizedState={element:v,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},hd(N),s}function K2(s,o,c){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:v==null?null:""+v,children:s,containerInfo:o,implementation:c}}function s1(s){if(!s)return Li;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Sn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Sn(c))return O0(s,c,o)}return o}function o1(s,o,c,v,A,N,B,Q,Z){return s=Jd(c,v,!0,s,A,N,B,Q,Z),s.context=s1(null),c=s.current,v=wn(),A=qi(c),N=oi(v,A),N.callback=o??null,Vi(c,N,A),s.current.lanes=A,Si(s,A,v),Rn(s,v),s}function Uc(s,o,c,v){var A=o.current,N=wn(),B=qi(A);return c=s1(c),o.context===null?o.context=c:o.pendingContext=c,o=oi(N,B),o.payload={element:s},v=v===void 0?null:v,v!==null&&(o.callback=v),s=Vi(A,o,B),s!==null&&(gr(s,A,B,N),yc(s,A,B)),B}function Bc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function a1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function ep(s,o){a1(s,o),(s=s.alternate)&&a1(s,o)}function G2(){return null}var l1=typeof reportError=="function"?reportError:function(s){console.error(s)};function tp(s){this._internalRoot=s}qc.prototype.render=tp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Uc(s,o,null,null)},qc.prototype.unmount=tp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Bs(function(){Uc(null,s,null,null)}),o[ti]=null}};function qc(s){this._internalRoot=s}qc.prototype.unstable_scheduleHydration=function(s){if(s){var o=qu();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Sr.length&&o!==0&&o<Sr[c].priority;c++);Sr.splice(c,0,s),c===0&&$u(s)}};function np(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function u1(){}function Q2(s,o,c,v,A){if(A){if(typeof v=="function"){var N=v;v=function(){var fe=Bc(B);N.call(fe)}}var B=o1(o,v,s,0,null,!1,!1,"",u1);return s._reactRootContainer=B,s[ti]=B.current,cl(s.nodeType===8?s.parentNode:s),Bs(),B}for(;A=s.lastChild;)s.removeChild(A);if(typeof v=="function"){var Q=v;v=function(){var fe=Bc(Z);Q.call(fe)}}var Z=Jd(s,0,!1,null,null,!1,!1,"",u1);return s._reactRootContainer=Z,s[ti]=Z.current,cl(s.nodeType===8?s.parentNode:s),Bs(function(){Uc(o,Z,c,v)}),Z}function Hc(s,o,c,v,A){var N=c._reactRootContainer;if(N){var B=N;if(typeof A=="function"){var Q=A;A=function(){var Z=Bc(B);Q.call(Z)}}Uc(o,B,s,A)}else B=Q2(c,o,s,A,v);return Bc(B)}Uu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=xi(o.pendingLanes);c!==0&&(Ii(o,c|1),Rn(o,ht()),(it&6)===0&&(ta=ht()+500,Mi()))}break;case 13:Bs(function(){var v=si(s,1);if(v!==null){var A=wn();gr(v,s,1,A)}}),ep(s,1)}},So=function(s){if(s.tag===13){var o=si(s,134217728);if(o!==null){var c=wn();gr(o,s,134217728,c)}ep(s,134217728)}},Bu=function(s){if(s.tag===13){var o=qi(s),c=si(s,o);if(c!==null){var v=wn();gr(c,s,o,v)}ep(s,o)}},qu=function(){return et},zu=function(s,o){var c=et;try{return et=s,o()}finally{et=c}},yo=function(s,o,c){switch(o){case"input":if(mt(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var v=c[o];if(v!==s&&v.form===s.form){var A=ac(v);if(!A)throw Error(t(90));Le(v),mt(v,A)}}}break;case"textarea":He(s,c);break;case"select":o=c.value,o!=null&&Ae(s,!!c.multiple,o,!1)}},Es=Kd,$a=Bs;var Y2={usingClientEntryPoint:!1,Events:[dl,qo,ac,xr,Ha,Kd]},Il={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X2={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ga(s),s===null?null:s.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||G2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ss=$c.inject(X2),On=$c}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2,Pn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(o))throw Error(t(200));return K2(s,o,null,c)},Pn.createRoot=function(s,o){if(!np(s))throw Error(t(299));var c=!1,v="",A=l1;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=Jd(s,1,!1,null,null,c,!1,v,A),s[ti]=o.current,cl(s.nodeType===8?s.parentNode:s),new tp(o)},Pn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ga(o),s=s===null?null:s.stateNode,s},Pn.flushSync=function(s){return Bs(s)},Pn.hydrate=function(s,o,c){if(!zc(o))throw Error(t(200));return Hc(null,s,o,!0,c)},Pn.hydrateRoot=function(s,o,c){if(!np(s))throw Error(t(405));var v=c!=null&&c.hydratedSources||null,A=!1,N="",B=l1;if(c!=null&&(c.unstable_strictMode===!0&&(A=!0),c.identifierPrefix!==void 0&&(N=c.identifierPrefix),c.onRecoverableError!==void 0&&(B=c.onRecoverableError)),o=o1(o,null,s,1,c??null,A,!1,N,B),s[ti]=o.current,cl(s),v)for(s=0;s<v.length;s++)c=v[s],A=c._getVersion,A=A(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,A]:o.mutableSourceEagerHydrationData.push(c,A);return new qc(o)},Pn.render=function(s,o,c){if(!zc(o))throw Error(t(200));return Hc(null,s,o,!1,c)},Pn.unmountComponentAtNode=function(s){if(!zc(s))throw Error(t(40));return s._reactRootContainer?(Bs(function(){Hc(null,null,s,!1,function(){s._reactRootContainer=null,s[ti]=null})}),!0):!1},Pn.unstable_batchedUpdates=Kd,Pn.unstable_renderSubtreeIntoContainer=function(s,o,c,v){if(!zc(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Hc(s,o,c,!1,v)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var y1;function tx(){if(y1)return sp.exports;y1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sp.exports=iR(),sp.exports}var v1;function sR(){if(v1)return Kc;v1=1;var n=tx();return Kc.createRoot=n.createRoot,Kc.hydrateRoot=n.hydrateRoot,Kc}var oR=sR();const aR=ex(oR);var Rl={},_1;function lR(){if(_1)return Rl;_1=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=l,Rl.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function l(d,y){const _=new a,w=d.length;if(w<2)return _;const T=(y==null?void 0:y.decode)||m;let E=0;do{const b=d.indexOf("=",E);if(b===-1)break;const S=d.indexOf(";",E),x=S===-1?w:S;if(b>x){E=d.lastIndexOf(";",b-1)+1;continue}const O=u(d,E,b),U=f(d,b,O),R=d.slice(O,U);if(_[R]===void 0){let I=u(d,b+1,x),M=f(d,x,I);const C=T(d.slice(I,M));_[R]=C}E=x+1}while(E<w);return _}function u(d,y,_){do{const w=d.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<_);return _}function f(d,y,_){for(;y>_;){const w=d.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return _}function h(d,y,_){const w=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const T=w(y);if(!e.test(T))throw new TypeError(`argument val is invalid: ${y}`);let E=d+"="+T;if(!_)return E;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);E+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);E+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);E+="; Path="+_.path}if(_.expires){if(!g(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);E+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(E+="; HttpOnly"),_.secure&&(E+="; Secure"),_.partitioned&&(E+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return E}function m(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function g(d){return i.call(d)==="[object Date]"}return Rl}lR();var w1="popstate";function uR(n={}){function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return mg("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Xl(i)}return fR(e,t,null,n)}function xt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $r(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cR(){return Math.random().toString(36).substring(2,10)}function E1(n,e){return{usr:n.state,key:n.key,idx:e}}function mg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ia(e):e,state:t,key:e&&e.key||r||cR()}}function Xl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ia(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function fR(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let T=m(),E=T==null?null:T-h;h=T,f&&f({action:u,location:w.location,delta:E})}function d(T,E){u="PUSH";let b=mg(w.location,T,E);h=m()+1;let S=E1(b,h),x=w.createHref(b);try{l.pushState(S,"",x)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(x)}a&&f&&f({action:u,location:w.location,delta:1})}function y(T,E){u="REPLACE";let b=mg(w.location,T,E);h=m();let S=E1(b,h),x=w.createHref(b);l.replaceState(S,"",x),a&&f&&f({action:u,location:w.location,delta:0})}function _(T){return hR(T)}let w={get action(){return u},get location(){return n(i,l)},listen(T){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(w1,g),f=T,()=>{i.removeEventListener(w1,g),f=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let E=_(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:d,replace:y,go(T){return l.go(T)}};return w}function hR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Xl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function nx(n,e,t="/"){return dR(n,e,t,!1)}function dR(n,e,t,r){let i=typeof e=="string"?Ia(e):e,a=di(i.pathname||"/",t);if(a==null)return null;let l=rx(n);pR(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=AR(a);u=bR(l[f],h,r)}return u}function rx(n,e=[],t=[],r=""){let i=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(xt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=fi([r,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),rx(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:ER(h,a.index),routesMeta:m})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of ix(a.path))i(a,l,f)}),e}function ix(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=ix(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function pR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mR=/^:[\w-]+$/,gR=3,yR=2,vR=1,_R=10,wR=-2,T1=n=>n==="*";function ER(n,e){let t=n.split("/"),r=t.length;return t.some(T1)&&(r+=wR),e&&(r+=yR),t.filter(i=>!T1(i)).reduce((i,a)=>i+(mR.test(a)?gR:a===""?vR:_R),r)}function TR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function bR(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=Sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),d=f.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:fi([a,g.pathname]),pathnameBase:RR(fi([a,g.pathnameBase])),route:d}),g.pathnameBase!=="/"&&(a=fi([a,g.pathnameBase]))}return l}function Sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xR(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},d)=>{if(m==="*"){let _=u[d]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const y=u[d];return g&&!y?h[m]=void 0:h[m]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function xR(n,e=!1,t=!0){$r(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $r(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function di(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function SR(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ia(n):n;return{pathname:t?t.startsWith("/")?t:IR(t,e):e,search:PR(r),hash:CR(i)}}function IR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function lp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sx(n){let e=kR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ox(n,e,t,r=!1){let i;typeof n=="string"?i=Ia(n):(i={...n},xt(!i.pathname||!i.pathname.includes("?"),lp("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),lp("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),lp("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),g-=1;i.pathname=d.join("/")}u=g>=0?e[g]:"/"}let f=SR(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var fi=n=>n.join("/").replace(/\/\/+/g,"/"),RR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ax=["POST","PUT","PATCH","DELETE"];new Set(ax);var OR=["GET",...ax];new Set(OR);var ka=se.createContext(null);ka.displayName="DataRouter";var eh=se.createContext(null);eh.displayName="DataRouterState";var lx=se.createContext({isTransitioning:!1});lx.displayName="ViewTransition";var DR=se.createContext(new Map);DR.displayName="Fetchers";var LR=se.createContext(null);LR.displayName="Await";var Kr=se.createContext(null);Kr.displayName="Navigation";var mu=se.createContext(null);mu.displayName="Location";var Ei=se.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var uy=se.createContext(null);uy.displayName="RouteError";function MR(n,{relative:e}={}){xt(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=se.useContext(Kr),{hash:i,pathname:a,search:l}=yu(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:fi([t,a])),r.createHref({pathname:u,search:l,hash:i})}function gu(){return se.useContext(mu)!=null}function ps(){return xt(gu(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(mu).location}var ux="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cx(n){se.useContext(Kr).static||se.useLayoutEffect(n)}function uo(){let{isDataRoute:n}=se.useContext(Ei);return n?QR():jR()}function jR(){xt(gu(),"useNavigate() may be used only in the context of a <Router> component.");let n=se.useContext(ka),{basename:e,navigator:t}=se.useContext(Kr),{matches:r}=se.useContext(Ei),{pathname:i}=ps(),a=JSON.stringify(sx(r)),l=se.useRef(!1);return cx(()=>{l.current=!0}),se.useCallback((f,h={})=>{if($r(l.current,ux),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=ox(f,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:fi([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,i,n])}se.createContext(null);function yu(n,{relative:e}={}){let{matches:t}=se.useContext(Ei),{pathname:r}=ps(),i=JSON.stringify(sx(t));return se.useMemo(()=>ox(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function VR(n,e){return fx(n,e)}function fx(n,e,t,r){var E;xt(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=se.useContext(Kr),{matches:a}=se.useContext(Ei),l=a[a.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let b=m&&m.path||"";hx(f,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=ps(),d;if(e){let b=typeof e=="string"?Ia(e):e;xt(h==="/"||((E=b.pathname)==null?void 0:E.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${b.pathname}" was given in the \`location\` prop.`),d=b}else d=g;let y=d.pathname||"/",_=y;if(h!=="/"){let b=h.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=nx(n,{pathname:_});$r(m||w!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),$r(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=zR(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:fi([h,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:fi([h,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,r);return e&&T?se.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},T):T}function FR(){let n=GR(),e=NR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=se.createElement(se.Fragment,null,se.createElement("p",null,"💿 Hey developer 👋"),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:a},"ErrorBoundary")," or"," ",se.createElement("code",{style:a},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),t?se.createElement("pre",{style:i},t):null,l)}var UR=se.createElement(FR,null),BR=class extends se.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?se.createElement(Ei.Provider,{value:this.props.routeContext},se.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qR({routeContext:n,match:e,children:t}){let r=se.useContext(ka);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(Ei.Provider,{value:n},t)}function zR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);xt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:g}=t,d=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||d){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let g,d=!1,y=null,_=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||UR,l&&(u<0&&m===0?(hx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,_=null):u===m&&(d=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,m+1)),T=()=>{let E;return g?E=y:d?E=_:h.route.Component?E=se.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,se.createElement(qR,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?se.createElement(BR,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}function cy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(n){let e=se.useContext(ka);return xt(e,cy(n)),e}function $R(n){let e=se.useContext(eh);return xt(e,cy(n)),e}function WR(n){let e=se.useContext(Ei);return xt(e,cy(n)),e}function fy(n){let e=WR(n),t=e.matches[e.matches.length-1];return xt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function KR(){return fy("useRouteId")}function GR(){var r;let n=se.useContext(uy),e=$R("useRouteError"),t=fy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function QR(){let{router:n}=HR("useNavigate"),e=fy("useNavigate"),t=se.useRef(!1);return cx(()=>{t.current=!0}),se.useCallback(async(i,a={})=>{$r(t.current,ux),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var b1={};function hx(n,e,t){!e&&!b1[n]&&(b1[n]=!0,$r(!1,t))}se.memo(YR);function YR({routes:n,future:e,state:t}){return fx(n,void 0,t,e)}function Ks(n){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){xt(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=se.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=Ia(t));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:d="default"}=t,y=se.useMemo(()=>{let _=di(f,l);return _==null?null:{location:{pathname:_,search:h,hash:m,state:g,key:d},navigationType:r}},[l,f,h,m,g,d,r]);return $r(y!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:se.createElement(Kr.Provider,{value:u},se.createElement(mu.Provider,{children:e,value:y}))}function ZR({children:n,location:e}){return VR(gg(n),e)}function gg(n,e=[]){let t=[];return se.Children.forEach(n,(r,i)=>{if(!se.isValidElement(r))return;let a=[...e,i];if(r.type===se.Fragment){t.push.apply(t,gg(r.props.children,a));return}xt(r.type===Ks,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=gg(r.props.children,a)),t.push(l)}),t}var uf="get",cf="application/x-www-form-urlencoded";function th(n){return n!=null&&typeof n.tagName=="string"}function JR(n){return th(n)&&n.tagName.toLowerCase()==="button"}function eP(n){return th(n)&&n.tagName.toLowerCase()==="form"}function tP(n){return th(n)&&n.tagName.toLowerCase()==="input"}function nP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rP(n,e){return n.button===0&&(!e||e==="_self")&&!nP(n)}var Gc=null;function iP(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var sP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(n){return n!=null&&!sP.has(n)?($r(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cf}"`),null):n}function oP(n,e){let t,r,i,a,l;if(eP(n)){let u=n.getAttribute("action");r=u?di(u,e):null,t=n.getAttribute("method")||uf,i=up(n.getAttribute("enctype"))||cf,a=new FormData(n)}else if(JR(n)||tP(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?di(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||uf,i=up(n.getAttribute("formenctype"))||up(u.getAttribute("enctype"))||cf,a=new FormData(u,n),!iP()){let{name:h,type:m,value:g}=n;if(m==="image"){let d=h?`${h}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else h&&a.append(h,g)}}else{if(th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uf,r=null,i=cf,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function hy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function aP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uP(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await aP(a,t);return l.links?l.links():[]}return[]}));return dP(r.flat(1).filter(lP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x1(n,e,t,r,i,a){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{var g;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let d=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function cP(n,e,{includeHydrateFallback:t}={}){return fP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fP(n){return[...new Set(n)]}function hP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function dP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(hP(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pP=new Set([100,101,204,205]);function mP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&di(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function dx(){let n=se.useContext(ka);return hy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gP(){let n=se.useContext(eh);return hy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dy=se.createContext(void 0);dy.displayName="FrameworkContext";function px(){let n=se.useContext(dy);return hy(n,"You must render this element inside a <HydratedRouter> element"),n}function yP(n,e){let t=se.useContext(dy),[r,i]=se.useState(!1),[a,l]=se.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,d=se.useRef(null);se.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=E=>{E.forEach(b=>{l(b.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return d.current&&T.observe(d.current),()=>{T.disconnect()}}},[n]),se.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},_=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:Pl(u,y),onBlur:Pl(f,_),onMouseEnter:Pl(h,y),onMouseLeave:Pl(m,_),onTouchStart:Pl(g,y)}]:[!1,d,{}]}function Pl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vP({page:n,...e}){let{router:t}=dx(),r=se.useMemo(()=>nx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?se.createElement(wP,{page:n,matches:r,...e}):null}function _P(n){let{manifest:e,routeModules:t}=px(),[r,i]=se.useState([]);return se.useEffect(()=>{let a=!1;return uP(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function wP({page:n,matches:e,...t}){let r=ps(),{manifest:i,routeModules:a}=px(),{basename:l}=dx(),{loaderData:u,matches:f}=gP(),h=se.useMemo(()=>x1(n,e,f,i,r,"data"),[n,e,f,i,r]),m=se.useMemo(()=>x1(n,e,f,i,r,"assets"),[n,e,f,i,r]),g=se.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(e.forEach(E=>{var S;let b=i.routes[E.route.id];!b||!b.hasLoader||(!h.some(x=>x.route.id===E.route.id)&&E.route.id in u&&((S=a[E.route.id])!=null&&S.shouldRevalidate)||b.hasClientLoader?w=!0:_.add(E.route.id))}),_.size===0)return[];let T=mP(n,l);return w&&_.size>0&&T.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[l,u,r,i,h,e,n,a]),d=se.useMemo(()=>cP(m,i),[m,i]),y=_P(m);return se.createElement(se.Fragment,null,g.map(_=>se.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),d.map(_=>se.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),y.map(({key:_,link:w})=>se.createElement("link",{key:_,...w})))}function EP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mx&&(window.__reactRouterVersion="7.6.2")}catch{}function TP({basename:n,children:e,window:t}){let r=se.useRef();r.current==null&&(r.current=uR({window:t,v5Compat:!0}));let i=r.current,[a,l]=se.useState({action:i.action,location:i.location}),u=se.useCallback(f=>{se.startTransition(()=>l(f))},[l]);return se.useLayoutEffect(()=>i.listen(u),[i,u]),se.createElement(XR,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yx=se.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:f,to:h,preventScrollReset:m,viewTransition:g,...d},y){let{basename:_}=se.useContext(Kr),w=typeof h=="string"&&gx.test(h),T,E=!1;if(typeof h=="string"&&w&&(T=h,mx))try{let M=new URL(window.location.href),C=h.startsWith("//")?new URL(M.protocol+h):new URL(h),k=di(C.pathname,_);C.origin===M.origin&&k!=null?h=k+C.search+C.hash:E=!0}catch{$r(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=MR(h,{relative:i}),[S,x,O]=yP(r,d),U=SP(h,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:g});function R(M){e&&e(M),M.defaultPrevented||U(M)}let I=se.createElement("a",{...d,...O,href:T||b,onClick:E||a?e:R,ref:EP(y,x),target:f,"data-discover":!w&&t==="render"?"true":void 0});return S&&!w?se.createElement(se.Fragment,null,I,se.createElement(vP,{page:b})):I});yx.displayName="Link";var bP=se.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:f,...h},m){let g=yu(l,{relative:h.relative}),d=ps(),y=se.useContext(eh),{navigator:_,basename:w}=se.useContext(Kr),T=y!=null&&CP(g)&&u===!0,E=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,b=d.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(b=b.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&w&&(S=di(S,w)||S);const x=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=b===E||!i&&b.startsWith(E)&&b.charAt(x)==="/",U=S!=null&&(S===E||!i&&S.startsWith(E)&&S.charAt(E.length)==="/"),R={isActive:O,isPending:U,isTransitioning:T},I=O?e:void 0,M;typeof r=="function"?M=r(R):M=[r,O?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(R):a;return se.createElement(yx,{...h,"aria-current":I,className:M,ref:m,style:C,to:l,viewTransition:u},typeof f=="function"?f(R):f)});bP.displayName="NavLink";var xP=se.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=uf,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,...d},y)=>{let _=RP(),w=PP(u,{relative:h}),T=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&gx.test(u),b=S=>{if(f&&f(S),S.defaultPrevented)return;S.preventDefault();let x=S.nativeEvent.submitter,O=(x==null?void 0:x.getAttribute("formmethod"))||l;_(x||S.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:g})};return se.createElement("form",{ref:y,method:T,action:w,onSubmit:r?f:b,...d,"data-discover":!E&&n==="render"?"true":void 0})});xP.displayName="Form";function AP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vx(n){let e=se.useContext(ka);return xt(e,AP(n)),e}function SP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=uo(),f=ps(),h=yu(n,{relative:a});return se.useCallback(m=>{if(rP(m,e)){m.preventDefault();let g=t!==void 0?t:Xl(f)===Xl(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,u,h,t,r,e,n,i,a,l])}var IP=0,kP=()=>`__${String(++IP)}__`;function RP(){let{router:n}=vx("useSubmit"),{basename:e}=se.useContext(Kr),t=KR();return se.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=oP(r,e);if(i.navigate===!1){let m=i.fetcherKey||kP();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function PP(n,{relative:e}={}){let{basename:t}=se.useContext(Kr),r=se.useContext(Ei);xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...yu(n||".",{relative:e})},l=ps();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:fi([t,a.pathname])),Xl(a)}function CP(n,e={}){let t=se.useContext(lx);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vx("useViewTransitionState"),i=yu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=di(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=di(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Sf(i.pathname,l)!=null||Sf(i.pathname,a)!=null}[...pP];const $s=[{id:1,title:"AAA",artist:"EM XINH 'SAY HI', TIÊN TIÊN, PHƯƠNG MỸ CHI,...",src:"./public/music/AAA - EM XINH _SAY HI_.mp3",image:"./public/photo/2.ico"},{id:2,title:"Nếu Lúc Đó",artist:"tlinh",src:"./public/music/Nếu lúc đó - tlinh.mp3",image:"./public/photo/3.ico"},{id:3,title:"You Said You Were Sorry",artist:"Selena Gomez",src:"./public/music/You Said You Were Sorry - Selena Gomez.mp3",image:"./public/photo/4.ico"}],NP=()=>{const[n,e]=se.useState(0),[t,r]=se.useState(!1),[i,a]=se.useState(0),[l,u]=se.useState(0),f=se.useRef(null);se.useEffect(()=>{const _=f.current,w=()=>a(_.currentTime),T=()=>u(_.duration);return _.addEventListener("timeupdate",w),_.addEventListener("loadedmetadata",T),()=>{_.removeEventListener("timeupdate",w),_.removeEventListener("loadedmetadata",T)}},[]);const h=()=>{f.current.readyState>=2?(t?f.current.pause():f.current.play().catch(_=>console.error("Playback error:",_)),r(!t)):console.warn("Audio chưa load xong!")},m=_=>{const w=_.target.value;f.current.currentTime=w,a(w)},g=()=>{e(_=>(_+1)%$s.length),r(!0)},d=()=>{e(_=>(_-1+$s.length)%$s.length),r(!0)},y=_=>{const w=Math.floor(_/60),T=Math.floor(_%60);return`${w}:${T.toString().padStart(2,"0")}`};return j.jsxs("div",{className:"text-gray-800 w-[220px] mx-auto flex flex-col mt-[-65%] items-center",children:[j.jsx("img",{src:$s[n].image,alt:"Album Cover",className:"w-70 h-70 rounded-md shadow-md bg-glass"}),j.jsxs("div",{className:"mt-4 text-center",children:[j.jsx("h2",{className:"text-lg text-2xl text-gray-800 font-bold",children:$s[n].title}),j.jsx("p",{className:"text-rose-800 font-semibold",children:$s[n].artist})]}),j.jsx("audio",{ref:f,src:$s[n].src,onEnded:g}),j.jsxs("div",{className:"w-full flex flex-col items-center mt-4",children:[j.jsx("input",{type:"range",min:"0",max:l||0,value:i,onChange:m,className:"w-full h-2 bg-rose-100 rounded-lg appearance-none cursor-pointer"}),j.jsxs("div",{className:"flex justify-between w-full text-sm text-rose-800 mt-2",children:[j.jsx("span",{children:y(i)}),j.jsx("span",{children:y(l)})]})]}),j.jsxs("div",{className:"flex items-center space-x-6 mt-4",children:[j.jsx("button",{onClick:d,className:"text-gray-800 bg-yellow-100 px-4 py-2 rounded-full hover:bg-rose-100",children:"⏮"}),j.jsx("button",{onClick:h,className:"text-gray-800 bg-rose-100 px-4 py-2 rounded-full hover:bg-yellow-100",children:t?"⏸":"▶"}),j.jsx("button",{onClick:g,className:"text-gray-800 bg-yellow-100 px-4 py-2 rounded-full hover:bg-rose-100",children:"⏭"})]})]})},OP=()=>{const n=uo();return j.jsxs("div",{className:"bg-yellow-50 w-full",children:[j.jsxs("div",{className:"navbar w-full bg-yellow-50 text-gray-800 shadow-md px-6 py-2 flex justify-between items-center mt-[-2%]",children:[j.jsxs("div",{className:"flex-1 flex items-center gap-6",children:[j.jsx("a",{className:"text-gray-800 font-bold text-2xl font-sans ml-30 cursor-pointer",children:"NOTE MEOW FOR STUDY"}),j.jsx("button",{onClick:()=>n("/meowstudy/create"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"Your-studybase"}),j.jsx("button",{onClick:()=>n("/meowstudy/categories"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"Categories"}),j.jsx("button",{onClick:()=>n("/meowstudy/about-us"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"About Us"})]}),j.jsxs("label",{className:"swap swap-rotate mr-2",children:[j.jsx("input",{type:"checkbox",className:"theme-controller",value:"cupcake"}),j.jsx("svg",{className:"swap-off h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),j.jsx("svg",{className:"swap-on h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",placeholder:"Search",className:"bg-yellow-100 input input-bordered w-24 md:w-auto"}),j.jsxs("div",{className:"dropdown dropdown-end",children:[j.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar bg-yellow-50",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg"})})}),j.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-yellow-50 text-gray-800 rounded-box z-1 mt-3 w-52 p-2 shadow visible absolute top-[50%]",children:[j.jsxs("div",{className:"px-4 py-3 border-b border-yellow-200 bg-white bg-opacity-60 rounded-t-xl",children:[j.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Trần Nguyễn Hồng Hà"}),j.jsx("button",{onClick:()=>n("/meowstudy/profile"),className:"text-gray-800 font-sans cursor-pointer",children:"Tap to see your profile"})]}),j.jsx("li",{children:j.jsxs("ul",{className:"text-sm text-gray-700 divide-y divide-yellow-100",children:[["Settings","Help","Accessibility","Feedback"].map(e=>j.jsx("li",{className:"px-4 py-2 hover:bg-yellow-50 transition duration-200 cursor-pointer",children:e},e)),j.jsx("li",{className:"px-4 py-2 text-red-600 hover:bg-red-50 font-medium cursor-pointer",children:"Log out"})]})})]})]})]})]}),j.jsxs("div",{tabIndex:0,className:"collapse collapse-open bg-yellow-300 text-gray-800 w-full rounded-none",children:[j.jsx("div",{className:"collapse-title font-semibold",children:"더 똑똑하게 공부하세요 — NoteMeow와 함께."}),j.jsx("div",{className:"collapse-content text-sm",children:"완벽한 노트, 아름다운 집중. 형식보다 학습에 집중할 수 있도록 스마트하게 설계된 템플릿. 미니멀하고 세련되며, 바로 출력 가능한 디자인. 당신의 공부 공간은 고급스러울 자격이 있어요."})]}),j.jsxs("div",{tabIndex:0,className:"collapse collapse-open bg-yellow-200 text-gray-800 w-full rounded-none",children:[j.jsx("div",{className:"collapse-title font-semibold",children:"もっとスマートに勉強しよう — NoteMeowと一緒に。"}),j.jsx("div",{className:"collapse-content text-sm",children:"完璧なノート、美しい集中力。 フォーマットに時間をかけず、学びに集中できるように、考え抜かれたテンプレートを用意しました。 ミニマルで美しく、印刷もすぐにできるデザイン。 あなたの勉強空間には、上質さがふさわしい。"})]}),j.jsxs("div",{tabIndex:0,className:"collapse collapse-open bg-yellow-100 text-gray-800 w-full rounded-none",children:[j.jsx("div",{className:"collapse-title font-semibold text-xl",children:"Study smarter, not harder — with NoteMeow."}),j.jsx("div",{className:"collapse-content text-md text-justify",children:"Perfect notes, beautiful focus. Designed templates that think for you — so you can spend less time formatting and more time learning. Minimal, aesthetic, and print-ready for every brilliant thought you jot down. Because your study space deserves elegance."})]}),j.jsxs("div",{className:"min-h-screen space-y-2 mx-auto items-center mt[-5px] relative p-10 carousel w-full",children:[j.jsxs("div",{className:"carousel w-full bg-yellow-50",children:[j.jsxs("div",{id:"slide1",alt:"Background",className:"carousel-item relative w-full",children:[j.jsx("img",{src:"./public/photo/Arknights-1.jpg",className:"w-full object-cover opacity-50 inset-0 bg-white/20 backdrop-blur-md"}),j.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex flex-col p-8 mx-auto space-y-8",children:[j.jsx("h1",{className:"text-5xl font-bold text-gray-800 font-family: ui-monospace",children:"MASTER YOUR VOCABULARY WITH NOTE MEOW!"}),j.jsxs("h3",{className:"text-3xl font-bold text-gray-800 text-center",children:['"Note Meow is your personal vocabulary vault—never forget a word again! ',j.jsx("br",{}),'Save, organize, and review your words effortlessly."',j.jsx("br",{})]}),j.jsx("button",{onClick:()=>n("/meowstudy/create"),className:"text-3xl p-10 font-bold text-gray-800 btn-soft btn-warning btn bg-yellow-50 border-none hover:bg-yellow-100 cursor-pointer",children:"Let's study with MEOW!"})]}),j.jsxs("div",{className:"absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between",children:[j.jsx("a",{href:"#slide4",className:"btn btn-circle",children:"❮"}),j.jsx("a",{href:"#slide2",className:"btn btn-circle",children:"❯"})]})]}),j.jsxs("div",{id:"slide2",className:"carousel-item relative w-full",children:[j.jsx("img",{src:"./public/photo/Arknights-7.jpg",className:"w-full object-cover opacity-50 inset-0 bg-white/20 backdrop-blur-md"}),j.jsxs("div",{className:"absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between",children:[j.jsx("a",{href:"#slide1",className:"btn btn-circle",children:"❮"}),j.jsx("a",{href:"#slide3",className:"btn btn-circle",children:"❯"})]})]})]}),j.jsx("div",{className:"bg-yellow-50 p-6 h-full min-h-[500px] item-start",children:j.jsx(NP,{className:"shadow-md rounded-lg h-full min-h-[500px] col-span-1 flex flex-col"})})]})]})},DP=()=>j.jsxs("footer",{className:"footer footer-horizontal footer-center bg-yellow-50 text-gray-800 p-10",children:[j.jsxs("aside",{children:[j.jsx("img",{src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg",alt:"Logo",className:"w-60 h-60 "}),j.jsxs("p",{className:"font-bold",children:["NOTE MEOW FOR STUDY Ltd.",j.jsx("br",{}),"Providing reliable tech since 2025"]}),j.jsxs("p",{children:["Copyright © ",new Date().getFullYear()," - All right reserved"]})]}),j.jsx("nav",{children:j.jsxs("div",{className:"grid grid-flow-col gap-4 mb-10",children:[j.jsx("a",{children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:j.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),j.jsx("a",{children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:j.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),j.jsx("a",{children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:j.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})})]}),LP=()=>{const[n,e]=se.useState(!1),t=[{title:"Text",desc:"Add freeform text",icon:"📝"},{title:"Video",desc:"Add a video block",icon:"🎥"}];return j.jsx("div",{className:"w-full bg-yellow-50",children:j.jsxs("div",{className:"relative text-gray-800 w-full max-w-full bg-yellow-50",children:[j.jsx("p",{classname:"text-xl text-gray-800 text-center font-bold mb-2",children:" What are you looking for?"}),j.jsx("input",{type:"text",placeholder:"Search for a block",className:"w-full px-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-yellow-50",onFocus:()=>e(!0),onBlur:()=>setTimeout(()=>e(!1),100)}),n&&j.jsx("ul",{classname:"absolute w-full bg-white shadow-lg rounded-lg mt-2 z-10",children:t.map(r=>j.jsxs("li",{className:"flex items-start gap-3 px-4 py-3 hover:bg-gray-100 cursor-pointer",children:[j.jsx("div",{className:"mt-1 text-blue-500",children:r.icon}),j.jsxs("div",{children:[j.jsx("p",{className:"font-medium",children:r.title}),j.jsx("p",{className:"text-sm text-gray-500",children:r.desc})]})]},r.title))})]})})},MP=()=>j.jsxs("div",{children:[j.jsx(OP,{}),j.jsx(LP,{}),j.jsx(DP,{})]});function jP(){const n=uo();return j.jsxs("div",{className:"bg-[url('/photo/Arknights-1.jpg')] bg-cover bg-center bg-no-repeat h-500 min-h-screen ",children:[j.jsxs("div",{className:"navbar fixed top-0 left-0 w-full z-index-9999 mb-50 padding-top-60 bg-yellow-50 text-gray-800 shadow-md px-6 py-2 flex justify-between items-center absolute",children:[j.jsx("div",{className:"flex-1 flex items-center gap-6",children:j.jsx("button",{onClick:()=>n("/meowstudy/"),className:"text-gray-800 font-bold text-2xl font-sans ml-30 cursor-pointer p-2",children:"NOTE MEOW FOR STUDY"})}),j.jsxs("label",{className:"swap swap-rotate mr-2",children:[j.jsx("input",{type:"checkbox",className:"theme-controller",value:"cupcake"}),j.jsx("svg",{className:"swap-off h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),j.jsx("svg",{className:"swap-on h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",placeholder:"Search",className:"bg-yellow-100 input input-bordered w-24 md:w-auto"}),j.jsxs("div",{className:"dropdown dropdown-end",children:[j.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar bg-yellow-50",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg"})})}),j.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-yellow-50 text-gray-800 rounded-box z-1 mt-3 w-52 p-2 shadow visible absolute top-[50%]",children:[j.jsxs("div",{className:"px-4 py-3 border-b border-yellow-200 bg-white bg-opacity-60 rounded-t-xl",children:[j.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Trần Nguyễn Hồng Hà"}),j.jsx("p",{className:"text-xs text-gray-500",children:"Tap to see your profile"})]}),j.jsx("li",{children:j.jsxs("ul",{className:"text-sm text-gray-700 divide-y divide-yellow-100",children:[["Settings","Help","Accessibility","Feedback"].map(e=>j.jsx("li",{className:"px-4 py-2 hover:bg-yellow-50 transition duration-200 cursor-pointer",children:e},e)),j.jsx("li",{className:"px-4 py-2 text-red-600 hover:bg-red-50 font-medium cursor-pointer",children:"Log out"})]})})]})]})]})]}),j.jsxs("div",{className:"space-y-4 p-20 y-5",children:[" ",j.jsxs("div",{className:"collapse collapse-arrow bg-yellow-100 border border-yellow-200 rounded-md shadow-md",children:[j.jsx("input",{type:"checkbox",className:"peer"}),j.jsx("div",{className:"collapse-title text-xl font-bold text-gray-800 peer-checked:bg-yellow-200",children:"ABOUT NOTE MEOW"}),j.jsxs("div",{className:"collapse-content text-gray-700 peer-checked:bg-yellow-50",children:[j.jsxs("p",{className:"mt-4",children:["Welcome to NoteMeow — where your thoughts find their perfect place.",j.jsx("br",{}),j.jsx("br",{}),"NoteMeow is more than just an online note-taking tool — it’s a thoughtfully designed platform that transforms your everyday notes into something beautiful, functional, and truly yours. Whether you're a student, a creative, a teacher, a busy professional, or someone who simply loves being organized, NoteMeow helps you capture your ideas with clarity and style.",j.jsx("br",{}),j.jsx("br",{}),"At NoteMeow, we believe that note-taking should be both practical and delightful. Instead of starting from scratch in Word or cluttered documents, our platform offers a collection of elegant, customizable templates that make note creation not only easier but also more inspiring. From minimalistic designs to vibrant layouts, you can choose a note style that suits your mood, purpose, or personality.",j.jsx("br",{}),j.jsx("br",{}),"With just a few clicks, users can create structured, visually appealing notes directly in their browser — no need to download complicated software. Want to take your notes offline? No problem. With our simple export function, you can download and print your notes in clean, high-quality formats that are presentation-ready and printer-friendly. Your ideas deserve better than plain text."]}),j.jsx("br",{})]})]}),j.jsxs("div",{className:"collapse collapse-arrow bg-yellow-100 border border-yellow-200 rounded-md shadow-md",children:[j.jsx("input",{type:"checkbox",className:"peer"}),j.jsx("div",{className:"collapse-title text-xl font-bold text-gray-800 peer-checked:bg-yellow-200",children:"WHY NOTE MEOW?"}),j.jsx("div",{className:"collapse-content text-gray-700 peer-checked:bg-yellow-50",children:j.jsxs("p",{className:"mt-4 p-3",children:["📝 Easy-to-use interface: Write, edit, and format notes effortlessly.",j.jsx("br",{}),j.jsx("br",{}),"🎨 Stylish templates: Choose from a wide range of pre-designed layouts — perfect for study notes, meeting summaries, journaling, or personal lists.",j.jsx("br",{}),j.jsx("br",{}),"💾 Instant export: Download your notes as beautifully formatted files ready for printing or sharing.",j.jsx("br",{}),j.jsx("br",{}),"☁️ No sign-up required (optional): Get started instantly, or create an account to save and organize your notes online.",j.jsx("br",{}),j.jsx("br",{}),"😻 Designed with care: Just like a cat carefully chooses its spot, NoteMeow helps you create notes with intention and elegance.",j.jsx("br",{}),j.jsx("br",{}),"We built NoteMeow with one simple mission in mind: to help people take better notes — the kind they’ll actually want to look back on. Notes that are organized, aesthetic, and easy to manage. Whether you're planning a project, writing a study guide, or simply jotting down thoughts, NoteMeow is here to make your note-taking process smoother and more enjoyable.",j.jsx("br",{}),j.jsx("br",{}),"So go ahead — write something worth remembering. With NoteMeow, your notes don’t just work — they purr."]})})]}),j.jsxs("div",{className:"collapse collapse-arrow bg-yellow-100 border border-yellow-200 rounded-md shadow-md",children:[j.jsx("input",{type:"checkbox",className:"peer"}),j.jsx("div",{className:"collapse-title text-xl font-bold text-gray-800 peer-checked:bg-yellow-200",children:"POLICY & LICENSES"}),j.jsx("div",{className:"collapse-content text-gray-700 peer-checked:bg-yellow-50",children:j.jsxs("p",{className:"mt-4",children:["NoteMeow is built by a small but passionate team of designers, developers, and note-takers who share one belief: that even the simplest tool can bring joy when it’s crafted with care. We’re not trying to reinvent note-taking — we’re making it better, friendlier, and more beautiful.",j.jsx("br",{}),j.jsx("br",{}),"Our team draws inspiration from both the structure of traditional notebooks and the flexibility of modern digital tools. We believe in balance: between function and form, between speed and simplicity, between doing more and focusing on less. Every feature in NoteMeow is carefully chosen to help users write with intention — not distraction.",j.jsx("br",{}),j.jsx("br",{}),"Just like a well-written note, we value clarity and purpose. We're obsessed with the small details: typography that feels comfortable, layouts that make sense, and colors that don't overwhelm. Every template we create is tested by real users — because we’re users too.",j.jsx("br",{}),j.jsx("br",{}),"We’re building NoteMeow for the people who open a fresh page with excitement. For the ones who organize chaos into clarity. For those who love lists, mind maps, summaries, journals, and scribbles that matter. If that’s you, you’re in the right place."]})})]}),j.jsxs("div",{className:"collapse collapse-arrow bg-yellow-100 border border-yellow-200 rounded-md shadow-md",children:[j.jsx("input",{type:"checkbox",className:"peer"}),j.jsx("div",{className:"collapse-title text-xl font-bold text-gray-800 peer-checked:bg-yellow-200",children:"OUR VISIONS"}),j.jsx("div",{className:"collapse-content text-gray-700 peer-checked:bg-yellow-50",children:j.jsxs("p",{className:"mt-4",children:["We envision a future where digital note-taking feels as personal as pen and paper — but smarter. Where people can create notes they’re proud of, share them easily, and store them safely. A world where productivity meets creativity, and where simplicity doesn't come at the cost of beauty. As we grow, our mission stays the same: To make note-taking enjoyable, efficient, and emotionally satisfying.",j.jsx("br",{}),j.jsx("br",{}),"In the future, we plan to expand NoteMeow with features like cloud sync, team collaboration, and a wider library of templates for everything from academic study to business planning. But no matter how far we go, we’ll always keep the user at the heart of every update.",j.jsx("br",{}),j.jsx("br",{}),"NoteMeow isn’t just a tool — it is a mindset. A calm, clear, curious space where your ideas can take shape and shine.",j.jsx("br",{}),j.jsx("br",{}),"Let’s make note-taking something you look forward to."]})})]})]}),j.jsxs("footer",{className:"footer footer-horizontal footer-center bg-yellow-50 text-gray-800 p-10",children:[j.jsxs("aside",{children:[j.jsx("img",{src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg",alt:"Logo",className:"w-60 h-60 "}),j.jsxs("p",{className:"font-bold",children:["NOTE MEOW FOR STUDY Ltd.",j.jsx("br",{}),"Providing reliable tech since 2025"]}),j.jsxs("p",{children:["Copyright © ",new Date().getFullYear()," - All right reserved"]})]}),j.jsx("nav",{children:j.jsxs("div",{className:"grid grid-flow-col gap-4 mb-10",children:[j.jsx("a",{children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:j.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),j.jsx("a",{children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:j.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),j.jsx("a",{children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:j.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})})]})]})}const VP=()=>{const n=uo();return j.jsxs("div",{className:"min-h-screen bg-[url('/photo/Arknights-1.jpg')] bg-cover bg-center bg-no-repeat h-auto",children:[j.jsxs("div",{className:"navbar fixed top-0 left-0 w-full z-index-9999 mb-50 padding-top-60 bg-yellow-50 text-gray-800 shadow-md px-6 py-2 flex justify-between items-center absolute",children:[j.jsxs("div",{className:"flex-1 flex items-center gap-6",children:[j.jsx("button",{onClick:()=>n("/meowstudy/"),className:"text-gray-800 font-bold text-2xl font-sans ml-30 cursor-pointer p-2",children:"NOTE MEOW FOR STUDY"}),j.jsx("button",{onClick:()=>n("/meowstudy/"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer p-2",children:"SETTING"}),j.jsx("button",{onClick:()=>n("/meowstudy/"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer p-2",children:"ACCESSIBILYTES"}),j.jsx("button",{onClick:()=>n("/meowstudy/"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer p-2",children:"FEEDBACK"})]}),j.jsxs("label",{className:"swap swap-rotate mr-2",children:[j.jsx("input",{type:"checkbox",className:"theme-controller",value:"cupcake"}),j.jsx("svg",{className:"swap-off h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),j.jsx("svg",{className:"swap-on h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",placeholder:"Search",className:"bg-yellow-100 input input-bordered w-24 md:w-auto"}),j.jsxs("div",{className:"dropdown dropdown-end",children:[j.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar bg-yellow-50",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg"})})}),j.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-yellow-50 text-gray-800 rounded-box z-1 mt-3 w-52 p-2 shadow visible absolute top-[50%]",children:[j.jsxs("div",{className:"px-4 py-3 border-b border-yellow-200 bg-white bg-opacity-60 rounded-t-xl",children:[j.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Trần Nguyễn Hồng Hà"}),j.jsx("p",{className:"text-xs text-gray-500",children:"Tap to see your profile"})]}),j.jsx("li",{children:j.jsxs("ul",{className:"text-sm text-gray-700 divide-y divide-yellow-100",children:[["Settings","Help","Accessibility","Feedback"].map(e=>j.jsx("li",{className:"px-4 py-2 hover:bg-yellow-50 transition duration-200 cursor-pointer",children:e},e)),j.jsx("li",{className:"px-4 py-2 text-red-600 hover:bg-red-50 font-medium cursor-pointer",children:"Log out"})]})})]})]})]})]}),j.jsx("h1",{className:"leading-tight p-4 inline-block mt-9 flex items-center justify-center text-yellow-800 font-bold text-5xl text-center shadow-lg w-[70%] md:w-[50%] mx-auto bg-yellow-50 p-20 ",children:"PROFILE"}),j.jsxs("div",{className:"shadow-lg w-[70%] md:w-[50%] mx-auto bg-yellow-50 flex items-center gap-4 p-10 mt-[-3%]",children:[j.jsx("img",{src:"./public/photo/avatar.jpg",alt:"Avatar",className:"max-w-[300px] h-auto object-cover  p-10"}),j.jsxs("div",{className:"text-gray-800 p-8 text-justify",children:[j.jsx("h2",{className:"text-3xl font-bold",children:"INFORMATION"}),j.jsx("br",{}),j.jsxs("p",{children:[j.jsx("b",{children:"Full Name"}),": Tran Nguyen Hong Ha"]}),j.jsxs("p",{children:[j.jsx("b",{children:"Employee-Position"}),":Software Engineer"]}),j.jsxs("p",{children:[j.jsx("b",{children:"Date of Birth"}),": 22-07-2000"]}),j.jsxs("p",{children:[j.jsx("b",{children:"Gender"}),": Female"]}),j.jsxs("p",{children:[j.jsx("b",{children:"Phone"}),": +84933729953"]}),j.jsxs("p",{children:[j.jsx("b",{children:"Email"}),": hongha.hatu@gmail.com"]}),j.jsxs("p",{children:[j.jsx("b",{children:"Address"}),": Ho Chi Minh City"]}),j.jsxs("p",{children:[j.jsx("b",{children:"Website"}),": ",j.jsx("a",{href:"https://linkedin.com/...",children:"LinkedIn"})]})]})]}),j.jsxs("div",{className:" p-10 shadow-lg  w-[70%] md:w-[50%] mt-[-5%] mx-auto bg-yellow-50 items-center ",children:[j.jsxs("section",{className:"text-gray-800  ",children:[j.jsx("h2",{className:"text-3xl font-bold",children:"ABOUT ME"}),j.jsx("br",{}),j.jsxs("p",{className:"justify-center text-justify",children:["I am writing to express my interest in the Frontend Developer position at your company. With a strong foundation in React, JavaScript, and Tailwind CSS, I’m confident in my ability to contribute to your team by building clean, responsive, and user-friendly web interfaces.",j.jsx("br",{}),j.jsx("br",{}),"Over the past year, I have worked on several frontend projects from creating personal portfolio websites to developing e-commerce UI mockups using modern technologies like React and Tailwind. I take pride in writing clean, maintainable code, and turning design ideas into fully functional interfaces. My background includes internships at Amazing-Tech, where I gained hands-on experience working in professional environments.",j.jsx("br",{}),j.jsx("br",{}),"While I am still expanding my skills in backend integration, I am eager to learn, improve, and contribute to team-based projects. I enjoy collaborating with others, receiving feedback, and continuously refining my frontend capabilities. ",j.jsx("br",{}),j.jsx("br",{}),"Thank you for considering my application. I look forward to the opportunity to contribute to your team and grow as a frontend developer in your dynamic and innovative environment.",j.jsx("br",{})]}),j.jsx("br",{})]}),j.jsxs("section",{className:"text-gray-800",children:[j.jsx("h2",{className:"text-3xl font-bold",children:"WORK EXPERIENCE"}),j.jsx("br",{}),j.jsx("div",{class:"overflow-x-auto",children:j.jsxs("table",{class:"table table-md border",children:[j.jsx("thead",{className:"",children:j.jsxs("tr",{className:"text-gray-800 text-sm font-bold bg-yellow-100 bg-glass border-b border-gray-300",children:[j.jsx("th",{children:"Time"}),j.jsx("th",{children:"Company"}),j.jsx("th",{children:"Position"}),j.jsx("th",{children:"My resposibilities"})]})}),j.jsxs("tbody",{children:[j.jsxs("tr",{className:"border-b border-gray-300 my-6",children:[j.jsx("th",{children:"04/2025 - Present"}),j.jsx("td",{children:"HATU Group (Real Estate)"}),j.jsx("td",{children:"Sales & Marketing Assistant "}),j.jsxs("td",{children:["•	Supported real estate sales team by sourcing customer data and leads",j.jsx("br",{}),j.jsx("br",{}),"•	Conducted market research and gathered client information via English platforms",j.jsx("br",{}),j.jsx("br",{}),"•	Assisted tele sales team by organizing and filtering leads for land sale calls",j.jsx("br",{}),j.jsx("br",{}),"•	Collaborated with marketing team to run small-scale lead generation campaigns",j.jsx("br",{}),j.jsx("br",{}),"•	Gained experience in customer profiling, CRM tools, and communication in English",j.jsx("br",{}),j.jsx("br",{})]})]}),j.jsxs("tr",{className:"border-b border-gray-300 my-6",children:[j.jsx("th",{children:"11/2024-03/2025"}),j.jsx("td",{children:"Solar Discovery Co."}),j.jsx("td",{children:"Data Processing "}),j.jsxs("td",{children:["• Handled warehouse inventory data and sanitation reports",j.jsx("br",{}),j.jsx("br",{}),"• Used Excel and digital tools for basic data analysis",j.jsx("br",{}),j.jsx("br",{})]})]}),j.jsxs("tr",{className:"border-b border-gray-300 my-6",children:[j.jsx("th",{children:"06/2024 – 10/2024"}),j.jsx("td",{children:"Haseca Co. (Nidec Sankyo) "}),j.jsx("td",{children:"HR Data Management "}),j.jsxs("td",{children:["• Managed personnel data in canteen operations",j.jsx("br",{}),j.jsx("br",{}),"• Enhanced patience and workplace communication",j.jsx("br",{}),j.jsx("br",{})]})]}),j.jsxs("tr",{className:"border-b border-gray-300 my-6",children:[j.jsx("th",{children:"02/2024 – 05/2024"}),j.jsx("td",{children:" Hi Mart Co., D2  "}),j.jsx("td",{children:"Data Entry & Analysis  "}),j.jsxs("td",{children:["• Performed data entry and basic analytics in English and Korean ",j.jsx("br",{}),j.jsx("br",{}),"• Improved ability to work under pressure",j.jsx("br",{}),j.jsx("br",{})]})]}),j.jsxs("tr",{children:[j.jsx("th",{children:"10/2023 – 12/2023"}),j.jsx("td",{children:"Amazing-Tech  "}),j.jsx("td",{children:"Frontend Intern  "}),j.jsxs("td",{children:["• Worked on UI development using React and Tailwind CSS",j.jsx("br",{}),j.jsx("br",{}),"• Collaborated with senior developers to follow clean code practices",j.jsx("br",{}),j.jsx("br",{}),"• Gained experience in Agile workflow and team communication"]})]})]})]})})]}),j.jsxs("section",{className:"text-gray-800 mt-6",children:[j.jsx("h2",{className:"text-3xl font-bold",children:"MY PROJECT"}),j.jsxs("div",{className:"grid gap-6 p-2 mt-3",children:[j.jsxs("div",{className:"bg-yellow-100 shadow-md rounded-box p-4",children:[j.jsx("h2",{className:"text-lg font-bold",children:"Final Project – COMP1682"}),j.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tech stack: React, SCSS, JavaScript"}),j.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[j.jsx("li",{children:"Developed a comprehensive website as the final project for COMP1682"}),j.jsx("li",{children:"Implemented responsive design and interactive features using React and SCSS"}),j.jsx("li",{children:j.jsx("a",{href:"https://github.com/your-repo",className:"text-blue-500 underline",children:"GitHub Repository"})})]})]}),j.jsxs("div",{className:"bg-yellow-100 shadow-md rounded-box p-4",children:[j.jsx("h2",{className:"text-lg font-bold",children:"Capstone 1 – Meow Meow"}),j.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tech stack: HTML, CSS"}),j.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[j.jsx("li",{children:"Created a multi-page website as part of Capstone 1 project"}),j.jsx("li",{children:"Focused on clean layout and user-friendly navigation"}),j.jsx("li",{children:j.jsx("a",{href:"https://github.com/your-repo",className:"text-blue-500 underline",children:"GitHub Repository"})})]})]}),j.jsxs("div",{className:"bg-yellow-100 shadow-md rounded-box p-4",children:[j.jsx("h2",{className:"text-lg font-bold",children:"Profile Portfolio"}),j.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tech stack: HTML, CSS, JavaScript"}),j.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[j.jsx("li",{children:"Designed and built a personal portfolio website to showcase projects and skills"}),j.jsx("li",{children:"Emphasized responsive design and aesthetic appeal"}),j.jsx("li",{children:j.jsx("a",{href:"https://github.com/your-repo",className:"text-blue-500 underline",children:"GitHub Repository"})})]})]})]})]}),j.jsxs("section",{className:"text-gray-800 mt-6",children:[j.jsx("h2",{className:"text-3xl font-bold",children:"SKILL"}),j.jsx("div",{className:" p-2 mt-3",children:j.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[j.jsx("li",{children:"Strong knowledge of JavaScript (ES6+) and React for building responsive user interfaces. "}),j.jsx("li",{children:"Proficient in Tailwind CSS, HTML5, and component-based design."}),j.jsx("li",{children:"Familiar with Firebase, MongoDB, and Strapi for handling basic data workflows."}),j.jsx("li",{children:"Able to transform design prototypes (Figma, Axure) into functional UI."}),j.jsx("li",{children:"Basic understanding of Git, version control, and frontend deployment."}),j.jsx("li",{children:"Comfortable using office software (Word, Excel, Publisher, Access)."}),j.jsx("li",{children:"Experience with image editing tools (Canva, Photoshop). "}),j.jsx("li",{children:"Good communication skills in both Vietnamese and English, basic Korean."})]})})]}),j.jsxs("section",{className:"text-gray-800 mt-6",children:[j.jsx("h2",{className:"text-3xl font-bold",children:"EDUCATION"}),j.jsx("div",{class:"overflow-x-auto",children:j.jsxs("table",{class:"table table-md border",children:[j.jsx("thead",{className:"",children:j.jsxs("tr",{className:"text-gray-800 text-sm font-bold bg-yellow-100 bg-glass border-b border-gray-300",children:[j.jsx("th",{children:"Time"}),j.jsx("th",{children:"Name of School/University"})]})}),j.jsxs("tbody",{children:[j.jsxs("tr",{className:"border-b border-gray-300 my-6",children:[j.jsx("th",{children:"2018"}),j.jsx("td",{children:" Completed Phuoc Long high school program. "})]}),j.jsxs("tr",{className:"border-b border-gray-300 my-6",children:[j.jsx("th",{children:"2019-2024"}),j.jsx("td",{children:" Completed university program (Degree awarded) University of Greenwich Computing Third Class (2022 - Feb 2024)  "})]})]})]})})]}),j.jsxs("section",{className:"text-gray-800 mt-6",children:[j.jsx("h2",{className:"text-3xl font-bold",children:"STATEMENT"}),j.jsx("p",{className:"mt-3 text-jusify justify-center",children:"I’m excited about the opportunity to contribute to a professional environment where I can continue growing as a frontend developer. I’m eager to learn, improve my backend integration skills, and collaborate with a team that values clean, user-focused interfaces. Thank you for considering my application, I look forward to the possibility of joining your team."})]})]})]})};var cp,A1;function FP(){if(A1)return cp;A1=1;function n(){this.__data__=[],this.size=0}return cp=n,cp}var fp,S1;function _x(){if(S1)return fp;S1=1;function n(e,t){return e===t||e!==e&&t!==t}return fp=n,fp}var hp,I1;function nh(){if(I1)return hp;I1=1;var n=_x();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return hp=e,hp}var dp,k1;function UP(){if(k1)return dp;k1=1;var n=nh(),e=Array.prototype,t=e.splice;function r(i){var a=this.__data__,l=n(a,i);if(l<0)return!1;var u=a.length-1;return l==u?a.pop():t.call(a,l,1),--this.size,!0}return dp=r,dp}var pp,R1;function BP(){if(R1)return pp;R1=1;var n=nh();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return pp=e,pp}var mp,P1;function qP(){if(P1)return mp;P1=1;var n=nh();function e(t){return n(this.__data__,t)>-1}return mp=e,mp}var gp,C1;function zP(){if(C1)return gp;C1=1;var n=nh();function e(t,r){var i=this.__data__,a=n(i,t);return a<0?(++this.size,i.push([t,r])):i[a][1]=r,this}return gp=e,gp}var yp,N1;function rh(){if(N1)return yp;N1=1;var n=FP(),e=UP(),t=BP(),r=qP(),i=zP();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,yp=a,yp}var vp,O1;function HP(){if(O1)return vp;O1=1;var n=rh();function e(){this.__data__=new n,this.size=0}return vp=e,vp}var _p,D1;function $P(){if(D1)return _p;D1=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return _p=n,_p}var wp,L1;function WP(){if(L1)return wp;L1=1;function n(e){return this.__data__.get(e)}return wp=n,wp}var Ep,M1;function KP(){if(M1)return Ep;M1=1;function n(e){return this.__data__.has(e)}return Ep=n,Ep}var Tp,j1;function wx(){if(j1)return Tp;j1=1;var n=typeof Wc=="object"&&Wc&&Wc.Object===Object&&Wc;return Tp=n,Tp}var bp,V1;function Ti(){if(V1)return bp;V1=1;var n=wx(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return bp=t,bp}var xp,F1;function py(){if(F1)return xp;F1=1;var n=Ti(),e=n.Symbol;return xp=e,xp}var Ap,U1;function GP(){if(U1)return Ap;U1=1;var n=py(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function a(l){var u=t.call(l,i),f=l[i];try{l[i]=void 0;var h=!0}catch{}var m=r.call(l);return h&&(u?l[i]=f:delete l[i]),m}return Ap=a,Ap}var Sp,B1;function QP(){if(B1)return Sp;B1=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Sp=t,Sp}var Ip,q1;function ih(){if(q1)return Ip;q1=1;var n=py(),e=GP(),t=QP(),r="[object Null]",i="[object Undefined]",a=n?n.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):t(u)}return Ip=l,Ip}var kp,z1;function Ex(){if(z1)return kp;z1=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return kp=n,kp}var Rp,H1;function Tx(){if(H1)return Rp;H1=1;var n=ih(),e=Ex(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function l(u){if(!e(u))return!1;var f=n(u);return f==r||f==i||f==t||f==a}return Rp=l,Rp}var Pp,$1;function YP(){if($1)return Pp;$1=1;var n=Ti(),e=n["__core-js_shared__"];return Pp=e,Pp}var Cp,W1;function XP(){if(W1)return Cp;W1=1;var n=YP(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Cp=t,Cp}var Np,K1;function bx(){if(K1)return Np;K1=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Np=t,Np}var Op,G1;function ZP(){if(G1)return Op;G1=1;var n=Tx(),e=XP(),t=Ex(),r=bx(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,f=l.toString,h=u.hasOwnProperty,m=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(d){if(!t(d)||e(d))return!1;var y=n(d)?m:a;return y.test(r(d))}return Op=g,Op}var Dp,Q1;function JP(){if(Q1)return Dp;Q1=1;function n(e,t){return e==null?void 0:e[t]}return Dp=n,Dp}var Lp,Y1;function Ra(){if(Y1)return Lp;Y1=1;var n=ZP(),e=JP();function t(r,i){var a=e(r,i);return n(a)?a:void 0}return Lp=t,Lp}var Mp,X1;function my(){if(X1)return Mp;X1=1;var n=Ra(),e=Ti(),t=n(e,"Map");return Mp=t,Mp}var jp,Z1;function sh(){if(Z1)return jp;Z1=1;var n=Ra(),e=n(Object,"create");return jp=e,jp}var Vp,J1;function eC(){if(J1)return Vp;J1=1;var n=sh();function e(){this.__data__=n?n(null):{},this.size=0}return Vp=e,Vp}var Fp,ew;function tC(){if(ew)return Fp;ew=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Fp=n,Fp}var Up,tw;function nC(){if(tw)return Up;tw=1;var n=sh(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(a){var l=this.__data__;if(n){var u=l[a];return u===e?void 0:u}return r.call(l,a)?l[a]:void 0}return Up=i,Up}var Bp,nw;function rC(){if(nw)return Bp;nw=1;var n=sh(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var a=this.__data__;return n?a[i]!==void 0:t.call(a,i)}return Bp=r,Bp}var qp,rw;function iC(){if(rw)return qp;rw=1;var n=sh(),e="__lodash_hash_undefined__";function t(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&i===void 0?e:i,this}return qp=t,qp}var zp,iw;function sC(){if(iw)return zp;iw=1;var n=eC(),e=tC(),t=nC(),r=rC(),i=iC();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,zp=a,zp}var Hp,sw;function oC(){if(sw)return Hp;sw=1;var n=sC(),e=rh(),t=my();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Hp=r,Hp}var $p,ow;function aC(){if(ow)return $p;ow=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return $p=n,$p}var Wp,aw;function oh(){if(aw)return Wp;aw=1;var n=aC();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Wp=e,Wp}var Kp,lw;function lC(){if(lw)return Kp;lw=1;var n=oh();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return Kp=e,Kp}var Gp,uw;function uC(){if(uw)return Gp;uw=1;var n=oh();function e(t){return n(this,t).get(t)}return Gp=e,Gp}var Qp,cw;function cC(){if(cw)return Qp;cw=1;var n=oh();function e(t){return n(this,t).has(t)}return Qp=e,Qp}var Yp,fw;function fC(){if(fw)return Yp;fw=1;var n=oh();function e(t,r){var i=n(this,t),a=i.size;return i.set(t,r),this.size+=i.size==a?0:1,this}return Yp=e,Yp}var Xp,hw;function xx(){if(hw)return Xp;hw=1;var n=oC(),e=lC(),t=uC(),r=cC(),i=fC();function a(l){var u=-1,f=l==null?0:l.length;for(this.clear();++u<f;){var h=l[u];this.set(h[0],h[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,Xp=a,Xp}var Zp,dw;function hC(){if(dw)return Zp;dw=1;var n=rh(),e=my(),t=xx(),r=200;function i(a,l){var u=this.__data__;if(u instanceof n){var f=u.__data__;if(!e||f.length<r-1)return f.push([a,l]),this.size=++u.size,this;u=this.__data__=new t(f)}return u.set(a,l),this.size=u.size,this}return Zp=i,Zp}var Jp,pw;function dC(){if(pw)return Jp;pw=1;var n=rh(),e=HP(),t=$P(),r=WP(),i=KP(),a=hC();function l(u){var f=this.__data__=new n(u);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=i,l.prototype.set=a,Jp=l,Jp}var em,mw;function pC(){if(mw)return em;mw=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return em=e,em}var tm,gw;function mC(){if(gw)return tm;gw=1;function n(e){return this.__data__.has(e)}return tm=n,tm}var nm,yw;function gC(){if(yw)return nm;yw=1;var n=xx(),e=pC(),t=mC();function r(i){var a=-1,l=i==null?0:i.length;for(this.__data__=new n;++a<l;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,nm=r,nm}var rm,vw;function yC(){if(vw)return rm;vw=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return rm=n,rm}var im,_w;function vC(){if(_w)return im;_w=1;function n(e,t){return e.has(t)}return im=n,im}var sm,ww;function Ax(){if(ww)return sm;ww=1;var n=gC(),e=yC(),t=vC(),r=1,i=2;function a(l,u,f,h,m,g){var d=f&r,y=l.length,_=u.length;if(y!=_&&!(d&&_>y))return!1;var w=g.get(l),T=g.get(u);if(w&&T)return w==u&&T==l;var E=-1,b=!0,S=f&i?new n:void 0;for(g.set(l,u),g.set(u,l);++E<y;){var x=l[E],O=u[E];if(h)var U=d?h(O,x,E,u,l,g):h(x,O,E,l,u,g);if(U!==void 0){if(U)continue;b=!1;break}if(S){if(!e(u,function(R,I){if(!t(S,I)&&(x===R||m(x,R,f,h,g)))return S.push(I)})){b=!1;break}}else if(!(x===O||m(x,O,f,h,g))){b=!1;break}}return g.delete(l),g.delete(u),b}return sm=a,sm}var om,Ew;function _C(){if(Ew)return om;Ew=1;var n=Ti(),e=n.Uint8Array;return om=e,om}var am,Tw;function wC(){if(Tw)return am;Tw=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,a){r[++t]=[a,i]}),r}return am=n,am}var lm,bw;function EC(){if(bw)return lm;bw=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return lm=n,lm}var um,xw;function TC(){if(xw)return um;xw=1;var n=py(),e=_C(),t=_x(),r=Ax(),i=wC(),a=EC(),l=1,u=2,f="[object Boolean]",h="[object Date]",m="[object Error]",g="[object Map]",d="[object Number]",y="[object RegExp]",_="[object Set]",w="[object String]",T="[object Symbol]",E="[object ArrayBuffer]",b="[object DataView]",S=n?n.prototype:void 0,x=S?S.valueOf:void 0;function O(U,R,I,M,C,k,L){switch(I){case b:if(U.byteLength!=R.byteLength||U.byteOffset!=R.byteOffset)return!1;U=U.buffer,R=R.buffer;case E:return!(U.byteLength!=R.byteLength||!k(new e(U),new e(R)));case f:case h:case d:return t(+U,+R);case m:return U.name==R.name&&U.message==R.message;case y:case w:return U==R+"";case g:var D=i;case _:var $=M&l;if(D||(D=a),U.size!=R.size&&!$)return!1;var G=L.get(U);if(G)return G==R;M|=u,L.set(U,R);var ie=r(D(U),D(R),M,C,k,L);return L.delete(U),ie;case T:if(x)return x.call(U)==x.call(R)}return!1}return um=O,um}var cm,Aw;function bC(){if(Aw)return cm;Aw=1;function n(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}return cm=n,cm}var fm,Sw;function gy(){if(Sw)return fm;Sw=1;var n=Array.isArray;return fm=n,fm}var hm,Iw;function xC(){if(Iw)return hm;Iw=1;var n=bC(),e=gy();function t(r,i,a){var l=i(r);return e(r)?l:n(l,a(r))}return hm=t,hm}var dm,kw;function AC(){if(kw)return dm;kw=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=0,l=[];++r<i;){var u=e[r];t(u,r,e)&&(l[a++]=u)}return l}return dm=n,dm}var pm,Rw;function SC(){if(Rw)return pm;Rw=1;function n(){return[]}return pm=n,pm}var mm,Pw;function IC(){if(Pw)return mm;Pw=1;var n=AC(),e=SC(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(l){return l==null?[]:(l=Object(l),n(i(l),function(u){return r.call(l,u)}))}:e;return mm=a,mm}var gm,Cw;function kC(){if(Cw)return gm;Cw=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return gm=n,gm}var ym,Nw;function ah(){if(Nw)return ym;Nw=1;function n(e){return e!=null&&typeof e=="object"}return ym=n,ym}var vm,Ow;function RC(){if(Ow)return vm;Ow=1;var n=ih(),e=ah(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return vm=r,vm}var _m,Dw;function PC(){if(Dw)return _m;Dw=1;var n=RC(),e=ah(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return _m=a,_m}var Ol={exports:{}},wm,Lw;function CC(){if(Lw)return wm;Lw=1;function n(){return!1}return wm=n,wm}Ol.exports;var Mw;function Sx(){return Mw||(Mw=1,function(n,e){var t=Ti(),r=CC(),i=e&&!e.nodeType&&e,a=i&&!0&&n&&!n.nodeType&&n,l=a&&a.exports===i,u=l?t.Buffer:void 0,f=u?u.isBuffer:void 0,h=f||r;n.exports=h}(Ol,Ol.exports)),Ol.exports}var Em,jw;function NC(){if(jw)return Em;jw=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var a=typeof r;return i=i??n,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Em=t,Em}var Tm,Vw;function Ix(){if(Vw)return Tm;Vw=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Tm=e,Tm}var bm,Fw;function OC(){if(Fw)return bm;Fw=1;var n=ih(),e=Ix(),t=ah(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",f="[object Function]",h="[object Map]",m="[object Number]",g="[object Object]",d="[object RegExp]",y="[object Set]",_="[object String]",w="[object WeakMap]",T="[object ArrayBuffer]",E="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",x="[object Int8Array]",O="[object Int16Array]",U="[object Int32Array]",R="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",C="[object Uint32Array]",k={};k[b]=k[S]=k[x]=k[O]=k[U]=k[R]=k[I]=k[M]=k[C]=!0,k[r]=k[i]=k[T]=k[a]=k[E]=k[l]=k[u]=k[f]=k[h]=k[m]=k[g]=k[d]=k[y]=k[_]=k[w]=!1;function L(D){return t(D)&&e(D.length)&&!!k[n(D)]}return bm=L,bm}var xm,Uw;function DC(){if(Uw)return xm;Uw=1;function n(e){return function(t){return e(t)}}return xm=n,xm}var Dl={exports:{}};Dl.exports;var Bw;function LC(){return Bw||(Bw=1,function(n,e){var t=wx(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,l=a&&t.process,u=function(){try{var f=i&&i.require&&i.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}}();n.exports=u}(Dl,Dl.exports)),Dl.exports}var Am,qw;function kx(){if(qw)return Am;qw=1;var n=OC(),e=DC(),t=LC(),r=t&&t.isTypedArray,i=r?e(r):n;return Am=i,Am}var Sm,zw;function MC(){if(zw)return Sm;zw=1;var n=kC(),e=PC(),t=gy(),r=Sx(),i=NC(),a=kx(),l=Object.prototype,u=l.hasOwnProperty;function f(h,m){var g=t(h),d=!g&&e(h),y=!g&&!d&&r(h),_=!g&&!d&&!y&&a(h),w=g||d||y||_,T=w?n(h.length,String):[],E=T.length;for(var b in h)(m||u.call(h,b))&&!(w&&(b=="length"||y&&(b=="offset"||b=="parent")||_&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,E)))&&T.push(b);return T}return Sm=f,Sm}var Im,Hw;function jC(){if(Hw)return Im;Hw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return Im=e,Im}var km,$w;function VC(){if($w)return km;$w=1;function n(e,t){return function(r){return e(t(r))}}return km=n,km}var Rm,Ww;function FC(){if(Ww)return Rm;Ww=1;var n=VC(),e=n(Object.keys,Object);return Rm=e,Rm}var Pm,Kw;function UC(){if(Kw)return Pm;Kw=1;var n=jC(),e=FC(),t=Object.prototype,r=t.hasOwnProperty;function i(a){if(!n(a))return e(a);var l=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&l.push(u);return l}return Pm=i,Pm}var Cm,Gw;function BC(){if(Gw)return Cm;Gw=1;var n=Tx(),e=Ix();function t(r){return r!=null&&e(r.length)&&!n(r)}return Cm=t,Cm}var Nm,Qw;function qC(){if(Qw)return Nm;Qw=1;var n=MC(),e=UC(),t=BC();function r(i){return t(i)?n(i):e(i)}return Nm=r,Nm}var Om,Yw;function zC(){if(Yw)return Om;Yw=1;var n=xC(),e=IC(),t=qC();function r(i){return n(i,t,e)}return Om=r,Om}var Dm,Xw;function HC(){if(Xw)return Dm;Xw=1;var n=zC(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(a,l,u,f,h,m){var g=u&e,d=n(a),y=d.length,_=n(l),w=_.length;if(y!=w&&!g)return!1;for(var T=y;T--;){var E=d[T];if(!(g?E in l:r.call(l,E)))return!1}var b=m.get(a),S=m.get(l);if(b&&S)return b==l&&S==a;var x=!0;m.set(a,l),m.set(l,a);for(var O=g;++T<y;){E=d[T];var U=a[E],R=l[E];if(f)var I=g?f(R,U,E,l,a,m):f(U,R,E,a,l,m);if(!(I===void 0?U===R||h(U,R,u,f,m):I)){x=!1;break}O||(O=E=="constructor")}if(x&&!O){var M=a.constructor,C=l.constructor;M!=C&&"constructor"in a&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof C=="function"&&C instanceof C)&&(x=!1)}return m.delete(a),m.delete(l),x}return Dm=i,Dm}var Lm,Zw;function $C(){if(Zw)return Lm;Zw=1;var n=Ra(),e=Ti(),t=n(e,"DataView");return Lm=t,Lm}var Mm,Jw;function WC(){if(Jw)return Mm;Jw=1;var n=Ra(),e=Ti(),t=n(e,"Promise");return Mm=t,Mm}var jm,eE;function KC(){if(eE)return jm;eE=1;var n=Ra(),e=Ti(),t=n(e,"Set");return jm=t,jm}var Vm,tE;function GC(){if(tE)return Vm;tE=1;var n=Ra(),e=Ti(),t=n(e,"WeakMap");return Vm=t,Vm}var Fm,nE;function QC(){if(nE)return Fm;nE=1;var n=$C(),e=my(),t=WC(),r=KC(),i=GC(),a=ih(),l=bx(),u="[object Map]",f="[object Object]",h="[object Promise]",m="[object Set]",g="[object WeakMap]",d="[object DataView]",y=l(n),_=l(e),w=l(t),T=l(r),E=l(i),b=a;return(n&&b(new n(new ArrayBuffer(1)))!=d||e&&b(new e)!=u||t&&b(t.resolve())!=h||r&&b(new r)!=m||i&&b(new i)!=g)&&(b=function(S){var x=a(S),O=x==f?S.constructor:void 0,U=O?l(O):"";if(U)switch(U){case y:return d;case _:return u;case w:return h;case T:return m;case E:return g}return x}),Fm=b,Fm}var Um,rE;function YC(){if(rE)return Um;rE=1;var n=dC(),e=Ax(),t=TC(),r=HC(),i=QC(),a=gy(),l=Sx(),u=kx(),f=1,h="[object Arguments]",m="[object Array]",g="[object Object]",d=Object.prototype,y=d.hasOwnProperty;function _(w,T,E,b,S,x){var O=a(w),U=a(T),R=O?m:i(w),I=U?m:i(T);R=R==h?g:R,I=I==h?g:I;var M=R==g,C=I==g,k=R==I;if(k&&l(w)){if(!l(T))return!1;O=!0,M=!1}if(k&&!M)return x||(x=new n),O||u(w)?e(w,T,E,b,S,x):t(w,T,R,E,b,S,x);if(!(E&f)){var L=M&&y.call(w,"__wrapped__"),D=C&&y.call(T,"__wrapped__");if(L||D){var $=L?w.value():w,G=D?T.value():T;return x||(x=new n),S($,G,E,b,x)}}return k?(x||(x=new n),r(w,T,E,b,S,x)):!1}return Um=_,Um}var Bm,iE;function XC(){if(iE)return Bm;iE=1;var n=YC(),e=ah();function t(r,i,a,l,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,a,l,t,u)}return Bm=t,Bm}var qm,sE;function ZC(){if(sE)return qm;sE=1;var n=XC();function e(t,r){return n(t,r)}return qm=e,qm}var ff={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var JC=ff.exports,oE;function eN(){return oE||(oE=1,function(n,e){(function(r,i){n.exports=i()})(typeof self<"u"?self:JC,function(){return function(t){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=t,i.c=r,i.d=function(a,l,u){i.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="",i(i.s=109)}([function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),l=i(18),u=i(19),f=i(45),h=i(46),m=i(47),g=i(48),d=i(49),y=i(12),_=i(32),w=i(33),T=i(31),E=i(1),b={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:a.default,Format:l.default,Leaf:u.default,Embed:g.default,Scroll:f.default,Block:m.default,Inline:h.default,Text:d.default,Attributor:{Attribute:y.default,Class:_.default,Style:w.default,Store:T.default}};r.default=b},function(t,r,i){var a=this&&this.__extends||function(){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var S in b)b.hasOwnProperty(S)&&(E[S]=b[S])};return function(E,b){T(E,b);function S(){this.constructor=E}E.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=function(T){a(E,T);function E(b){var S=this;return b="[Parchment] "+b,S=T.call(this,b)||this,S.message=b,S.name=S.constructor.name,S}return E}(Error);r.ParchmentError=l;var u={},f={},h={},m={};r.DATA_KEY="__blot";var g;(function(T){T[T.TYPE=3]="TYPE",T[T.LEVEL=12]="LEVEL",T[T.ATTRIBUTE=13]="ATTRIBUTE",T[T.BLOT=14]="BLOT",T[T.INLINE=7]="INLINE",T[T.BLOCK=11]="BLOCK",T[T.BLOCK_BLOT=10]="BLOCK_BLOT",T[T.INLINE_BLOT=6]="INLINE_BLOT",T[T.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",T[T.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",T[T.ANY=15]="ANY"})(g=r.Scope||(r.Scope={}));function d(T,E){var b=_(T);if(b==null)throw new l("Unable to create "+T+" blot");var S=b,x=T instanceof Node||T.nodeType===Node.TEXT_NODE?T:S.create(E);return new S(x,E)}r.create=d;function y(T,E){return E===void 0&&(E=!1),T==null?null:T[r.DATA_KEY]!=null?T[r.DATA_KEY].blot:E?y(T.parentNode,E):null}r.find=y;function _(T,E){E===void 0&&(E=g.ANY);var b;if(typeof T=="string")b=m[T]||u[T];else if(T instanceof Text||T.nodeType===Node.TEXT_NODE)b=m.text;else if(typeof T=="number")T&g.LEVEL&g.BLOCK?b=m.block:T&g.LEVEL&g.INLINE&&(b=m.inline);else if(T instanceof HTMLElement){var S=(T.getAttribute("class")||"").split(/\s+/);for(var x in S)if(b=f[S[x]],b)break;b=b||h[T.tagName]}return b==null?null:E&g.LEVEL&b.scope&&E&g.TYPE&b.scope?b:null}r.query=_;function w(){for(var T=[],E=0;E<arguments.length;E++)T[E]=arguments[E];if(T.length>1)return T.map(function(x){return w(x)});var b=T[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new l("Invalid definition");if(b.blotName==="abstract")throw new l("Cannot register abstract class");if(m[b.blotName||b.attrName]=b,typeof b.keyName=="string")u[b.keyName]=b;else if(b.className!=null&&(f[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(x){return x.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var S=Array.isArray(b.tagName)?b.tagName:[b.tagName];S.forEach(function(x){(h[x]==null||b.className==null)&&(h[x]=b)})}return b}r.register=w},function(t,r,i){var a=i(51),l=i(11),u=i(3),f=i(20),h="\0",m=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};m.prototype.insert=function(g,d){var y={};return g.length===0?this:(y.insert=g,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},m.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},m.prototype.retain=function(g,d){if(g<=0)return this;var y={retain:g};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},m.prototype.push=function(g){var d=this.ops.length,y=this.ops[d-1];if(g=u(!0,{},g),typeof y=="object"){if(typeof g.delete=="number"&&typeof y.delete=="number")return this.ops[d-1]={delete:y.delete+g.delete},this;if(typeof y.delete=="number"&&g.insert!=null&&(d-=1,y=this.ops[d-1],typeof y!="object"))return this.ops.unshift(g),this;if(l(g.attributes,y.attributes)){if(typeof g.insert=="string"&&typeof y.insert=="string")return this.ops[d-1]={insert:y.insert+g.insert},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof y.retain=="number")return this.ops[d-1]={retain:y.retain+g.retain},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this}}return d===this.ops.length?this.ops.push(g):this.ops.splice(d,0,g),this},m.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},m.prototype.filter=function(g){return this.ops.filter(g)},m.prototype.forEach=function(g){this.ops.forEach(g)},m.prototype.map=function(g){return this.ops.map(g)},m.prototype.partition=function(g){var d=[],y=[];return this.forEach(function(_){var w=g(_)?d:y;w.push(_)}),[d,y]},m.prototype.reduce=function(g,d){return this.ops.reduce(g,d)},m.prototype.changeLength=function(){return this.reduce(function(g,d){return d.insert?g+f.length(d):d.delete?g-d.delete:g},0)},m.prototype.length=function(){return this.reduce(function(g,d){return g+f.length(d)},0)},m.prototype.slice=function(g,d){g=g||0,typeof d!="number"&&(d=1/0);for(var y=[],_=f.iterator(this.ops),w=0;w<d&&_.hasNext();){var T;w<g?T=_.next(g-w):(T=_.next(d-w),y.push(T)),w+=f.length(T)}return new m(y)},m.prototype.compose=function(g){var d=f.iterator(this.ops),y=f.iterator(g.ops),_=[],w=y.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){for(var T=w.retain;d.peekType()==="insert"&&d.peekLength()<=T;)T-=d.peekLength(),_.push(d.next());w.retain-T>0&&y.next(w.retain-T)}for(var E=new m(_);d.hasNext()||y.hasNext();)if(y.peekType()==="insert")E.push(y.next());else if(d.peekType()==="delete")E.push(d.next());else{var b=Math.min(d.peekLength(),y.peekLength()),S=d.next(b),x=y.next(b);if(typeof x.retain=="number"){var O={};typeof S.retain=="number"?O.retain=b:O.insert=S.insert;var U=f.attributes.compose(S.attributes,x.attributes,typeof S.retain=="number");if(U&&(O.attributes=U),E.push(O),!y.hasNext()&&l(E.ops[E.ops.length-1],O)){var R=new m(d.rest());return E.concat(R).chop()}}else typeof x.delete=="number"&&typeof S.retain=="number"&&E.push(x)}return E.chop()},m.prototype.concat=function(g){var d=new m(this.ops.slice());return g.ops.length>0&&(d.push(g.ops[0]),d.ops=d.ops.concat(g.ops.slice(1))),d},m.prototype.diff=function(g,d){if(this.ops===g.ops)return new m;var y=[this,g].map(function(b){return b.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:h;var x=b===g?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),_=new m,w=a(y[0],y[1],d),T=f.iterator(this.ops),E=f.iterator(g.ops);return w.forEach(function(b){for(var S=b[1].length;S>0;){var x=0;switch(b[0]){case a.INSERT:x=Math.min(E.peekLength(),S),_.push(E.next(x));break;case a.DELETE:x=Math.min(S,T.peekLength()),T.next(x),_.delete(x);break;case a.EQUAL:x=Math.min(T.peekLength(),E.peekLength(),S);var O=T.next(x),U=E.next(x);l(O.insert,U.insert)?_.retain(x,f.attributes.diff(O.attributes,U.attributes)):_.push(U).delete(x);break}S-=x}}),_.chop()},m.prototype.eachLine=function(g,d){d=d||`
`;for(var y=f.iterator(this.ops),_=new m,w=0;y.hasNext();){if(y.peekType()!=="insert")return;var T=y.peek(),E=f.length(T)-y.peekLength(),b=typeof T.insert=="string"?T.insert.indexOf(d,E)-E:-1;if(b<0)_.push(y.next());else if(b>0)_.push(y.next(b));else{if(g(_,y.next(1).attributes||{},w)===!1)return;w+=1,_=new m}}_.length()>0&&g(_,{},w)},m.prototype.transform=function(g,d){if(d=!!d,typeof g=="number")return this.transformPosition(g,d);for(var y=f.iterator(this.ops),_=f.iterator(g.ops),w=new m;y.hasNext()||_.hasNext();)if(y.peekType()==="insert"&&(d||_.peekType()!=="insert"))w.retain(f.length(y.next()));else if(_.peekType()==="insert")w.push(_.next());else{var T=Math.min(y.peekLength(),_.peekLength()),E=y.next(T),b=_.next(T);if(E.delete)continue;b.delete?w.push(b):w.retain(T,f.attributes.transform(E.attributes,b.attributes,d))}return w.chop()},m.prototype.transformPosition=function(g,d){d=!!d;for(var y=f.iterator(this.ops),_=0;y.hasNext()&&_<=g;){var w=y.peekLength(),T=y.peekType();if(y.next(),T==="delete"){g-=Math.min(w,g-_);continue}else T==="insert"&&(_<g||!d)&&(g+=w);_+=w}return g},t.exports=m},function(t,r){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},h=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var _=i.call(y,"constructor"),w=y.constructor&&y.constructor.prototype&&i.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!_&&!w)return!1;var T;for(T in y);return typeof T>"u"||i.call(y,T)},m=function(y,_){l&&_.name==="__proto__"?l(y,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):y[_.name]=_.newValue},g=function(y,_){if(_==="__proto__")if(i.call(y,_)){if(u)return u(y,_).value}else return;return y[_]};t.exports=function d(){var y,_,w,T,E,b,S=arguments[0],x=1,O=arguments.length,U=!1;for(typeof S=="boolean"&&(U=S,S=arguments[1]||{},x=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});x<O;++x)if(y=arguments[x],y!=null)for(_ in y)w=g(S,_),T=g(y,_),S!==T&&(U&&T&&(h(T)||(E=f(T)))?(E?(E=!1,b=w&&f(w)?w:[]):b=w&&h(w)?w:{},m(S,{name:_,newValue:d(U,b,T)})):typeof T<"u"&&m(S,{name:_,newValue:T}));return S}},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function k(L,D){for(var $=0;$<D.length;$++){var G=D[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,D,$){return D&&k(L.prototype,D),$&&k(L,$),L}}(),l=function k(L,D,$){L===null&&(L=Function.prototype);var G=Object.getOwnPropertyDescriptor(L,D);if(G===void 0){var ie=Object.getPrototypeOf(L);return ie===null?void 0:k(ie,D,$)}else{if("value"in G)return G.value;var ee=G.get;return ee===void 0?void 0:ee.call($)}},u=i(3),f=S(u),h=i(2),m=S(h),g=i(0),d=S(g),y=i(16),_=S(y),w=i(6),T=S(w),E=i(7),b=S(E);function S(k){return k&&k.__esModule?k:{default:k}}function x(k,L){if(!(k instanceof L))throw new TypeError("Cannot call a class as a function")}function O(k,L){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:k}function U(k,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);k.prototype=Object.create(L&&L.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(k,L):k.__proto__=L)}var R=1,I=function(k){U(L,k);function L(){return x(this,L),O(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"attach",value:function(){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new m.default().insert(this.value(),(0,f.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,G){var ie=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);ie!=null&&this.attributes.attribute(ie,G)}},{key:"formatAt",value:function($,G,ie,ee){this.format(ie,ee)}},{key:"insertAt",value:function($,G,ie){if(typeof G=="string"&&G.endsWith(`
`)){var ee=d.default.create(M.blotName);this.parent.insertBefore(ee,$===0?this:this.next),ee.insertAt(0,G.slice(0,-1))}else l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,G,ie)}}]),L}(d.default.Embed);I.scope=d.default.Scope.BLOCK_BLOT;var M=function(k){U(L,k);function L(D){x(this,L);var $=O(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,D));return $.cache={},$}return a(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,G){return G.length()===0?$:$.insert(G.value(),C(G))},new m.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function($,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,$,G),this.cache={}}},{key:"formatAt",value:function($,G,ie,ee){G<=0||(d.default.query(ie,d.default.Scope.BLOCK)?$+G===this.length()&&this.format(ie,ee):l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,$,Math.min(G,this.length()-$-1),ie,ee),this.cache={})}},{key:"insertAt",value:function($,G,ie){if(ie!=null)return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,G,ie);if(G.length!==0){var ee=G.split(`
`),re=ee.shift();re.length>0&&($<this.length()-1||this.children.tail==null?l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var Y=this;ee.reduce(function(W,V){return Y=Y.split(W,!0),Y.insertAt(0,V),V.length},$+re.length)}}},{key:"insertBefore",value:function($,G){var ie=this.children.head;l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,$,G),ie instanceof _.default&&ie.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+R),this.cache.length}},{key:"moveChildren",value:function($,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,$,G),this.cache={}}},{key:"optimize",value:function($){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&($===0||$>=this.length()-R)){var ie=this.clone();return $===0?(this.parent.insertBefore(ie,this),this):(this.parent.insertBefore(ie,this.next),ie)}else{var ee=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,$,G);return this.cache={},ee}}}]),L}(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[T.default,d.default.Embed,b.default];function C(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(L=(0,f.default)(L,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?L:C(k.parent,L)}r.bubbleFormats=C,r.BlockEmbed=I,r.default=M},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l=function(){function Y(W,V){var q=[],K=!0,te=!1,J=void 0;try{for(var H=W[Symbol.iterator](),X;!(K=(X=H.next()).done)&&(q.push(X.value),!(V&&q.length===V));K=!0);}catch(oe){te=!0,J=oe}finally{try{!K&&H.return&&H.return()}finally{if(te)throw J}}return q}return function(W,V){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function Y(W,V){for(var q=0;q<V.length;q++){var K=V[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,V,q){return V&&Y(W.prototype,V),q&&Y(W,q),W}}();i(50);var f=i(2),h=C(f),m=i(14),g=C(m),d=i(8),y=C(d),_=i(9),w=C(_),T=i(0),E=C(T),b=i(15),S=C(b),x=i(3),O=C(x),U=i(10),R=C(U),I=i(34),M=C(I);function C(Y){return Y&&Y.__esModule?Y:{default:Y}}function k(Y,W,V){return W in Y?Object.defineProperty(Y,W,{value:V,enumerable:!0,configurable:!0,writable:!0}):Y[W]=V,Y}function L(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var D=(0,R.default)("quill"),$=function(){u(Y,null,[{key:"debug",value:function(V){V===!0&&(V="log"),R.default.level(V)}},{key:"find",value:function(V){return V.__quill||E.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&D.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,q){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof V!="string"){var J=V.attrName||V.blotName;typeof J=="string"?this.register("formats/"+J,V,q):Object.keys(V).forEach(function(H){K.register(H,V[H],q)})}else this.imports[V]!=null&&!te&&D.warn("Overwriting "+V+" with",q),this.imports[V]=q,(V.startsWith("blots/")||V.startsWith("formats/"))&&q.blotName!=="abstract"?E.default.register(q):V.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function Y(W){var V=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,Y),this.options=G(W,q),this.container=this.options.container,this.container==null)return D.error("Invalid Quill container",W);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new S.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(J){J===y.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(J,H){var X=V.selection.lastRange,oe=X&&X.length===0?X.index:void 0;ie.call(V,function(){return V.editor.update(null,H,oe)},J)});var te=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(te),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return u(Y,[{key:"addContainer",value:function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var K=V;V=document.createElement("div"),V.classList.add(K)}return this.container.insertBefore(V,q),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,q,K){var te=this,J=ee(V,q,K),H=l(J,4);return V=H[0],q=H[1],K=H[3],ie.call(this,function(){return te.editor.deleteText(V,q)},K,V,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,q){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return ie.call(this,function(){var J=K.getSelection(!0),H=new h.default;if(J==null)return H;if(E.default.query(V,E.default.Scope.BLOCK))H=K.editor.formatLine(J.index,J.length,k({},V,q));else{if(J.length===0)return K.selection.format(V,q),H;H=K.editor.formatText(J.index,J.length,k({},V,q))}return K.setSelection(J,y.default.sources.SILENT),H},te)}},{key:"formatLine",value:function(V,q,K,te,J){var H=this,X=void 0,oe=ee(V,q,K,te,J),ae=l(oe,4);return V=ae[0],q=ae[1],X=ae[2],J=ae[3],ie.call(this,function(){return H.editor.formatLine(V,q,X)},J,V,0)}},{key:"formatText",value:function(V,q,K,te,J){var H=this,X=void 0,oe=ee(V,q,K,te,J),ae=l(oe,4);return V=ae[0],q=ae[1],X=ae[2],J=ae[3],ie.call(this,function(){return H.editor.formatText(V,q,X)},J,V,0)}},{key:"getBounds",value:function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof V=="number"?K=this.selection.getBounds(V,q):K=this.selection.getBounds(V.index,V.length);var te=this.container.getBoundingClientRect();return{bottom:K.bottom-te.top,height:K.height,left:K.left-te.left,right:K.right-te.left,top:K.top-te.top,width:K.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=ee(V,q),te=l(K,2);return V=te[0],q=te[1],this.editor.getContents(V,q)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,q):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,q)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=ee(V,q),te=l(K,2);return V=te[0],q=te[1],this.editor.getText(V,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,q,K){var te=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return ie.call(this,function(){return te.editor.insertEmbed(V,q,K)},J,V)}},{key:"insertText",value:function(V,q,K,te,J){var H=this,X=void 0,oe=ee(V,0,K,te,J),ae=l(oe,4);return V=ae[0],X=ae[2],J=ae[3],ie.call(this,function(){return H.editor.insertText(V,q,X)},J,V,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,q,K){this.clipboard.dangerouslyPasteHTML(V,q,K)}},{key:"removeFormat",value:function(V,q,K){var te=this,J=ee(V,q,K),H=l(J,4);return V=H[0],q=H[1],K=H[3],ie.call(this,function(){return te.editor.removeFormat(V,q)},K,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ie.call(this,function(){V=new h.default(V);var te=q.getLength(),J=q.editor.deleteText(0,te),H=q.editor.applyDelta(V),X=H.ops[H.ops.length-1];X!=null&&typeof X.insert=="string"&&X.insert[X.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),H.delete(1));var oe=J.compose(H);return oe},K)}},{key:"setSelection",value:function(V,q,K){if(V==null)this.selection.setRange(null,q||Y.sources.API);else{var te=ee(V,q,K),J=l(te,4);V=J[0],q=J[1],K=J[3],this.selection.setRange(new b.Range(V,q),K),K!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,K=new h.default().insert(V);return this.setContents(K,q)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,q=this.scroll.update(V);return this.selection.update(V),q}},{key:"updateContents",value:function(V){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ie.call(this,function(){return V=new h.default(V),q.editor.applyDelta(V,K)},K,!0)}}]),Y}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=y.default.events,$.sources=y.default.sources,$.version="1.3.7",$.imports={delta:h.default,parchment:E.default,"core/module":w.default,"core/theme":M.default};function G(Y,W){if(W=(0,O.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===$.DEFAULTS.theme)W.theme=M.default;else if(W.theme=$.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var V=(0,O.default)(!0,{},W.theme.DEFAULTS);[V,W].forEach(function(te){te.modules=te.modules||{},Object.keys(te.modules).forEach(function(J){te.modules[J]===!0&&(te.modules[J]={})})});var q=Object.keys(V.modules).concat(Object.keys(W.modules)),K=q.reduce(function(te,J){var H=$.import("modules/"+J);return H==null?D.error("Cannot load "+J+" module. Are you sure you registered it?"):te[J]=H.DEFAULTS||{},te},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,O.default)(!0,{},$.DEFAULTS,{modules:K},V,W),["bounds","container","scrollingContainer"].forEach(function(te){typeof W[te]=="string"&&(W[te]=document.querySelector(W[te]))}),W.modules=Object.keys(W.modules).reduce(function(te,J){return W.modules[J]&&(te[J]=W.modules[J]),te},{}),W}function ie(Y,W,V,q){if(this.options.strict&&!this.isEnabled()&&W===y.default.sources.USER)return new h.default;var K=V==null?null:this.getSelection(),te=this.editor.delta,J=Y();if(K!=null&&(V===!0&&(V=K.index),q==null?K=re(K,J,W):q!==0&&(K=re(K,V,q,W)),this.setSelection(K,y.default.sources.SILENT)),J.length()>0){var H,X=[y.default.events.TEXT_CHANGE,J,te,W];if((H=this.emitter).emit.apply(H,[y.default.events.EDITOR_CHANGE].concat(X)),W!==y.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,X)}}return J}function ee(Y,W,V,q,K){var te={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof W!="number"?(K=q,q=V,V=W,W=Y.length,Y=Y.index):(W=Y.length,Y=Y.index):typeof W!="number"&&(K=q,q=V,V=W,W=0),(typeof V>"u"?"undefined":a(V))==="object"?(te=V,K=q):typeof V=="string"&&(q!=null?te[V]=q:K=V),K=K||y.default.sources.API,[Y,W,te,K]}function re(Y,W,V,q){if(Y==null)return null;var K=void 0,te=void 0;if(W instanceof h.default){var J=[Y.index,Y.index+Y.length].map(function(ae){return W.transformPosition(ae,q!==y.default.sources.USER)}),H=l(J,2);K=H[0],te=H[1]}else{var X=[Y.index,Y.index+Y.length].map(function(ae){return ae<W||ae===W&&q===y.default.sources.USER?ae:V>=0?ae+V:Math.max(W,ae+V)}),oe=l(X,2);K=oe[0],te=oe[1]}return new b.Range(K,te-K)}r.expandConfig=G,r.overload=ee,r.default=$},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(E,b){for(var S=0;S<b.length;S++){var x=b[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,b,S){return b&&T(E.prototype,b),S&&T(E,S),E}}(),l=function T(E,b,S){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,b);if(x===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:T(O,b,S)}else{if("value"in x)return x.value;var U=x.get;return U===void 0?void 0:U.call(S)}},u=i(7),f=g(u),h=i(0),m=g(h);function g(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function y(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function _(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var w=function(T){_(E,T);function E(){return d(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"formatAt",value:function(S,x,O,U){if(E.compare(this.statics.blotName,O)<0&&m.default.query(O,m.default.Scope.BLOT)){var R=this.isolate(S,x);U&&R.wrap(O,U)}else l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,S,x,O,U)}},{key:"optimize",value:function(S){if(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,S),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(S,x){var O=E.order.indexOf(S),U=E.order.indexOf(x);return O>=0||U>=0?O-U:S===x?0:S<x?-1:1}}]),E}(m.default.Inline);w.allowedChildren=[w,m.default.Embed,f.default],w.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=w},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function h(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function m(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){m(y,d);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default.Text);r.default=g},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(S,x){for(var O=0;O<x.length;O++){var U=x[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(S,U.key,U)}}return function(S,x,O){return x&&b(S.prototype,x),O&&b(S,O),S}}(),l=function b(S,x,O){S===null&&(S=Function.prototype);var U=Object.getOwnPropertyDescriptor(S,x);if(U===void 0){var R=Object.getPrototypeOf(S);return R===null?void 0:b(R,x,O)}else{if("value"in U)return U.value;var I=U.get;return I===void 0?void 0:I.call(O)}},u=i(54),f=g(u),h=i(10),m=g(h);function g(b){return b&&b.__esModule?b:{default:b}}function d(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function y(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:b}function _(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}var w=(0,m.default)("quill:events"),T=["selectionchange","mousedown","mouseup","click"];T.forEach(function(b){document.addEventListener(b,function(){for(var S=arguments.length,x=Array(S),O=0;O<S;O++)x[O]=arguments[O];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var R;(R=U.__quill.emitter).handleDOM.apply(R,x)}})})});var E=function(b){_(S,b);function S(){d(this,S);var x=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));return x.listeners={},x.on("error",w.error),x}return a(S,[{key:"emit",value:function(){w.log.apply(w,arguments),l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(O){for(var U=arguments.length,R=Array(U>1?U-1:0),I=1;I<U;I++)R[I-1]=arguments[I];(this.listeners[O.type]||[]).forEach(function(M){var C=M.node,k=M.handler;(O.target===C||C.contains(O.target))&&k.apply(void 0,[O].concat(R))})}},{key:"listenDOM",value:function(O,U,R){this.listeners[O]||(this.listeners[O]=[]),this.listeners[O].push({node:U,handler:R})}}]),S}(f.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},r.default=E},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function u(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,u),this.quill=f,this.options=h};l.DEFAULTS={},r.default=l},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],l="warn";function u(h){if(a.indexOf(h)<=a.indexOf(l)){for(var m,g=arguments.length,d=Array(g>1?g-1:0),y=1;y<g;y++)d[y-1]=arguments[y];(m=console)[h].apply(m,d)}}function f(h){return a.reduce(function(m,g){return m[g]=u.bind(console,g,h),m},{})}u.level=f.level=function(h){l=h},r.default=f},function(t,r,i){var a=Array.prototype.slice,l=i(52),u=i(53),f=t.exports=function(d,y,_){return _||(_={}),d===y?!0:d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||typeof d!="object"&&typeof y!="object"?_.strict?d===y:d==y:g(d,y,_)};function h(d){return d==null}function m(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function g(d,y,_){var w,T;if(h(d)||h(y)||d.prototype!==y.prototype)return!1;if(u(d))return u(y)?(d=a.call(d),y=a.call(y),f(d,y,_)):!1;if(m(d)){if(!m(y)||d.length!==y.length)return!1;for(w=0;w<d.length;w++)if(d[w]!==y[w])return!1;return!0}try{var E=l(d),b=l(y)}catch{return!1}if(E.length!=b.length)return!1;for(E.sort(),b.sort(),w=E.length-1;w>=0;w--)if(E[w]!=b[w])return!1;for(w=E.length-1;w>=0;w--)if(T=E[w],!f(d[T],y[T],_))return!1;return typeof d==typeof y}},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),l=function(){function u(f,h,m){m===void 0&&(m={}),this.attrName=f,this.keyName=h;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;m.scope!=null?this.scope=m.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,m.whitelist!=null&&(this.whitelist=m.whitelist)}return u.keys=function(f){return[].map.call(f.attributes,function(h){return h.name})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.setAttribute(this.keyName,h),!0):!1},u.prototype.canAdd=function(f,h){var m=a.query(f,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return m==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},u.prototype.remove=function(f){f.removeAttribute(this.keyName)},u.prototype.value=function(f){var h=f.getAttribute(this.keyName);return this.canAdd(f,h)&&h?h:""},u}();r.default=l},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function I(M,C){var k=[],L=!0,D=!1,$=void 0;try{for(var G=M[Symbol.iterator](),ie;!(L=(ie=G.next()).done)&&(k.push(ie.value),!(C&&k.length===C));L=!0);}catch(ee){D=!0,$=ee}finally{try{!L&&G.return&&G.return()}finally{if(D)throw $}}return k}return function(M,C){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function I(M,C){for(var k=0;k<C.length;k++){var L=C[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,C,k){return C&&I(M.prototype,C),k&&I(M,k),M}}(),u=function I(M,C,k){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,C);if(L===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:I(D,C,k)}else{if("value"in L)return L.value;var $=L.get;return $===void 0?void 0:$.call(k)}},f=i(2),h=b(f),m=i(0),g=b(m),d=i(4),y=b(d),_=i(6),w=b(_),T=i(7),E=b(T);function b(I){return I&&I.__esModule?I:{default:I}}function S(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function x(I,M){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:I}function O(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(I,M):I.__proto__=M)}var U=function(I){O(M,I);function M(){return S(this,M),x(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M}(w.default);U.blotName="code",U.tagName="CODE";var R=function(I){O(M,I);function M(){return S(this,M),x(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return l(M,[{key:"delta",value:function(){var k=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(D,$){return D.insert($).insert(`
`,k.formats())},new h.default)}},{key:"format",value:function(k,L){if(!(k===this.statics.blotName&&L)){var D=this.descendant(E.default,this.length()-1),$=a(D,1),G=$[0];G!=null&&G.deleteAt(G.length()-1,1),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,k,L)}}},{key:"formatAt",value:function(k,L,D,$){if(L!==0&&!(g.default.query(D,g.default.Scope.BLOCK)==null||D===this.statics.blotName&&$===this.statics.formats(this.domNode))){var G=this.newlineIndex(k);if(!(G<0||G>=k+L)){var ie=this.newlineIndex(k,!0)+1,ee=G-ie+1,re=this.isolate(ie,ee),Y=re.next;re.format(D,$),Y instanceof M&&Y.formatAt(0,k-ie+L-ee,D,$)}}}},{key:"insertAt",value:function(k,L,D){if(D==null){var $=this.descendant(E.default,k),G=a($,2),ie=G[0],ee=G[1];ie.insertAt(ee,L)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var D=this.domNode.textContent.slice(k).indexOf(`
`);return D>-1?k+D:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,k);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(k),L.moveChildren(this),L.remove())}},{key:"replace",value:function(k){u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var D=g.default.find(L);D==null?L.parentNode.removeChild(L):D instanceof g.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(k){var L=u(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,k);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),M}(y.default);R.blotName="code-block",R.tagName="PRE",R.TAB="  ",r.Code=U,r.default=R},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l=function(){function Y(W,V){var q=[],K=!0,te=!1,J=void 0;try{for(var H=W[Symbol.iterator](),X;!(K=(X=H.next()).done)&&(q.push(X.value),!(V&&q.length===V));K=!0);}catch(oe){te=!0,J=oe}finally{try{!K&&H.return&&H.return()}finally{if(te)throw J}}return q}return function(W,V){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function Y(W,V){for(var q=0;q<V.length;q++){var K=V[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,V,q){return V&&Y(W.prototype,V),q&&Y(W,q),W}}(),f=i(2),h=L(f),m=i(20),g=L(m),d=i(0),y=L(d),_=i(13),w=L(_),T=i(24),E=L(T),b=i(4),S=L(b),x=i(16),O=L(x),U=i(21),R=L(U),I=i(11),M=L(I),C=i(3),k=L(C);function L(Y){return Y&&Y.__esModule?Y:{default:Y}}function D(Y,W,V){return W in Y?Object.defineProperty(Y,W,{value:V,enumerable:!0,configurable:!0,writable:!0}):Y[W]=V,Y}function $(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,ie=function(){function Y(W){$(this,Y),this.scroll=W,this.delta=this.getDelta()}return u(Y,[{key:"applyDelta",value:function(V){var q=this,K=!1;this.scroll.update();var te=this.scroll.length();return this.scroll.batchStart(),V=re(V),V.reduce(function(J,H){var X=H.retain||H.delete||H.insert.length||1,oe=H.attributes||{};if(H.insert!=null){if(typeof H.insert=="string"){var ae=H.insert;ae.endsWith(`
`)&&K&&(K=!1,ae=ae.slice(0,-1)),J>=te&&!ae.endsWith(`
`)&&(K=!0),q.scroll.insertAt(J,ae);var pe=q.scroll.line(J),Se=l(pe,2),Le=Se[0],Ve=Se[1],Ke=(0,k.default)({},(0,b.bubbleFormats)(Le));if(Le instanceof S.default){var Xe=Le.descendant(y.default.Leaf,Ve),Lt=l(Xe,1),mt=Lt[0];Ke=(0,k.default)(Ke,(0,b.bubbleFormats)(mt))}oe=g.default.attributes.diff(Ke,oe)||{}}else if(a(H.insert)==="object"){var de=Object.keys(H.insert)[0];if(de==null)return J;q.scroll.insertAt(J,de,H.insert[de])}te+=X}return Object.keys(oe).forEach(function(me){q.scroll.formatAt(J,X,me,oe[me])}),J+X},0),V.reduce(function(J,H){return typeof H.delete=="number"?(q.scroll.deleteAt(J,H.delete),J):J+(H.retain||H.insert.length||1)},0),this.scroll.batchEnd(),this.update(V)}},{key:"deleteText",value:function(V,q){return this.scroll.deleteAt(V,q),this.update(new h.default().retain(V).delete(q))}},{key:"formatLine",value:function(V,q){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(te).forEach(function(J){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[J])){var H=K.scroll.lines(V,Math.max(q,1)),X=q;H.forEach(function(oe){var ae=oe.length();if(!(oe instanceof w.default))oe.format(J,te[J]);else{var pe=V-oe.offset(K.scroll),Se=oe.newlineIndex(pe+X)-pe+1;oe.formatAt(pe,Se,J,te[J])}X-=ae})}}),this.scroll.optimize(),this.update(new h.default().retain(V).retain(q,(0,R.default)(te)))}},{key:"formatText",value:function(V,q){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(te).forEach(function(J){K.scroll.formatAt(V,q,J,te[J])}),this.update(new h.default().retain(V).retain(q,(0,R.default)(te)))}},{key:"getContents",value:function(V,q){return this.delta.slice(V,V+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(V,q){return V.concat(q.delta())},new h.default)}},{key:"getFormat",value:function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],te=[];q===0?this.scroll.path(V).forEach(function(H){var X=l(H,1),oe=X[0];oe instanceof S.default?K.push(oe):oe instanceof y.default.Leaf&&te.push(oe)}):(K=this.scroll.lines(V,q),te=this.scroll.descendants(y.default.Leaf,V,q));var J=[K,te].map(function(H){if(H.length===0)return{};for(var X=(0,b.bubbleFormats)(H.shift());Object.keys(X).length>0;){var oe=H.shift();if(oe==null)return X;X=ee((0,b.bubbleFormats)(oe),X)}return X});return k.default.apply(k.default,J)}},{key:"getText",value:function(V,q){return this.getContents(V,q).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(V,q,K){return this.scroll.insertAt(V,q,K),this.update(new h.default().retain(V).insert(D({},q,K)))}},{key:"insertText",value:function(V,q){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(V,q),Object.keys(te).forEach(function(J){K.scroll.formatAt(V,q.length,J,te[J])}),this.update(new h.default().retain(V).insert(q,(0,R.default)(te)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var V=this.scroll.children.head;return V.statics.blotName!==S.default.blotName||V.children.length>1?!1:V.children.head instanceof O.default}},{key:"removeFormat",value:function(V,q){var K=this.getText(V,q),te=this.scroll.line(V+q),J=l(te,2),H=J[0],X=J[1],oe=0,ae=new h.default;H!=null&&(H instanceof w.default?oe=H.newlineIndex(X)-X+1:oe=H.length()-X,ae=H.delta().slice(X,X+oe-1).insert(`
`));var pe=this.getContents(V,q+oe),Se=pe.diff(new h.default().insert(K).concat(ae)),Le=new h.default().retain(V).concat(Se);return this.applyDelta(Le)}},{key:"update",value:function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,te=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(G)&&y.default.find(q[0].target)){var J=y.default.find(q[0].target),H=(0,b.bubbleFormats)(J),X=J.offset(this.scroll),oe=q[0].oldValue.replace(E.default.CONTENTS,""),ae=new h.default().insert(oe),pe=new h.default().insert(J.value()),Se=new h.default().retain(X).concat(ae.diff(pe,K));V=Se.reduce(function(Le,Ve){return Ve.insert?Le.insert(Ve.insert,H):Le.push(Ve)},new h.default),this.delta=te.compose(V)}else this.delta=this.getDelta(),(!V||!(0,M.default)(te.compose(V),this.delta))&&(V=te.diff(this.delta,K));return V}}]),Y}();function ee(Y,W){return Object.keys(W).reduce(function(V,q){return Y[q]==null||(W[q]===Y[q]?V[q]=W[q]:Array.isArray(W[q])?W[q].indexOf(Y[q])<0&&(V[q]=W[q].concat([Y[q]])):V[q]=[W[q],Y[q]]),V},{})}function re(Y){return Y.reduce(function(W,V){if(V.insert===1){var q=(0,R.default)(V.attributes);return delete q.image,W.insert({image:V.attributes.image},q)}if(V.attributes!=null&&(V.attributes.list===!0||V.attributes.bullet===!0)&&(V=(0,R.default)(V),V.attributes.list?V.attributes.list="ordered":(V.attributes.list="bullet",delete V.attributes.bullet)),typeof V.insert=="string"){var K=V.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(K,V.attributes)}return W.push(V)},new h.default)}r.default=ie},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function I(M,C){var k=[],L=!0,D=!1,$=void 0;try{for(var G=M[Symbol.iterator](),ie;!(L=(ie=G.next()).done)&&(k.push(ie.value),!(C&&k.length===C));L=!0);}catch(ee){D=!0,$=ee}finally{try{!L&&G.return&&G.return()}finally{if(D)throw $}}return k}return function(M,C){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function I(M,C){for(var k=0;k<C.length;k++){var L=C[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,C,k){return C&&I(M.prototype,C),k&&I(M,k),M}}(),u=i(0),f=E(u),h=i(21),m=E(h),g=i(11),d=E(g),y=i(8),_=E(y),w=i(10),T=E(w);function E(I){return I&&I.__esModule?I:{default:I}}function b(I){if(Array.isArray(I)){for(var M=0,C=Array(I.length);M<I.length;M++)C[M]=I[M];return C}else return Array.from(I)}function S(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}var x=(0,T.default)("quill:selection"),O=function I(M){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;S(this,I),this.index=M,this.length=C},U=function(){function I(M,C){var k=this;S(this,I),this.emitter=C,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=f.default.create("cursor",this),this.lastRange=this.savedRange=new O(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(L,D){L===_.default.events.TEXT_CHANGE&&D.length()>0&&k.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var L=k.getNativeRange();L!=null&&L.start.node!==k.cursor.textNode&&k.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(L,D){if(D.range){var $=D.range,G=$.startNode,ie=$.startOffset,ee=$.endNode,re=$.endOffset;k.setNativeRange(G,ie,ee,re)}}),this.update(_.default.sources.SILENT)}return l(I,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var k=C.cursor.restore();if(!k)return;setTimeout(function(){C.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||f.default.query(C,f.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var D=f.default.find(L.start.node,!1);if(D==null)return;if(D instanceof f.default.Leaf){var $=D.split(L.start.offset);D.parent.insertBefore(this.cursor,$)}else D.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(C,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();C=Math.min(C,L-1),k=Math.min(C+k,L-1)-C;var D=void 0,$=this.scroll.leaf(C),G=a($,2),ie=G[0],ee=G[1];if(ie==null)return null;var re=ie.position(ee,!0),Y=a(re,2);D=Y[0],ee=Y[1];var W=document.createRange();if(k>0){W.setStart(D,ee);var V=this.scroll.leaf(C+k),q=a(V,2);if(ie=q[0],ee=q[1],ie==null)return null;var K=ie.position(ee,!0),te=a(K,2);return D=te[0],ee=te[1],W.setEnd(D,ee),W.getBoundingClientRect()}else{var J="left",H=void 0;return D instanceof Text?(ee<D.data.length?(W.setStart(D,ee),W.setEnd(D,ee+1)):(W.setStart(D,ee-1),W.setEnd(D,ee),J="right"),H=W.getBoundingClientRect()):(H=ie.domNode.getBoundingClientRect(),ee>0&&(J="right")),{bottom:H.top+H.height,height:H.height,left:H[J],right:H[J],top:H.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var k=C.getRangeAt(0);if(k==null)return null;var L=this.normalizeNative(k);return x.info("getNativeRange",L),L}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var k=this.normalizedToRange(C);return[k,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var k=this,L=[[C.start.node,C.start.offset]];C.native.collapsed||L.push([C.end.node,C.end.offset]);var D=L.map(function(ie){var ee=a(ie,2),re=ee[0],Y=ee[1],W=f.default.find(re,!0),V=W.offset(k.scroll);return Y===0?V:W instanceof f.default.Container?V+W.length():V+W.index(re,Y)}),$=Math.min(Math.max.apply(Math,b(D)),this.scroll.length()-1),G=Math.min.apply(Math,[$].concat(b(D)));return new O(G,$-G)}},{key:"normalizeNative",value:function(C){if(!R(this.root,C.startContainer)||!C.collapsed&&!R(this.root,C.endContainer))return null;var k={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[k.start,k.end].forEach(function(L){for(var D=L.node,$=L.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>$)D=D.childNodes[$],$=0;else if(D.childNodes.length===$)D=D.lastChild,$=D instanceof Text?D.data.length:D.childNodes.length+1;else break;L.node=D,L.offset=$}),k}},{key:"rangeToNative",value:function(C){var k=this,L=C.collapsed?[C.index]:[C.index,C.index+C.length],D=[],$=this.scroll.length();return L.forEach(function(G,ie){G=Math.min($-1,G);var ee=void 0,re=k.scroll.leaf(G),Y=a(re,2),W=Y[0],V=Y[1],q=W.position(V,ie!==0),K=a(q,2);ee=K[0],V=K[1],D.push(ee,V)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(C){var k=this.lastRange;if(k!=null){var L=this.getBounds(k.index,k.length);if(L!=null){var D=this.scroll.length()-1,$=this.scroll.line(Math.min(k.index,D)),G=a($,1),ie=G[0],ee=ie;if(k.length>0){var re=this.scroll.line(Math.min(k.index+k.length,D)),Y=a(re,1);ee=Y[0]}if(!(ie==null||ee==null)){var W=C.getBoundingClientRect();L.top<W.top?C.scrollTop-=W.top-L.top:L.bottom>W.bottom&&(C.scrollTop+=L.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(C,k){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",C,k,L,D),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||L.parentNode==null))){var G=document.getSelection();if(G!=null)if(C!=null){this.hasFocus()||this.root.focus();var ie=(this.getNativeRange()||{}).native;if(ie==null||$||C!==ie.startContainer||k!==ie.startOffset||L!==ie.endContainer||D!==ie.endOffset){C.tagName=="BR"&&(k=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),L.tagName=="BR"&&(D=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var ee=document.createRange();ee.setStart(C,k),ee.setEnd(L,D),G.removeAllRanges(),G.addRange(ee)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof k=="string"&&(L=k,k=!1),x.info("setRange",C),C!=null){var D=this.rangeToNative(C);this.setNativeRange.apply(this,b(D).concat([k]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,k=this.lastRange,L=this.getRange(),D=a(L,2),$=D[0],G=D[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(k,this.lastRange)){var ie;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var ee=[_.default.events.SELECTION_CHANGE,(0,m.default)(this.lastRange),(0,m.default)(k),C];if((ie=this.emitter).emit.apply(ie,[_.default.events.EDITOR_CHANGE].concat(ee)),C!==_.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,ee)}}}}]),I}();function R(I,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),I.contains(M)}r.Range=O,r.default=U},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,T){for(var E=0;E<T.length;E++){var b=T[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,E){return T&&_(w.prototype,T),E&&_(w,E),w}}(),l=function _(w,T,E){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:_(S,T,E)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(E)}},u=i(0),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function m(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var y=function(_){d(w,_);function w(){return m(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"insertInto",value:function(E,b){E.children.length===0?l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertInto",this).call(this,E,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),w}(f.default.Embed);y.blotName="break",y.tagName="BR",r.default=y},function(t,r,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var _ in y)y.hasOwnProperty(_)&&(d[_]=y[_])};return function(d,y){g(d,y);function _(){this.constructor=d}d.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(44),u=i(30),f=i(1),h=function(g){a(d,g);function d(y){var _=g.call(this,y)||this;return _.build(),_}return d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var w=m(_);y.insertBefore(w,y.children.head||void 0)}catch(T){if(T instanceof f.ParchmentError)return;throw T}})},d.prototype.deleteAt=function(y,_){if(y===0&&_===this.length())return this.remove();this.children.forEachAt(y,_,function(w,T,E){w.deleteAt(T,E)})},d.prototype.descendant=function(y,_){var w=this.children.find(_),T=w[0],E=w[1];return y.blotName==null&&y(T)||y.blotName!=null&&T instanceof y?[T,E]:T instanceof d?T.descendant(y,E):[null,-1]},d.prototype.descendants=function(y,_,w){_===void 0&&(_=0),w===void 0&&(w=Number.MAX_VALUE);var T=[],E=w;return this.children.forEachAt(_,w,function(b,S,x){(y.blotName==null&&y(b)||y.blotName!=null&&b instanceof y)&&T.push(b),b instanceof d&&(T=T.concat(b.descendants(y,S,E))),E-=x}),T},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),g.prototype.detach.call(this)},d.prototype.formatAt=function(y,_,w,T){this.children.forEachAt(y,_,function(E,b,S){E.formatAt(b,S,w,T)})},d.prototype.insertAt=function(y,_,w){var T=this.children.find(y),E=T[0],b=T[1];if(E)E.insertAt(b,_,w);else{var S=w==null?f.create("text",_):f.create(_,w);this.appendChild(S)}},d.prototype.insertBefore=function(y,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(w){return y instanceof w}))throw new f.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,_)},d.prototype.length=function(){return this.children.reduce(function(y,_){return y+_.length()},0)},d.prototype.moveChildren=function(y,_){this.children.forEach(function(w){y.insertBefore(w,_)})},d.prototype.optimize=function(y){if(g.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var _=f.create(this.statics.defaultChild);this.appendChild(_),_.optimize(y)}else this.remove()},d.prototype.path=function(y,_){_===void 0&&(_=!1);var w=this.children.find(y,_),T=w[0],E=w[1],b=[[this,y]];return T instanceof d?b.concat(T.path(E,_)):(T!=null&&b.push([T,E]),b)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),g.prototype.replace.call(this,y)},d.prototype.split=function(y,_){if(_===void 0&&(_=!1),!_){if(y===0)return this;if(y===this.length())return this.next}var w=this.clone();return this.parent.insertBefore(w,this.next),this.children.forEachAt(y,this.length(),function(T,E,b){T=T.split(E,_),w.appendChild(T)}),w},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,_){var w=this,T=[],E=[];y.forEach(function(b){b.target===w.domNode&&b.type==="childList"&&(T.push.apply(T,b.addedNodes),E.push.apply(E,b.removedNodes))}),E.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var S=f.find(b);S!=null&&(S.domNode.parentNode==null||S.domNode.parentNode===w.domNode)&&S.detach()}}),T.filter(function(b){return b.parentNode==w.domNode}).sort(function(b,S){return b===S?0:b.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var S=null;b.nextSibling!=null&&(S=f.find(b.nextSibling));var x=m(b);(x.next!=S||x.next==null)&&(x.parent!=null&&x.parent.removeChild(w),w.insertBefore(x,S||void 0))})},d}(u.default);function m(g){var d=f.find(g);if(d==null)try{d=f.create(g)}catch{d=f.create(f.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(_){d.domNode.appendChild(_)}),g.parentNode&&g.parentNode.replaceChild(d.domNode,g),d.attach()}return d}r.default=h},function(t,r,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var _ in y)y.hasOwnProperty(_)&&(d[_]=y[_])};return function(d,y){g(d,y);function _(){this.constructor=d}d.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12),u=i(31),f=i(17),h=i(1),m=function(g){a(d,g);function d(y){var _=g.call(this,y)||this;return _.attributes=new u.default(_.domNode),_}return d.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},d.prototype.format=function(y,_){var w=h.query(y);w instanceof l.default?this.attributes.attribute(w,_):_&&w!=null&&(y!==this.statics.blotName||this.formats()[y]!==_)&&this.replaceWith(y,_)},d.prototype.formats=function(){var y=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(y[this.statics.blotName]=_),y},d.prototype.replaceWith=function(y,_){var w=g.prototype.replaceWith.call(this,y,_);return this.attributes.copy(w),w},d.prototype.update=function(y,_){var w=this;g.prototype.update.call(this,y,_),y.some(function(T){return T.target===w.domNode&&T.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(y,_){var w=g.prototype.wrap.call(this,y,_);return w instanceof d&&w.statics.scope===this.statics.scope&&this.attributes.move(w),w},d}(f.default);r.default=m},function(t,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)g.hasOwnProperty(d)&&(m[d]=g[d])};return function(m,g){h(m,g);function d(){this.constructor=m}m.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(30),u=i(1),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.value=function(g){return!0},m.prototype.index=function(g,d){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},m.prototype.position=function(g,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(y+=1),[this.parent.domNode,y]},m.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},m.scope=u.Scope.INLINE_BLOT,m}(l.default);r.default=f},function(t,r,i){var a=i(11),l=i(3),u={attributes:{compose:function(h,m,g){typeof h!="object"&&(h={}),typeof m!="object"&&(m={});var d=l(!0,{},m);g||(d=Object.keys(d).reduce(function(_,w){return d[w]!=null&&(_[w]=d[w]),_},{}));for(var y in h)h[y]!==void 0&&m[y]===void 0&&(d[y]=h[y]);return Object.keys(d).length>0?d:void 0},diff:function(h,m){typeof h!="object"&&(h={}),typeof m!="object"&&(m={});var g=Object.keys(h).concat(Object.keys(m)).reduce(function(d,y){return a(h[y],m[y])||(d[y]=m[y]===void 0?null:m[y]),d},{});return Object.keys(g).length>0?g:void 0},transform:function(h,m,g){if(typeof h!="object")return m;if(typeof m=="object"){if(!g)return m;var d=Object.keys(m).reduce(function(y,_){return h[_]===void 0&&(y[_]=m[_]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(h){return new f(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function f(h){this.ops=h,this.index=0,this.offset=0}f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(h){h||(h=1/0);var m=this.ops[this.index];if(m){var g=this.offset,d=u.length(m);if(h>=d-g?(h=d-g,this.index+=1,this.offset=0):this.offset+=h,typeof m.delete=="number")return{delete:h};var y={};return m.attributes&&(y.attributes=m.attributes),typeof m.retain=="number"?y.retain=h:typeof m.insert=="string"?y.insert=m.insert.substr(g,h):y.insert=m.insert,y}else return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?u.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,m=this.index,g=this.next(),d=this.ops.slice(this.index);return this.offset=h,this.index=m,[g].concat(d)}else return[]},t.exports=u},function(t,r){var i=function(){function a(w,T){return T!=null&&w instanceof T}var l;try{l=Map}catch{l=function(){}}var u;try{u=Set}catch{u=function(){}}var f;try{f=Promise}catch{f=function(){}}function h(w,T,E,b,S){typeof T=="object"&&(E=T.depth,b=T.prototype,S=T.includeNonEnumerable,T=T.circular);var x=[],O=[],U=typeof Buffer<"u";typeof T>"u"&&(T=!0),typeof E>"u"&&(E=1/0);function R(I,M){if(I===null)return null;if(M===0)return I;var C,k;if(typeof I!="object")return I;if(a(I,l))C=new l;else if(a(I,u))C=new u;else if(a(I,f))C=new f(function(W,V){I.then(function(q){W(R(q,M-1))},function(q){V(R(q,M-1))})});else if(h.__isArray(I))C=[];else if(h.__isRegExp(I))C=new RegExp(I.source,_(I)),I.lastIndex&&(C.lastIndex=I.lastIndex);else if(h.__isDate(I))C=new Date(I.getTime());else{if(U&&Buffer.isBuffer(I))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(I.length):C=new Buffer(I.length),I.copy(C),C;a(I,Error)?C=Object.create(I):typeof b>"u"?(k=Object.getPrototypeOf(I),C=Object.create(k)):(C=Object.create(b),k=b)}if(T){var L=x.indexOf(I);if(L!=-1)return O[L];x.push(I),O.push(C)}a(I,l)&&I.forEach(function(W,V){var q=R(V,M-1),K=R(W,M-1);C.set(q,K)}),a(I,u)&&I.forEach(function(W){var V=R(W,M-1);C.add(V)});for(var D in I){var $;k&&($=Object.getOwnPropertyDescriptor(k,D)),!($&&$.set==null)&&(C[D]=R(I[D],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(I),D=0;D<G.length;D++){var ie=G[D],ee=Object.getOwnPropertyDescriptor(I,ie);ee&&!ee.enumerable&&!S||(C[ie]=R(I[ie],M-1),ee.enumerable||Object.defineProperty(C,ie,{enumerable:!1}))}if(S)for(var re=Object.getOwnPropertyNames(I),D=0;D<re.length;D++){var Y=re[D],ee=Object.getOwnPropertyDescriptor(I,Y);ee&&ee.enumerable||(C[Y]=R(I[Y],M-1),Object.defineProperty(C,Y,{enumerable:!1}))}return C}return R(w,E)}h.clonePrototype=function(T){if(T===null)return null;var E=function(){};return E.prototype=T,new E};function m(w){return Object.prototype.toString.call(w)}h.__objToStr=m;function g(w){return typeof w=="object"&&m(w)==="[object Date]"}h.__isDate=g;function d(w){return typeof w=="object"&&m(w)==="[object Array]"}h.__isArray=d;function y(w){return typeof w=="object"&&m(w)==="[object RegExp]"}h.__isRegExp=y;function _(w){var T="";return w.global&&(T+="g"),w.ignoreCase&&(T+="i"),w.multiline&&(T+="m"),T}return h.__getRegExpFlags=_,h}();typeof t=="object"&&t.exports&&(t.exports=i)},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function C(k,L){var D=[],$=!0,G=!1,ie=void 0;try{for(var ee=k[Symbol.iterator](),re;!($=(re=ee.next()).done)&&(D.push(re.value),!(L&&D.length===L));$=!0);}catch(Y){G=!0,ie=Y}finally{try{!$&&ee.return&&ee.return()}finally{if(G)throw ie}}return D}return function(k,L){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function C(k,L){for(var D=0;D<L.length;D++){var $=L[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(k,$.key,$)}}return function(k,L,D){return L&&C(k.prototype,L),D&&C(k,D),k}}(),u=function C(k,L,D){k===null&&(k=Function.prototype);var $=Object.getOwnPropertyDescriptor(k,L);if($===void 0){var G=Object.getPrototypeOf(k);return G===null?void 0:C(G,L,D)}else{if("value"in $)return $.value;var ie=$.get;return ie===void 0?void 0:ie.call(D)}},f=i(0),h=x(f),m=i(8),g=x(m),d=i(4),y=x(d),_=i(16),w=x(_),T=i(13),E=x(T),b=i(25),S=x(b);function x(C){return C&&C.__esModule?C:{default:C}}function O(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function U(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:C}function R(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(C,k):C.__proto__=k)}function I(C){return C instanceof y.default||C instanceof d.BlockEmbed}var M=function(C){R(k,C);function k(L,D){O(this,k);var $=U(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,L));return $.emitter=D.emitter,Array.isArray(D.whitelist)&&($.whitelist=D.whitelist.reduce(function(G,ie){return G[ie]=!0,G},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return l(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,$){var G=this.line(D),ie=a(G,2),ee=ie[0],re=ie[1],Y=this.line(D+$),W=a(Y,1),V=W[0];if(u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,D,$),V!=null&&ee!==V&&re>0){if(ee instanceof d.BlockEmbed||V instanceof d.BlockEmbed){this.optimize();return}if(ee instanceof E.default){var q=ee.newlineIndex(ee.length(),!0);if(q>-1&&(ee=ee.split(q+1),ee===V)){this.optimize();return}}else if(V instanceof E.default){var K=V.newlineIndex(0);K>-1&&V.split(K+1)}var te=V.children.head instanceof w.default?null:V.children.head;ee.moveChildren(V,te),ee.remove()}this.optimize()}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,$,G,ie){this.whitelist!=null&&!this.whitelist[G]||(u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,D,$,G,ie),this.optimize())}},{key:"insertAt",value:function(D,$,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[$])){if(D>=this.length())if(G==null||h.default.query($,h.default.Scope.BLOCK)==null){var ie=h.default.create(this.statics.defaultChild);this.appendChild(ie),G==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),ie.insertAt(0,$,G)}else{var ee=h.default.create($,G);this.appendChild(ee)}else u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,D,$,G);this.optimize()}}},{key:"insertBefore",value:function(D,$){if(D.statics.scope===h.default.Scope.INLINE_BLOT){var G=h.default.create(this.statics.defaultChild);G.appendChild(D),D=G}u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,D,$)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(I,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function ie(ee,re,Y){var W=[],V=Y;return ee.children.forEachAt(re,Y,function(q,K,te){I(q)?W.push(q):q instanceof h.default.Container&&(W=W.concat(ie(q,K,V))),V-=te}),W};return G(this,D,$)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,D,$),D.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,D,$))}},{key:"path",value:function(D){return u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var $=g.default.sources.USER;typeof D=="string"&&($=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,$,D),u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,$,D)}}}]),k}(h.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[y.default,d.BlockEmbed,S.default],r.default=M},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},l=function(){function H(X,oe){var ae=[],pe=!0,Se=!1,Le=void 0;try{for(var Ve=X[Symbol.iterator](),Ke;!(pe=(Ke=Ve.next()).done)&&(ae.push(Ke.value),!(oe&&ae.length===oe));pe=!0);}catch(Xe){Se=!0,Le=Xe}finally{try{!pe&&Ve.return&&Ve.return()}finally{if(Se)throw Le}}return ae}return function(X,oe){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return H(X,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function H(X,oe){for(var ae=0;ae<oe.length;ae++){var pe=oe[ae];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(X,pe.key,pe)}}return function(X,oe,ae){return oe&&H(X.prototype,oe),ae&&H(X,ae),X}}(),f=i(21),h=C(f),m=i(11),g=C(m),d=i(3),y=C(d),_=i(2),w=C(_),T=i(20),E=C(T),b=i(0),S=C(b),x=i(5),O=C(x),U=i(10),R=C(U),I=i(9),M=C(I);function C(H){return H&&H.__esModule?H:{default:H}}function k(H,X,oe){return X in H?Object.defineProperty(H,X,{value:oe,enumerable:!0,configurable:!0,writable:!0}):H[X]=oe,H}function L(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}function D(H,X){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:H}function $(H,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(H,X):H.__proto__=X)}var G=(0,R.default)("quill:keyboard"),ie=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ee=function(H){$(X,H),u(X,null,[{key:"match",value:function(ae,pe){return pe=J(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Se){return!!pe[Se]!==ae[Se]&&pe[Se]!==null})?!1:pe.key===(ae.which||ae.keyCode)}}]);function X(oe,ae){L(this,X);var pe=D(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,oe,ae));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(Se){Se==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[Se]&&pe.addBinding(pe.options.bindings[Se])}),pe.addBinding({key:X.keys.ENTER,shiftKey:null},q),pe.addBinding({key:X.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!0},Y),pe.addBinding({key:X.keys.DELETE},{collapsed:!0},W)):(pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),pe.addBinding({key:X.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!1},V),pe.addBinding({key:X.keys.DELETE},{collapsed:!1},V),pe.addBinding({key:X.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),pe.listen(),pe}return u(X,[{key:"addBinding",value:function(ae){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Le=J(ae);if(Le==null||Le.key==null)return G.warn("Attempted to add invalid keyboard binding",Le);typeof pe=="function"&&(pe={handler:pe}),typeof Se=="function"&&(Se={handler:Se}),Le=(0,y.default)(Le,pe,Se),this.bindings[Le.key]=this.bindings[Le.key]||[],this.bindings[Le.key].push(Le)}},{key:"listen",value:function(){var ae=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var Se=pe.which||pe.keyCode,Le=(ae.bindings[Se]||[]).filter(function(ut){return X.match(pe,ut)});if(Le.length!==0){var Ve=ae.quill.getSelection();if(!(Ve==null||!ae.quill.hasFocus())){var Ke=ae.quill.getLine(Ve.index),Xe=l(Ke,2),Lt=Xe[0],mt=Xe[1],de=ae.quill.getLeaf(Ve.index),me=l(de,2),be=me[0],Ae=me[1],ve=Ve.length===0?[be,Ae]:ae.quill.getLeaf(Ve.index+Ve.length),ze=l(ve,2),He=ze[0],Ge=ze[1],st=be instanceof S.default.Text?be.value().slice(0,Ae):"",lt=He instanceof S.default.Text?He.value().slice(Ge):"",rt={collapsed:Ve.length===0,empty:Ve.length===0&&Lt.length()<=1,format:ae.quill.getFormat(Ve),offset:mt,prefix:st,suffix:lt},vs=Le.some(function(ut){if(ut.collapsed!=null&&ut.collapsed!==rt.collapsed||ut.empty!=null&&ut.empty!==rt.empty||ut.offset!=null&&ut.offset!==rt.offset)return!1;if(Array.isArray(ut.format)){if(ut.format.every(function(on){return rt.format[on]==null}))return!1}else if(a(ut.format)==="object"&&!Object.keys(ut.format).every(function(on){return ut.format[on]===!0?rt.format[on]!=null:ut.format[on]===!1?rt.format[on]==null:(0,g.default)(ut.format[on],rt.format[on])}))return!1;return ut.prefix!=null&&!ut.prefix.test(rt.prefix)||ut.suffix!=null&&!ut.suffix.test(rt.suffix)?!1:ut.handler.call(ae,Ve,rt)!==!0});vs&&pe.preventDefault()}}}})}}]),X}(M.default);ee.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ee.DEFAULTS={bindings:{bold:te("bold"),italic:te("italic"),underline:te("underline"),indent:{key:ee.keys.TAB,format:["blockquote","indent","list"],handler:function(X,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:ee.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(X,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:ee.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(X,oe){oe.format.indent!=null?this.quill.format("indent","-1",O.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:ee.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(X){this.quill.deleteText(X.index-1,1,O.default.sources.USER)}},tab:{key:ee.keys.TAB,handler:function(X){this.quill.history.cutoff();var oe=new w.default().retain(X.index).delete(X.length).insert("	");this.quill.updateContents(oe,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index+1,O.default.sources.SILENT)}},"list empty enter":{key:ee.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(X,oe){this.quill.format("list",!1,O.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:ee.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(X){var oe=this.quill.getLine(X.index),ae=l(oe,2),pe=ae[0],Se=ae[1],Le=(0,y.default)({},pe.formats(),{list:"checked"}),Ve=new w.default().retain(X.index).insert(`
`,Le).retain(pe.length()-Se-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,O.default.sources.USER),this.quill.setSelection(X.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ee.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(X,oe){var ae=this.quill.getLine(X.index),pe=l(ae,2),Se=pe[0],Le=pe[1],Ve=new w.default().retain(X.index).insert(`
`,oe.format).retain(Se.length()-Le-1).retain(1,{header:null});this.quill.updateContents(Ve,O.default.sources.USER),this.quill.setSelection(X.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(X,oe){var ae=oe.prefix.length,pe=this.quill.getLine(X.index),Se=l(pe,2),Le=Se[0],Ve=Se[1];if(Ve>ae)return!0;var Ke=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":Ke="unchecked";break;case"[x]":Ke="checked";break;case"-":case"*":Ke="bullet";break;default:Ke="ordered"}this.quill.insertText(X.index," ",O.default.sources.USER),this.quill.history.cutoff();var Xe=new w.default().retain(X.index-Ve).delete(ae+1).retain(Le.length()-2-Ve).retain(1,{list:Ke});this.quill.updateContents(Xe,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index-ae,O.default.sources.SILENT)}},"code exit":{key:ee.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(X){var oe=this.quill.getLine(X.index),ae=l(oe,2),pe=ae[0],Se=ae[1],Le=new w.default().retain(X.index+pe.length()-Se-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Le,O.default.sources.USER)}},"embed left":re(ee.keys.LEFT,!1),"embed left shift":re(ee.keys.LEFT,!0),"embed right":re(ee.keys.RIGHT,!1),"embed right shift":re(ee.keys.RIGHT,!0)}};function re(H,X){var oe,ae=H===ee.keys.LEFT?"prefix":"suffix";return oe={key:H,shiftKey:X,altKey:null},k(oe,ae,/^$/),k(oe,"handler",function(Se){var Le=Se.index;H===ee.keys.RIGHT&&(Le+=Se.length+1);var Ve=this.quill.getLeaf(Le),Ke=l(Ve,1),Xe=Ke[0];return Xe instanceof S.default.Embed?(H===ee.keys.LEFT?X?this.quill.setSelection(Se.index-1,Se.length+1,O.default.sources.USER):this.quill.setSelection(Se.index-1,O.default.sources.USER):X?this.quill.setSelection(Se.index,Se.length+1,O.default.sources.USER):this.quill.setSelection(Se.index+Se.length+1,O.default.sources.USER),!1):!0}),oe}function Y(H,X){if(!(H.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine(H.index),ae=l(oe,1),pe=ae[0],Se={};if(X.offset===0){var Le=this.quill.getLine(H.index-1),Ve=l(Le,1),Ke=Ve[0];if(Ke!=null&&Ke.length()>1){var Xe=pe.formats(),Lt=this.quill.getFormat(H.index-1,1);Se=E.default.attributes.diff(Xe,Lt)||{}}}var mt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(X.prefix)?2:1;this.quill.deleteText(H.index-mt,mt,O.default.sources.USER),Object.keys(Se).length>0&&this.quill.formatLine(H.index-mt,mt,Se,O.default.sources.USER),this.quill.focus()}}function W(H,X){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(X.suffix)?2:1;if(!(H.index>=this.quill.getLength()-oe)){var ae={},pe=0,Se=this.quill.getLine(H.index),Le=l(Se,1),Ve=Le[0];if(X.offset>=Ve.length()-1){var Ke=this.quill.getLine(H.index+1),Xe=l(Ke,1),Lt=Xe[0];if(Lt){var mt=Ve.formats(),de=this.quill.getFormat(H.index,1);ae=E.default.attributes.diff(mt,de)||{},pe=Lt.length()}}this.quill.deleteText(H.index,oe,O.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(H.index+pe-1,oe,ae,O.default.sources.USER)}}function V(H){var X=this.quill.getLines(H),oe={};if(X.length>1){var ae=X[0].formats(),pe=X[X.length-1].formats();oe=E.default.attributes.diff(pe,ae)||{}}this.quill.deleteText(H,O.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(H.index,1,oe,O.default.sources.USER),this.quill.setSelection(H.index,O.default.sources.SILENT),this.quill.focus()}function q(H,X){var oe=this;H.length>0&&this.quill.scroll.deleteAt(H.index,H.length);var ae=Object.keys(X.format).reduce(function(pe,Se){return S.default.query(Se,S.default.Scope.BLOCK)&&!Array.isArray(X.format[Se])&&(pe[Se]=X.format[Se]),pe},{});this.quill.insertText(H.index,`
`,ae,O.default.sources.USER),this.quill.setSelection(H.index+1,O.default.sources.SILENT),this.quill.focus(),Object.keys(X.format).forEach(function(pe){ae[pe]==null&&(Array.isArray(X.format[pe])||pe!=="link"&&oe.quill.format(pe,X.format[pe],O.default.sources.USER))})}function K(H){return{key:ee.keys.TAB,shiftKey:!H,format:{"code-block":!0},handler:function(oe){var ae=S.default.query("code-block"),pe=oe.index,Se=oe.length,Le=this.quill.scroll.descendant(ae,pe),Ve=l(Le,2),Ke=Ve[0],Xe=Ve[1];if(Ke!=null){var Lt=this.quill.getIndex(Ke),mt=Ke.newlineIndex(Xe,!0)+1,de=Ke.newlineIndex(Lt+Xe+Se),me=Ke.domNode.textContent.slice(mt,de).split(`
`);Xe=0,me.forEach(function(be,Ae){H?(Ke.insertAt(mt+Xe,ae.TAB),Xe+=ae.TAB.length,Ae===0?pe+=ae.TAB.length:Se+=ae.TAB.length):be.startsWith(ae.TAB)&&(Ke.deleteAt(mt+Xe,ae.TAB.length),Xe-=ae.TAB.length,Ae===0?pe-=ae.TAB.length:Se-=ae.TAB.length),Xe+=be.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(pe,Se,O.default.sources.SILENT)}}}}function te(H){return{key:H[0].toUpperCase(),shortKey:!0,handler:function(oe,ae){this.quill.format(H,!ae.format[H],O.default.sources.USER)}}}function J(H){if(typeof H=="string"||typeof H=="number")return J({key:H});if((typeof H>"u"?"undefined":a(H))==="object"&&(H=(0,h.default)(H,!1)),typeof H.key=="string")if(ee.keys[H.key.toUpperCase()]!=null)H.key=ee.keys[H.key.toUpperCase()];else if(H.key.length===1)H.key=H.key.toUpperCase().charCodeAt(0);else return null;return H.shortKey&&(H[ie]=H.shortKey,delete H.shortKey),H}r.default=ee,r.SHORTKEY=ie},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(b,S){var x=[],O=!0,U=!1,R=void 0;try{for(var I=b[Symbol.iterator](),M;!(O=(M=I.next()).done)&&(x.push(M.value),!(S&&x.length===S));O=!0);}catch(C){U=!0,R=C}finally{try{!O&&I.return&&I.return()}finally{if(U)throw R}}return x}return function(b,S){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return E(b,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function E(b,S,x){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,S);if(O===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:E(U,S,x)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(x)}},u=function(){function E(b,S){for(var x=0;x<S.length;x++){var O=S[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,S,x){return S&&E(b.prototype,S),x&&E(b,x),b}}(),f=i(0),h=d(f),m=i(7),g=d(m);function d(E){return E&&E.__esModule?E:{default:E}}function y(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}function _(E,b){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:E}function w(E,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);E.prototype=Object.create(b&&b.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(E,b):E.__proto__=b)}var T=function(E){w(b,E),u(b,null,[{key:"value",value:function(){}}]);function b(S,x){y(this,b);var O=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S));return O.selection=x,O.textNode=document.createTextNode(b.CONTENTS),O.domNode.appendChild(O.textNode),O._length=0,O}return u(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,O){if(this._length!==0)return l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,O);for(var U=this,R=0;U!=null&&U.statics.scope!==h.default.Scope.BLOCK_BLOT;)R+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=b.CONTENTS.length,U.optimize(),U.formatAt(R,b.CONTENTS.length,x,O),this._length=0)}},{key:"index",value:function(x,O){return x===this.textNode?0:l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,O)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,O=this.selection.getNativeRange(),U=void 0,R=void 0,I=void 0;if(O!=null&&O.start.node===x&&O.end.node===x){var M=[x,O.start.offset,O.end.offset];U=M[0],R=M[1],I=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var C=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof g.default?(U=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=b.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),R!=null){var k=[R,I].map(function(D){return Math.max(0,Math.min(U.data.length,D-1))}),L=a(k,2);return R=L[0],I=L[1],{startNode:U,startOffset:R,endNode:U,endOffset:I}}}}},{key:"update",value:function(x,O){var U=this;if(x.some(function(I){return I.type==="characterData"&&I.target===U.textNode})){var R=this.restore();R&&(O.range=R)}}},{key:"value",value:function(){return""}}]),b}(h.default.Embed);T.blotName="cursor",T.className="ql-cursor",T.tagName="span",T.CONTENTS="\uFEFF",r.default=T},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),l=h(a),u=i(4),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function m(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var y=function(_){d(w,_);function w(){return m(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return w}(l.default.Container);y.allowedChildren=[f.default,u.BlockEmbed,y],r.default=y},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function T(E,b){for(var S=0;S<b.length;S++){var x=b[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,b,S){return b&&T(E.prototype,b),S&&T(E,S),E}}(),l=function T(E,b,S){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,b);if(x===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:T(O,b,S)}else{if("value"in x)return x.value;var U=x.get;return U===void 0?void 0:U.call(S)}},u=i(0),f=h(u);function h(T){return T&&T.__esModule?T:{default:T}}function m(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function g(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function d(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var y=function(T){d(E,T);function E(){return m(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"value",value:function(S){var x=l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,S);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(O){return("00"+parseInt(O).toString(16)).slice(-2)}).join("")):x}}]),E}(f.default.Attributor.Style),_=new f.default.Attributor.Class("color","ql-color",{scope:f.default.Scope.INLINE}),w=new y("color","color",{scope:f.default.Scope.INLINE});r.ColorAttributor=y,r.ColorClass=_,r.ColorStyle=w},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function w(T,E){for(var b=0;b<E.length;b++){var S=E[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,E,b){return E&&w(T.prototype,E),b&&w(T,b),T}}(),l=function w(T,E,b){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,E);if(S===void 0){var x=Object.getPrototypeOf(T);return x===null?void 0:w(x,E,b)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(b)}},u=i(6),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(){return m(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"format",value:function(b,S){if(b!==this.statics.blotName||!S)return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,b,S);S=this.constructor.sanitize(S),this.domNode.setAttribute("href",S)}}],[{key:"create",value:function(b){var S=l(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,b);return b=this.sanitize(b),S.setAttribute("href",b),S.setAttribute("rel","noopener noreferrer"),S.setAttribute("target","_blank"),S}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return _(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),T}(f.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(w,T){var E=document.createElement("a");E.href=w;var b=E.href.slice(0,E.href.indexOf(":"));return T.indexOf(b)>-1}r.default=y,r.sanitize=_},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},l=function(){function T(E,b){for(var S=0;S<b.length;S++){var x=b[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,b,S){return b&&T(E.prototype,b),S&&T(E,S),E}}(),u=i(23),f=g(u),h=i(107),m=g(h);function g(T){return T&&T.__esModule?T:{default:T}}function d(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}var y=0;function _(T,E){T.setAttribute(E,T.getAttribute(E)!=="true")}var w=function(){function T(E){var b=this;d(this,T),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(S){switch(S.keyCode){case f.default.keys.ENTER:b.togglePicker();break;case f.default.keys.ESCAPE:b.escape(),S.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(T,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var S=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),b.hasAttribute("value")&&x.setAttribute("data-value",b.getAttribute("value")),b.textContent&&x.setAttribute("data-label",b.textContent),x.addEventListener("click",function(){S.selectItem(x,!0)}),x.addEventListener("keydown",function(O){switch(O.keyCode){case f.default.keys.ENTER:S.selectItem(x,!0),O.preventDefault();break;case f.default.keys.ESCAPE:S.escape(),O.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=m.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,S=document.createElement("span");S.classList.add("ql-picker-options"),S.setAttribute("aria-hidden","true"),S.tabIndex="-1",S.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",S.id),this.options=S,[].slice.call(this.select.options).forEach(function(x){var O=b.buildItem(x);S.appendChild(O),x.selected===!0&&b.selectItem(O)}),this.container.appendChild(S)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(S){b.container.setAttribute(S.name,S.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(b!==x&&(x!=null&&x.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),S))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var O=document.createEvent("Event");O.initEvent("change",!0,!0),this.select.dispatchEvent(O)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var S=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(S)}else this.selectItem(null);var x=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),T}();r.default=w},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),l=G(a),u=i(5),f=G(u),h=i(4),m=G(h),g=i(16),d=G(g),y=i(25),_=G(y),w=i(24),T=G(w),E=i(35),b=G(E),S=i(6),x=G(S),O=i(22),U=G(O),R=i(7),I=G(R),M=i(55),C=G(M),k=i(42),L=G(k),D=i(23),$=G(D);function G(ie){return ie&&ie.__esModule?ie:{default:ie}}f.default.register({"blots/block":m.default,"blots/block/embed":h.BlockEmbed,"blots/break":d.default,"blots/container":_.default,"blots/cursor":T.default,"blots/embed":b.default,"blots/inline":x.default,"blots/scroll":U.default,"blots/text":I.default,"modules/clipboard":C.default,"modules/history":L.default,"modules/keyboard":$.default}),l.default.register(m.default,d.default,T.default,x.default,U.default,I.default),r.default=f.default},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),l=function(){function u(f){this.domNode=f,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(u.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),u.create=function(f){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof f=="string"&&(f=f.toUpperCase(),parseInt(f).toString()===f&&(f=parseInt(f))),typeof f=="number"?h=document.createElement(this.tagName[f-1]):this.tagName.indexOf(f)>-1?h=document.createElement(f):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},u.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},u.prototype.clone=function(){var f=this.domNode.cloneNode(!1);return a.create(f)},u.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},u.prototype.deleteAt=function(f,h){var m=this.isolate(f,h);m.remove()},u.prototype.formatAt=function(f,h,m,g){var d=this.isolate(f,h);if(a.query(m,a.Scope.BLOT)!=null&&g)d.wrap(m,g);else if(a.query(m,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);d.wrap(y),y.format(m,g)}},u.prototype.insertAt=function(f,h,m){var g=m==null?a.create("text",h):a.create(h,m),d=this.split(f);this.parent.insertBefore(g,d)},u.prototype.insertInto=function(f,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var m=null;f.children.insertBefore(this,h),h!=null&&(m=h.domNode),(this.domNode.parentNode!=f.domNode||this.domNode.nextSibling!=m)&&f.domNode.insertBefore(this.domNode,m),this.parent=f,this.attach()},u.prototype.isolate=function(f,h){var m=this.split(f);return m.split(h),m},u.prototype.length=function(){return 1},u.prototype.offset=function(f){return f===void 0&&(f=this.parent),this.parent==null||this==f?0:this.parent.children.offset(this)+this.parent.offset(f)},u.prototype.optimize=function(f){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},u.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},u.prototype.replace=function(f){f.parent!=null&&(f.parent.insertBefore(this,f.next),f.remove())},u.prototype.replaceWith=function(f,h){var m=typeof f=="string"?a.create(f,h):f;return m.replace(this),m},u.prototype.split=function(f,h){return f===0?this:this.next},u.prototype.update=function(f,h){},u.prototype.wrap=function(f,h){var m=typeof f=="string"?a.create(f,h):f;return this.parent!=null&&this.parent.insertBefore(m,this.next),m.appendChild(this),m},u.blotName="abstract",u}();r.default=l},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),l=i(32),u=i(33),f=i(1),h=function(){function m(g){this.attributes={},this.domNode=g,this.build()}return m.prototype.attribute=function(g,d){d?g.add(this.domNode,d)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},m.prototype.build=function(){var g=this;this.attributes={};var d=a.default.keys(this.domNode),y=l.default.keys(this.domNode),_=u.default.keys(this.domNode);d.concat(y).concat(_).forEach(function(w){var T=f.query(w,f.Scope.ATTRIBUTE);T instanceof a.default&&(g.attributes[T.attrName]=T)})},m.prototype.copy=function(g){var d=this;Object.keys(this.attributes).forEach(function(y){var _=d.attributes[y].value(d.domNode);g.format(y,_)})},m.prototype.move=function(g){var d=this;this.copy(g),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},m.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=g.attributes[y].value(g.domNode),d},{})},m}();r.default=h},function(t,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)g.hasOwnProperty(d)&&(m[d]=g[d])};return function(m,g){h(m,g);function d(){this.constructor=m}m.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12);function u(h,m){var g=h.getAttribute("class")||"";return g.split(/\s+/).filter(function(d){return d.indexOf(m+"-")===0})}var f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},m.prototype.add=function(g,d){return this.canAdd(g,d)?(this.remove(g),g.classList.add(this.keyName+"-"+d),!0):!1},m.prototype.remove=function(g){var d=u(g,this.keyName);d.forEach(function(y){g.classList.remove(y)}),g.classList.length===0&&g.removeAttribute("class")},m.prototype.value=function(g){var d=u(g,this.keyName)[0]||"",y=d.slice(this.keyName.length+1);return this.canAdd(g,y)?y:""},m}(l.default);r.default=f},function(t,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)g.hasOwnProperty(d)&&(m[d]=g[d])};return function(m,g){h(m,g);function d(){this.constructor=m}m.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12);function u(h){var m=h.split("-"),g=m.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return m[0]+g}var f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(d){var y=d.split(":");return y[0].trim()})},m.prototype.add=function(g,d){return this.canAdd(g,d)?(g.style[u(this.keyName)]=d,!0):!1},m.prototype.remove=function(g){g.style[u(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},m.prototype.value=function(g){var d=g.style[u(this.keyName)];return this.canAdd(g,d)?d:""},m}(l.default);r.default=f},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,m){for(var g=0;g<m.length;g++){var d=m[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,m,g){return m&&f(h.prototype,m),g&&f(h,g),h}}();function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function(){function f(h,m){l(this,f),this.quill=h,this.options=m,this.modules={}}return a(f,[{key:"init",value:function(){var m=this;Object.keys(this.options.modules).forEach(function(g){m.modules[g]==null&&m.addModule(g)})}},{key:"addModule",value:function(m){var g=this.quill.constructor.import("modules/"+m);return this.modules[m]=new g(this.quill,this.options.modules[m]||{}),this.modules[m]}}]),f}();u.DEFAULTS={modules:{}},u.themes={default:u},r.default=u},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(b,S){for(var x=0;x<S.length;x++){var O=S[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,S,x){return S&&E(b.prototype,S),x&&E(b,x),b}}(),l=function E(b,S,x){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,S);if(O===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:E(U,S,x)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(x)}},u=i(0),f=g(u),h=i(7),m=g(h);function g(E){return E&&E.__esModule?E:{default:E}}function d(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}function y(E,b){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:E}function _(E,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);E.prototype=Object.create(b&&b.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(E,b):E.__proto__=b)}var w="\uFEFF",T=function(E){_(b,E);function b(S){d(this,b);var x=y(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(O){x.contentNode.appendChild(O)}),x.leftGuard=document.createTextNode(w),x.rightGuard=document.createTextNode(w),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return a(b,[{key:"index",value:function(x,O){return x===this.leftGuard?0:x===this.rightGuard?1:l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,O)}},{key:"restore",value:function(x){var O=void 0,U=void 0,R=x.data.split(w).join("");if(x===this.leftGuard)if(this.prev instanceof m.default){var I=this.prev.length();this.prev.insertAt(I,R),O={startNode:this.prev.domNode,startOffset:I+R.length}}else U=document.createTextNode(R),this.parent.insertBefore(f.default.create(U),this),O={startNode:U,startOffset:R.length};else x===this.rightGuard&&(this.next instanceof m.default?(this.next.insertAt(0,R),O={startNode:this.next.domNode,startOffset:R.length}):(U=document.createTextNode(R),this.parent.insertBefore(f.default.create(U),this.next),O={startNode:U,startOffset:R.length}));return x.data=w,O}},{key:"update",value:function(x,O){var U=this;x.forEach(function(R){if(R.type==="characterData"&&(R.target===U.leftGuard||R.target===U.rightGuard)){var I=U.restore(R.target);I&&(O.range=I)}})}}]),b}(f.default.Embed);r.default=T},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=i(0),l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}var f={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new l.default.Attributor.Attribute("align","align",f),m=new l.default.Attributor.Class("align","ql-align",f),g=new l.default.Attributor.Style("align","text-align",f);r.AlignAttribute=h,r.AlignClass=m,r.AlignStyle=g},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=i(0),l=f(a),u=i(26);function f(g){return g&&g.__esModule?g:{default:g}}var h=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),m=new u.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=m},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=i(0),l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}var f={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},h=new l.default.Attributor.Attribute("direction","dir",f),m=new l.default.Attributor.Class("direction","ql-direction",f),g=new l.default.Attributor.Style("direction","direction",f);r.DirectionAttribute=h,r.DirectionClass=m,r.DirectionStyle=g},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function E(b,S){for(var x=0;x<S.length;x++){var O=S[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,S,x){return S&&E(b.prototype,S),x&&E(b,x),b}}(),l=function E(b,S,x){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,S);if(O===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:E(U,S,x)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(x)}},u=i(0),f=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function m(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}function g(E,b){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:E}function d(E,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);E.prototype=Object.create(b&&b.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(E,b):E.__proto__=b)}var y={scope:f.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new f.default.Attributor.Class("font","ql-font",y),w=function(E){d(b,E);function b(){return m(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(x){return l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),b}(f.default.Attributor.Style),T=new w("font","font-family",y);r.FontStyle=T,r.FontClass=_},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}var f=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=f,r.SizeStyle=h},function(t,r,i){t.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function S(x,O){for(var U=0;U<O.length;U++){var R=O[U];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(x,R.key,R)}}return function(x,O,U){return O&&S(x.prototype,O),U&&S(x,U),x}}(),l=i(0),u=d(l),f=i(5),h=d(f),m=i(9),g=d(m);function d(S){return S&&S.__esModule?S:{default:S}}function y(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function _(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function w(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}var T=function(S){w(x,S);function x(O,U){y(this,x);var R=_(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,O,U));return R.lastRecorded=0,R.ignoreChange=!1,R.clear(),R.quill.on(h.default.events.EDITOR_CHANGE,function(I,M,C,k){I!==h.default.events.TEXT_CHANGE||R.ignoreChange||(!R.options.userOnly||k===h.default.sources.USER?R.record(M,C):R.transform(M))}),R.quill.keyboard.addBinding({key:"Z",shortKey:!0},R.undo.bind(R)),R.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},R.redo.bind(R)),/Win/i.test(navigator.platform)&&R.quill.keyboard.addBinding({key:"Y",shortKey:!0},R.redo.bind(R)),R}return a(x,[{key:"change",value:function(U,R){if(this.stack[U].length!==0){var I=this.stack[U].pop();this.stack[R].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[U],h.default.sources.USER),this.ignoreChange=!1;var M=b(I[U]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,R){if(U.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(R),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var C=this.stack.undo.pop();I=I.compose(C.undo),U=C.redo.compose(U)}else this.lastRecorded=M;this.stack.undo.push({redo:U,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(R){R.undo=U.transform(R.undo,!0),R.redo=U.transform(R.redo,!0)}),this.stack.redo.forEach(function(R){R.undo=U.transform(R.undo,!0),R.redo=U.transform(R.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(g.default);T.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(S){var x=S.ops[S.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(O){return u.default.query(O,u.default.Scope.BLOCK)!=null}):!1}function b(S){var x=S.reduce(function(U,R){return U+=R.delete||0,U},0),O=S.length()-x;return E(S)&&(O-=1),O}r.default=T,r.getLastChangeIndex=b},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function q(K,te){for(var J=0;J<te.length;J++){var H=te[J];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(K,H.key,H)}}return function(K,te,J){return te&&q(K.prototype,te),J&&q(K,J),K}}(),l=function q(K,te,J){K===null&&(K=Function.prototype);var H=Object.getOwnPropertyDescriptor(K,te);if(H===void 0){var X=Object.getPrototypeOf(K);return X===null?void 0:q(X,te,J)}else{if("value"in H)return H.value;var oe=H.get;return oe===void 0?void 0:oe.call(J)}},u=i(3),f=M(u),h=i(2),m=M(h),g=i(8),d=M(g),y=i(23),_=M(y),w=i(34),T=M(w),E=i(59),b=M(E),S=i(60),x=M(S),O=i(28),U=M(O),R=i(61),I=M(R);function M(q){return q&&q.__esModule?q:{default:q}}function C(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}function k(q,K){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:q}function L(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);q.prototype=Object.create(K&&K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(q,K):q.__proto__=K)}var D=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],ie=["1","2","3",!1],ee=["small",!1,"large","huge"],re=function(q){L(K,q);function K(te,J){C(this,K);var H=k(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,J)),X=function oe(ae){if(!document.body.contains(te.root))return document.body.removeEventListener("click",oe);H.tooltip!=null&&!H.tooltip.root.contains(ae.target)&&document.activeElement!==H.tooltip.textbox&&!H.quill.hasFocus()&&H.tooltip.hide(),H.pickers!=null&&H.pickers.forEach(function(pe){pe.container.contains(ae.target)||pe.close()})};return te.emitter.listenDOM("click",document.body,X),H}return a(K,[{key:"addModule",value:function(J){var H=l(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(H),H}},{key:"buildButtons",value:function(J,H){J.forEach(function(X){var oe=X.getAttribute("class")||"";oe.split(/\s+/).forEach(function(ae){if(ae.startsWith("ql-")&&(ae=ae.slice(3),H[ae]!=null))if(ae==="direction")X.innerHTML=H[ae][""]+H[ae].rtl;else if(typeof H[ae]=="string")X.innerHTML=H[ae];else{var pe=X.value||"";pe!=null&&H[ae][pe]&&(X.innerHTML=H[ae][pe])}})})}},{key:"buildPickers",value:function(J,H){var X=this;this.pickers=J.map(function(ae){if(ae.classList.contains("ql-align"))return ae.querySelector("option")==null&&V(ae,D),new x.default(ae,H.align);if(ae.classList.contains("ql-background")||ae.classList.contains("ql-color")){var pe=ae.classList.contains("ql-background")?"background":"color";return ae.querySelector("option")==null&&V(ae,$,pe==="background"?"#ffffff":"#000000"),new b.default(ae,H[pe])}else return ae.querySelector("option")==null&&(ae.classList.contains("ql-font")?V(ae,G):ae.classList.contains("ql-header")?V(ae,ie):ae.classList.contains("ql-size")&&V(ae,ee)),new U.default(ae)});var oe=function(){X.pickers.forEach(function(pe){pe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,oe)}}]),K}(T.default);re.DEFAULTS=(0,f.default)(!0,{},T.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,te=this.container.querySelector("input.ql-image[type=file]");te==null&&(te=document.createElement("input"),te.setAttribute("type","file"),te.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),te.classList.add("ql-image"),te.addEventListener("change",function(){if(te.files!=null&&te.files[0]!=null){var J=new FileReader;J.onload=function(H){var X=K.quill.getSelection(!0);K.quill.updateContents(new m.default().retain(X.index).delete(X.length).insert({image:H.target.result}),d.default.sources.USER),K.quill.setSelection(X.index+1,d.default.sources.SILENT),te.value=""},J.readAsDataURL(te.files[0])}}),this.container.appendChild(te)),te.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(q){L(K,q);function K(te,J){C(this,K);var H=k(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,J));return H.textbox=H.root.querySelector('input[type="text"]'),H.listen(),H}return a(K,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(H){_.default.match(H,"enter")?(J.save(),H.preventDefault()):_.default.match(H,"escape")&&(J.cancel(),H.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),H!=null?this.textbox.value=H:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var H=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,d.default.sources.USER)),this.quill.root.scrollTop=H;break}case"video":J=W(J);case"formula":{if(!J)break;var X=this.quill.getSelection(!0);if(X!=null){var oe=X.index+X.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),J,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",d.default.sources.USER),this.quill.setSelection(oe+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(I.default);function W(q){var K=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":q}function V(q,K){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(J){var H=document.createElement("option");J===te?H.setAttribute("selected","selected"):H.setAttribute("value",J),q.appendChild(H)})}r.BaseTooltip=Y,r.default=re},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];this.insertBefore(u[0],null),u.length>1&&this.append.apply(this,u.slice(1))},l.prototype.contains=function(u){for(var f,h=this.iterator();f=h();)if(f===u)return!0;return!1},l.prototype.insertBefore=function(u,f){u&&(u.next=f,f!=null?(u.prev=f.prev,f.prev!=null&&(f.prev.next=u),f.prev=u,f===this.head&&(this.head=u)):this.tail!=null?(this.tail.next=u,u.prev=this.tail,this.tail=u):(u.prev=null,this.head=this.tail=u),this.length+=1)},l.prototype.offset=function(u){for(var f=0,h=this.head;h!=null;){if(h===u)return f;f+=h.length(),h=h.next}return-1},l.prototype.remove=function(u){this.contains(u)&&(u.prev!=null&&(u.prev.next=u.next),u.next!=null&&(u.next.prev=u.prev),u===this.head&&(this.head=u.next),u===this.tail&&(this.tail=u.prev),this.length-=1)},l.prototype.iterator=function(u){return u===void 0&&(u=this.head),function(){var f=u;return u!=null&&(u=u.next),f}},l.prototype.find=function(u,f){f===void 0&&(f=!1);for(var h,m=this.iterator();h=m();){var g=h.length();if(u<g||f&&u===g&&(h.next==null||h.next.length()!==0))return[h,u];u-=g}return[null,0]},l.prototype.forEach=function(u){for(var f,h=this.iterator();f=h();)u(f)},l.prototype.forEachAt=function(u,f,h){if(!(f<=0))for(var m=this.find(u),g=m[0],d=m[1],y,_=u-d,w=this.iterator(g);(y=w())&&_<u+f;){var T=y.length();u>_?h(y,u-_,Math.min(f,_+T-u)):h(y,0,Math.min(T,u+f-_)),_+=T}},l.prototype.map=function(u){return this.reduce(function(f,h){return f.push(u(h)),f},[])},l.prototype.reduce=function(u,f){for(var h,m=this.iterator();h=m();)f=u(f,h);return f},l}();r.default=a},function(t,r,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var _ in y)y.hasOwnProperty(_)&&(d[_]=y[_])};return function(d,y){g(d,y);function _(){this.constructor=d}d.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(17),u=i(1),f={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,m=function(g){a(d,g);function d(y){var _=g.call(this,y)||this;return _.scroll=_,_.observer=new MutationObserver(function(w){_.update(w)}),_.observer.observe(_.domNode,f),_.attach(),_}return d.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,_){this.update(),y===0&&_===this.length()?this.children.forEach(function(w){w.remove()}):g.prototype.deleteAt.call(this,y,_)},d.prototype.formatAt=function(y,_,w,T){this.update(),g.prototype.formatAt.call(this,y,_,w,T)},d.prototype.insertAt=function(y,_,w){this.update(),g.prototype.insertAt.call(this,y,_,w)},d.prototype.optimize=function(y,_){var w=this;y===void 0&&(y=[]),_===void 0&&(_={}),g.prototype.optimize.call(this,_);for(var T=[].slice.call(this.observer.takeRecords());T.length>0;)y.push(T.pop());for(var E=function(O,U){U===void 0&&(U=!0),!(O==null||O===w)&&O.domNode.parentNode!=null&&(O.domNode[u.DATA_KEY].mutations==null&&(O.domNode[u.DATA_KEY].mutations=[]),U&&E(O.parent))},b=function(O){O.domNode[u.DATA_KEY]==null||O.domNode[u.DATA_KEY].mutations==null||(O instanceof l.default&&O.children.forEach(b),O.optimize(_))},S=y,x=0;S.length>0;x+=1){if(x>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(S.forEach(function(O){var U=u.find(O.target,!0);U!=null&&(U.domNode===O.target&&(O.type==="childList"?(E(u.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(R){var I=u.find(R,!1);E(I,!1),I instanceof l.default&&I.children.forEach(function(M){E(M,!1)})})):O.type==="attributes"&&E(U.prev)),E(U))}),this.children.forEach(b),S=[].slice.call(this.observer.takeRecords()),T=S.slice();T.length>0;)y.push(T.pop())}},d.prototype.update=function(y,_){var w=this;_===void 0&&(_={}),y=y||this.observer.takeRecords(),y.map(function(T){var E=u.find(T.target,!0);return E==null?null:E.domNode[u.DATA_KEY].mutations==null?(E.domNode[u.DATA_KEY].mutations=[T],E):(E.domNode[u.DATA_KEY].mutations.push(T),null)}).forEach(function(T){T==null||T===w||T.domNode[u.DATA_KEY]==null||T.update(T.domNode[u.DATA_KEY].mutations||[],_)}),this.domNode[u.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[u.DATA_KEY].mutations,_),this.optimize(y,_)},d.blotName="scroll",d.defaultChild="block",d.scope=u.Scope.BLOCK_BLOT,d.tagName="DIV",d}(l.default);r.default=m},function(t,r,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var y in d)d.hasOwnProperty(y)&&(g[y]=d[y])};return function(g,d){m(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(18),u=i(1);function f(m,g){if(Object.keys(m).length!==Object.keys(g).length)return!1;for(var d in m)if(m[d]!==g[d])return!1;return!0}var h=function(m){a(g,m);function g(){return m!==null&&m.apply(this,arguments)||this}return g.formats=function(d){if(d.tagName!==g.tagName)return m.formats.call(this,d)},g.prototype.format=function(d,y){var _=this;d===this.statics.blotName&&!y?(this.children.forEach(function(w){w instanceof l.default||(w=w.wrap(g.blotName,!0)),_.attributes.copy(w)}),this.unwrap()):m.prototype.format.call(this,d,y)},g.prototype.formatAt=function(d,y,_,w){if(this.formats()[_]!=null||u.query(_,u.Scope.ATTRIBUTE)){var T=this.isolate(d,y);T.format(_,w)}else m.prototype.formatAt.call(this,d,y,_,w)},g.prototype.optimize=function(d){m.prototype.optimize.call(this,d);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var _=this.next;_ instanceof g&&_.prev===this&&f(y,_.formats())&&(_.moveChildren(this),_.remove())},g.blotName="inline",g.scope=u.Scope.INLINE_BLOT,g.tagName="SPAN",g}(l.default);r.default=h},function(t,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)g.hasOwnProperty(d)&&(m[d]=g[d])};return function(m,g){h(m,g);function d(){this.constructor=m}m.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(18),u=i(1),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.formats=function(g){var d=u.query(m.blotName).tagName;if(g.tagName!==d)return h.formats.call(this,g)},m.prototype.format=function(g,d){u.query(g,u.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!d?this.replaceWith(m.blotName):h.prototype.format.call(this,g,d))},m.prototype.formatAt=function(g,d,y,_){u.query(y,u.Scope.BLOCK)!=null?this.format(y,_):h.prototype.formatAt.call(this,g,d,y,_)},m.prototype.insertAt=function(g,d,y){if(y==null||u.query(d,u.Scope.INLINE)!=null)h.prototype.insertAt.call(this,g,d,y);else{var _=this.split(g),w=u.create(d,y);_.parent.insertBefore(w,_)}},m.prototype.update=function(g,d){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,g,d)},m.blotName="block",m.scope=u.Scope.BLOCK_BLOT,m.tagName="P",m}(l.default);r.default=f},function(t,r,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)m.hasOwnProperty(g)&&(h[g]=m[g])};return function(h,m){f(h,m);function g(){this.constructor=h}h.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(19),u=function(f){a(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(m){},h.prototype.format=function(m,g){f.prototype.formatAt.call(this,0,this.length(),m,g)},h.prototype.formatAt=function(m,g,d,y){m===0&&g===this.length()?this.format(d,y):f.prototype.formatAt.call(this,m,g,d,y)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(l.default);r.default=u},function(t,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)g.hasOwnProperty(d)&&(m[d]=g[d])};return function(m,g){h(m,g);function d(){this.constructor=m}m.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(19),u=i(1),f=function(h){a(m,h);function m(g){var d=h.call(this,g)||this;return d.text=d.statics.value(d.domNode),d}return m.create=function(g){return document.createTextNode(g)},m.value=function(g){var d=g.data;return d.normalize&&(d=d.normalize()),d},m.prototype.deleteAt=function(g,d){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+d)},m.prototype.index=function(g,d){return this.domNode===g?d:-1},m.prototype.insertAt=function(g,d,y){y==null?(this.text=this.text.slice(0,g)+d+this.text.slice(g),this.domNode.data=this.text):h.prototype.insertAt.call(this,g,d,y)},m.prototype.length=function(){return this.text.length},m.prototype.optimize=function(g){h.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof m&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},m.prototype.position=function(g,d){return[this.domNode,g]},m.prototype.split=function(g,d){if(d===void 0&&(d=!1),!d){if(g===0)return this;if(g===this.length())return this.next}var y=u.create(this.domNode.splitText(g));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},m.prototype.update=function(g,d){var y=this;g.some(function(_){return _.type==="characterData"&&_.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},m.prototype.value=function(){return this.text},m.blotName="text",m.scope=u.Scope.INLINE_BLOT,m}(l.default);r.default=f},function(t,r,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,f){return arguments.length>1&&!this.contains(u)==!f?f:l.call(this,u)}}String.prototype.startsWith||(String.prototype.startsWith=function(u,f){return f=f||0,this.substr(f,u.length)===u}),String.prototype.endsWith||(String.prototype.endsWith=function(u,f){var h=this.toString();(typeof f!="number"||!isFinite(f)||Math.floor(f)!==f||f>h.length)&&(f=h.length),f-=u.length;var m=h.indexOf(u,f);return m!==-1&&m===f}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(f){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof f!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),m=h.length>>>0,g=arguments[1],d,y=0;y<m;y++)if(d=h[y],f.call(g,d,y,h))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var i=-1,a=1,l=0;function u(x,O,U){if(x==O)return x?[[l,x]]:[];(U<0||x.length<U)&&(U=null);var R=g(x,O),I=x.substring(0,R);x=x.substring(R),O=O.substring(R),R=d(x,O);var M=x.substring(x.length-R);x=x.substring(0,x.length-R),O=O.substring(0,O.length-R);var C=f(x,O);return I&&C.unshift([l,I]),M&&C.push([l,M]),_(C),U!=null&&(C=E(C,U)),C=b(C),C}function f(x,O){var U;if(!x)return[[a,O]];if(!O)return[[i,x]];var R=x.length>O.length?x:O,I=x.length>O.length?O:x,M=R.indexOf(I);if(M!=-1)return U=[[a,R.substring(0,M)],[l,I],[a,R.substring(M+I.length)]],x.length>O.length&&(U[0][0]=U[2][0]=i),U;if(I.length==1)return[[i,x],[a,O]];var C=y(x,O);if(C){var k=C[0],L=C[1],D=C[2],$=C[3],G=C[4],ie=u(k,D),ee=u(L,$);return ie.concat([[l,G]],ee)}return h(x,O)}function h(x,O){for(var U=x.length,R=O.length,I=Math.ceil((U+R)/2),M=I,C=2*I,k=new Array(C),L=new Array(C),D=0;D<C;D++)k[D]=-1,L[D]=-1;k[M+1]=0,L[M+1]=0;for(var $=U-R,G=$%2!=0,ie=0,ee=0,re=0,Y=0,W=0;W<I;W++){for(var V=-W+ie;V<=W-ee;V+=2){var q=M+V,K;V==-W||V!=W&&k[q-1]<k[q+1]?K=k[q+1]:K=k[q-1]+1;for(var te=K-V;K<U&&te<R&&x.charAt(K)==O.charAt(te);)K++,te++;if(k[q]=K,K>U)ee+=2;else if(te>R)ie+=2;else if(G){var J=M+$-V;if(J>=0&&J<C&&L[J]!=-1){var H=U-L[J];if(K>=H)return m(x,O,K,te)}}}for(var X=-W+re;X<=W-Y;X+=2){var J=M+X,H;X==-W||X!=W&&L[J-1]<L[J+1]?H=L[J+1]:H=L[J-1]+1;for(var oe=H-X;H<U&&oe<R&&x.charAt(U-H-1)==O.charAt(R-oe-1);)H++,oe++;if(L[J]=H,H>U)Y+=2;else if(oe>R)re+=2;else if(!G){var q=M+$-X;if(q>=0&&q<C&&k[q]!=-1){var K=k[q],te=M+K-q;if(H=U-H,K>=H)return m(x,O,K,te)}}}}return[[i,x],[a,O]]}function m(x,O,U,R){var I=x.substring(0,U),M=O.substring(0,R),C=x.substring(U),k=O.substring(R),L=u(I,M),D=u(C,k);return L.concat(D)}function g(x,O){if(!x||!O||x.charAt(0)!=O.charAt(0))return 0;for(var U=0,R=Math.min(x.length,O.length),I=R,M=0;U<I;)x.substring(M,I)==O.substring(M,I)?(U=I,M=U):R=I,I=Math.floor((R-U)/2+U);return I}function d(x,O){if(!x||!O||x.charAt(x.length-1)!=O.charAt(O.length-1))return 0;for(var U=0,R=Math.min(x.length,O.length),I=R,M=0;U<I;)x.substring(x.length-I,x.length-M)==O.substring(O.length-I,O.length-M)?(U=I,M=U):R=I,I=Math.floor((R-U)/2+U);return I}function y(x,O){var U=x.length>O.length?x:O,R=x.length>O.length?O:x;if(U.length<4||R.length*2<U.length)return null;function I(ee,re,Y){for(var W=ee.substring(Y,Y+Math.floor(ee.length/4)),V=-1,q="",K,te,J,H;(V=re.indexOf(W,V+1))!=-1;){var X=g(ee.substring(Y),re.substring(V)),oe=d(ee.substring(0,Y),re.substring(0,V));q.length<oe+X&&(q=re.substring(V-oe,V)+re.substring(V,V+X),K=ee.substring(0,Y-oe),te=ee.substring(Y+X),J=re.substring(0,V-oe),H=re.substring(V+X))}return q.length*2>=ee.length?[K,te,J,H,q]:null}var M=I(U,R,Math.ceil(U.length/4)),C=I(U,R,Math.ceil(U.length/2)),k;if(!M&&!C)return null;C?M?k=M[4].length>C[4].length?M:C:k=C:k=M;var L,D,$,G;x.length>O.length?(L=k[0],D=k[1],$=k[2],G=k[3]):($=k[0],G=k[1],L=k[2],D=k[3]);var ie=k[4];return[L,D,$,G,ie]}function _(x){x.push([l,""]);for(var O=0,U=0,R=0,I="",M="",C;O<x.length;)switch(x[O][0]){case a:R++,M+=x[O][1],O++;break;case i:U++,I+=x[O][1],O++;break;case l:U+R>1?(U!==0&&R!==0&&(C=g(M,I),C!==0&&(O-U-R>0&&x[O-U-R-1][0]==l?x[O-U-R-1][1]+=M.substring(0,C):(x.splice(0,0,[l,M.substring(0,C)]),O++),M=M.substring(C),I=I.substring(C)),C=d(M,I),C!==0&&(x[O][1]=M.substring(M.length-C)+x[O][1],M=M.substring(0,M.length-C),I=I.substring(0,I.length-C))),U===0?x.splice(O-R,U+R,[a,M]):R===0?x.splice(O-U,U+R,[i,I]):x.splice(O-U-R,U+R,[i,I],[a,M]),O=O-U-R+(U?1:0)+(R?1:0)+1):O!==0&&x[O-1][0]==l?(x[O-1][1]+=x[O][1],x.splice(O,1)):O++,R=0,U=0,I="",M="";break}x[x.length-1][1]===""&&x.pop();var k=!1;for(O=1;O<x.length-1;)x[O-1][0]==l&&x[O+1][0]==l&&(x[O][1].substring(x[O][1].length-x[O-1][1].length)==x[O-1][1]?(x[O][1]=x[O-1][1]+x[O][1].substring(0,x[O][1].length-x[O-1][1].length),x[O+1][1]=x[O-1][1]+x[O+1][1],x.splice(O-1,1),k=!0):x[O][1].substring(0,x[O+1][1].length)==x[O+1][1]&&(x[O-1][1]+=x[O+1][1],x[O][1]=x[O][1].substring(x[O+1][1].length)+x[O+1][1],x.splice(O+1,1),k=!0)),O++;k&&_(x)}var w=u;w.INSERT=a,w.DELETE=i,w.EQUAL=l,t.exports=w;function T(x,O){if(O===0)return[l,x];for(var U=0,R=0;R<x.length;R++){var I=x[R];if(I[0]===i||I[0]===l){var M=U+I[1].length;if(O===M)return[R+1,x];if(O<M){x=x.slice();var C=O-U,k=[I[0],I[1].slice(0,C)],L=[I[0],I[1].slice(C)];return x.splice(R,1,k,L),[R+1,x]}else U=M}}throw new Error("cursor_pos is out of bounds!")}function E(x,O){var U=T(x,O),R=U[1],I=U[0],M=R[I],C=R[I+1];if(M==null)return x;if(M[0]!==l)return x;if(C!=null&&M[1]+C[1]===C[1]+M[1])return R.splice(I,2,C,M),S(R,I,2);if(C!=null&&C[1].indexOf(M[1])===0){R.splice(I,2,[C[0],M[1]],[0,M[1]]);var k=C[1].slice(M[1].length);return k.length>0&&R.splice(I+2,0,[C[0],k]),S(R,I,3)}else return x}function b(x){for(var O=!1,U=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},R=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},I=2;I<x.length;I+=1)x[I-2][0]===l&&R(x[I-2][1])&&x[I-1][0]===i&&U(x[I-1][1])&&x[I][0]===a&&U(x[I][1])&&(O=!0,x[I-1][1]=x[I-2][1].slice(-1)+x[I-1][1],x[I][1]=x[I-2][1].slice(-1)+x[I][1],x[I-2][1]=x[I-2][1].slice(0,-1));if(!O)return x;for(var M=[],I=0;I<x.length;I+=1)x[I][1].length>0&&M.push(x[I]);return M}function S(x,O,U){for(var R=O+U-1;R>=0&&R>=O-1;R--)if(R+1<x.length){var I=x[R],M=x[R+1];I[0]===M[1]&&x.splice(R,2,[I[0],I[1]+M[1]])}return x}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(a){var l=[];for(var u in a)l.push(u);return l}},function(t,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=i?a:l,r.supported=a;function a(u){return Object.prototype.toString.call(u)=="[object Arguments]"}r.unsupported=l;function l(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Object.prototype.hasOwnProperty.call(u,"callee")&&!Object.prototype.propertyIsEnumerable.call(u,"callee")||!1}},function(t,r){var i=Object.prototype.hasOwnProperty,a="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1));function u(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function f(){this._events=new l,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,d;if(this._eventsCount===0)return m;for(d in g=this._events)i.call(g,d)&&m.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m,g){var d=a?a+m:m,y=this._events[d];if(g)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var _=0,w=y.length,T=new Array(w);_<w;_++)T[_]=y[_].fn;return T},f.prototype.emit=function(m,g,d,y,_,w){var T=a?a+m:m;if(!this._events[T])return!1;var E=this._events[T],b=arguments.length,S,x;if(E.fn){switch(E.once&&this.removeListener(m,E.fn,void 0,!0),b){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,d),!0;case 4:return E.fn.call(E.context,g,d,y),!0;case 5:return E.fn.call(E.context,g,d,y,_),!0;case 6:return E.fn.call(E.context,g,d,y,_,w),!0}for(x=1,S=new Array(b-1);x<b;x++)S[x-1]=arguments[x];E.fn.apply(E.context,S)}else{var O=E.length,U;for(x=0;x<O;x++)switch(E[x].once&&this.removeListener(m,E[x].fn,void 0,!0),b){case 1:E[x].fn.call(E[x].context);break;case 2:E[x].fn.call(E[x].context,g);break;case 3:E[x].fn.call(E[x].context,g,d);break;case 4:E[x].fn.call(E[x].context,g,d,y);break;default:if(!S)for(U=1,S=new Array(b-1);U<b;U++)S[U-1]=arguments[U];E[x].fn.apply(E[x].context,S)}}return!0},f.prototype.on=function(m,g,d){var y=new u(g,d||this),_=a?a+m:m;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],y]:this._events[_].push(y):(this._events[_]=y,this._eventsCount++),this},f.prototype.once=function(m,g,d){var y=new u(g,d||this,!0),_=a?a+m:m;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],y]:this._events[_].push(y):(this._events[_]=y,this._eventsCount++),this},f.prototype.removeListener=function(m,g,d,y){var _=a?a+m:m;if(!this._events[_])return this;if(!g)return--this._eventsCount===0?this._events=new l:delete this._events[_],this;var w=this._events[_];if(w.fn)w.fn===g&&(!y||w.once)&&(!d||w.context===d)&&(--this._eventsCount===0?this._events=new l:delete this._events[_]);else{for(var T=0,E=[],b=w.length;T<b;T++)(w[T].fn!==g||y&&!w[T].once||d&&w[T].context!==d)&&E.push(w[T]);E.length?this._events[_]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new l:delete this._events[_]}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=a?a+m:m,this._events[g]&&(--this._eventsCount===0?this._events=new l:delete this._events[g])):(this._events=new l,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prototype.setMaxListeners=function(){return this},f.prefixed=a,f.EventEmitter=f,typeof t<"u"&&(t.exports=f)},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},l=function(){function de(me,be){var Ae=[],ve=!0,ze=!1,He=void 0;try{for(var Ge=me[Symbol.iterator](),st;!(ve=(st=Ge.next()).done)&&(Ae.push(st.value),!(be&&Ae.length===be));ve=!0);}catch(lt){ze=!0,He=lt}finally{try{!ve&&Ge.return&&Ge.return()}finally{if(ze)throw He}}return Ae}return function(me,be){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return de(me,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function de(me,be){for(var Ae=0;Ae<be.length;Ae++){var ve=be[Ae];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(me,ve.key,ve)}}return function(me,be,Ae){return be&&de(me.prototype,be),Ae&&de(me,Ae),me}}(),f=i(3),h=L(f),m=i(2),g=L(m),d=i(0),y=L(d),_=i(5),w=L(_),T=i(10),E=L(T),b=i(9),S=L(b),x=i(36),O=i(37),U=i(13),R=L(U),I=i(26),M=i(38),C=i(39),k=i(40);function L(de){return de&&de.__esModule?de:{default:de}}function D(de,me,be){return me in de?Object.defineProperty(de,me,{value:be,enumerable:!0,configurable:!0,writable:!0}):de[me]=be,de}function $(de,me){if(!(de instanceof me))throw new TypeError("Cannot call a class as a function")}function G(de,me){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:de}function ie(de,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);de.prototype=Object.create(me&&me.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(de,me):de.__proto__=me)}var ee=(0,E.default)("quill:clipboard"),re="__ql-matcher",Y=[[Node.TEXT_NODE,mt],[Node.TEXT_NODE,Ke],["br",Se],[Node.ELEMENT_NODE,Ke],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Xe],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,Lt],["li",Ve],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",Le]],W=[x.AlignAttribute,M.DirectionAttribute].reduce(function(de,me){return de[me.keyName]=me,de},{}),V=[x.AlignStyle,O.BackgroundStyle,I.ColorStyle,M.DirectionStyle,C.FontStyle,k.SizeStyle].reduce(function(de,me){return de[me.keyName]=me,de},{}),q=function(de){ie(me,de);function me(be,Ae){$(this,me);var ve=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,be,Ae));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],Y.concat(ve.options.matchers).forEach(function(ze){var He=l(ze,2),Ge=He[0],st=He[1];!Ae.matchVisual&&st===Xe||ve.addMatcher(Ge,st)}),ve}return u(me,[{key:"addMatcher",value:function(Ae,ve){this.matchers.push([Ae,ve])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[R.default.blotName]){var ze=this.container.innerText;return this.container.innerHTML="",new g.default().insert(ze,D({},R.default.blotName,ve[R.default.blotName]))}var He=this.prepareMatching(),Ge=l(He,2),st=Ge[0],lt=Ge[1],rt=X(this.container,st,lt);return J(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new g.default().retain(rt.length()-1).delete(1))),ee.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Ae,ve){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ve),this.quill.setSelection(0,w.default.sources.SILENT);else{var He=this.convert(ve);this.quill.updateContents(new g.default().retain(Ae).concat(He),ze),this.quill.setSelection(Ae+He.length(),w.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ve=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var ze=this.quill.getSelection(),He=new g.default().retain(ze.index),Ge=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(w.default.sources.SILENT),setTimeout(function(){He=He.concat(ve.convert()).delete(ze.length),ve.quill.updateContents(He,w.default.sources.USER),ve.quill.setSelection(He.length()-ze.length,w.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=Ge,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ve=[],ze=[];return this.matchers.forEach(function(He){var Ge=l(He,2),st=Ge[0],lt=Ge[1];switch(st){case Node.TEXT_NODE:ze.push(lt);break;case Node.ELEMENT_NODE:ve.push(lt);break;default:[].forEach.call(Ae.container.querySelectorAll(st),function(rt){rt[re]=rt[re]||[],rt[re].push(lt)});break}}),[ve,ze]}}]),me}(S.default);q.DEFAULTS={matchers:[],matchVisual:!0};function K(de,me,be){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ae,ve){return K(Ae,ve,me[ve])},de):de.reduce(function(Ae,ve){return ve.attributes&&ve.attributes[me]?Ae.push(ve):Ae.insert(ve.insert,(0,h.default)({},D({},me,be),ve.attributes))},new g.default)}function te(de){if(de.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return de[me]||(de[me]=window.getComputedStyle(de))}function J(de,me){for(var be="",Ae=de.ops.length-1;Ae>=0&&be.length<me.length;--Ae){var ve=de.ops[Ae];if(typeof ve.insert!="string")break;be=ve.insert+be}return be.slice(-1*me.length)===me}function H(de){if(de.childNodes.length===0)return!1;var me=te(de);return["block","list-item"].indexOf(me.display)>-1}function X(de,me,be){return de.nodeType===de.TEXT_NODE?be.reduce(function(Ae,ve){return ve(de,Ae)},new g.default):de.nodeType===de.ELEMENT_NODE?[].reduce.call(de.childNodes||[],function(Ae,ve){var ze=X(ve,me,be);return ve.nodeType===de.ELEMENT_NODE&&(ze=me.reduce(function(He,Ge){return Ge(ve,He)},ze),ze=(ve[re]||[]).reduce(function(He,Ge){return Ge(ve,He)},ze)),Ae.concat(ze)},new g.default):new g.default}function oe(de,me,be){return K(be,de,!0)}function ae(de,me){var be=y.default.Attributor.Attribute.keys(de),Ae=y.default.Attributor.Class.keys(de),ve=y.default.Attributor.Style.keys(de),ze={};return be.concat(Ae).concat(ve).forEach(function(He){var Ge=y.default.query(He,y.default.Scope.ATTRIBUTE);Ge!=null&&(ze[Ge.attrName]=Ge.value(de),ze[Ge.attrName])||(Ge=W[He],Ge!=null&&(Ge.attrName===He||Ge.keyName===He)&&(ze[Ge.attrName]=Ge.value(de)||void 0),Ge=V[He],Ge!=null&&(Ge.attrName===He||Ge.keyName===He)&&(Ge=V[He],ze[Ge.attrName]=Ge.value(de)||void 0))}),Object.keys(ze).length>0&&(me=K(me,ze)),me}function pe(de,me){var be=y.default.query(de);if(be==null)return me;if(be.prototype instanceof y.default.Embed){var Ae={},ve=be.value(de);ve!=null&&(Ae[be.blotName]=ve,me=new g.default().insert(Ae,be.formats(de)))}else typeof be.formats=="function"&&(me=K(me,be.blotName,be.formats(de)));return me}function Se(de,me){return J(me,`
`)||me.insert(`
`),me}function Le(){return new g.default}function Ve(de,me){var be=y.default.query(de);if(be==null||be.blotName!=="list-item"||!J(me,`
`))return me;for(var Ae=-1,ve=de.parentNode;!ve.classList.contains("ql-clipboard");)(y.default.query(ve)||{}).blotName==="list"&&(Ae+=1),ve=ve.parentNode;return Ae<=0?me:me.compose(new g.default().retain(me.length()-1).retain(1,{indent:Ae}))}function Ke(de,me){return J(me,`
`)||(H(de)||me.length()>0&&de.nextSibling&&H(de.nextSibling))&&me.insert(`
`),me}function Xe(de,me){if(H(de)&&de.nextElementSibling!=null&&!J(me,`

`)){var be=de.offsetHeight+parseFloat(te(de).marginTop)+parseFloat(te(de).marginBottom);de.nextElementSibling.offsetTop>de.offsetTop+be*1.5&&me.insert(`
`)}return me}function Lt(de,me){var be={},Ae=de.style||{};return Ae.fontStyle&&te(de).fontStyle==="italic"&&(be.italic=!0),Ae.fontWeight&&(te(de).fontWeight.startsWith("bold")||parseInt(te(de).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(me=K(me,be)),parseFloat(Ae.textIndent||0)>0&&(me=new g.default().insert("	").concat(me)),me}function mt(de,me){var be=de.data;if(de.parentNode.tagName==="O:P")return me.insert(be.trim());if(be.trim().length===0&&de.parentNode.classList.contains("ql-clipboard"))return me;if(!te(de.parentNode).whiteSpace.startsWith("pre")){var Ae=function(ze,He){return He=He.replace(/[^\u00a0]/g,""),He.length<1&&ze?" ":He};be=be.replace(/\r\n/g," ").replace(/\n/g," "),be=be.replace(/\s\s+/g,Ae.bind(Ae,!0)),(de.previousSibling==null&&H(de.parentNode)||de.previousSibling!=null&&H(de.previousSibling))&&(be=be.replace(/^\s+/,Ae.bind(Ae,!1))),(de.nextSibling==null&&H(de.parentNode)||de.nextSibling!=null&&H(de.nextSibling))&&(be=be.replace(/\s+$/,Ae.bind(Ae,!1)))}return me.insert(be)}r.default=q,r.matchAttributor=ae,r.matchBlot=pe,r.matchNewline=Ke,r.matchSpacing=Xe,r.matchText=mt},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,T){for(var E=0;E<T.length;E++){var b=T[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,E){return T&&_(w.prototype,T),E&&_(w,E),w}}(),l=function _(w,T,E){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:_(S,T,E)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(E)}},u=i(6),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function m(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var y=function(_){d(w,_);function w(){return m(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"optimize",value:function(E){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),w}(f.default);y.blotName="bold",y.tagName=["STRONG","B"],r.default=y},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function k(L,D){var $=[],G=!0,ie=!1,ee=void 0;try{for(var re=L[Symbol.iterator](),Y;!(G=(Y=re.next()).done)&&($.push(Y.value),!(D&&$.length===D));G=!0);}catch(W){ie=!0,ee=W}finally{try{!G&&re.return&&re.return()}finally{if(ie)throw ee}}return $}return function(L,D){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return k(L,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function k(L,D){for(var $=0;$<D.length;$++){var G=D[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,D,$){return D&&k(L.prototype,D),$&&k(L,$),L}}(),u=i(2),f=E(u),h=i(0),m=E(h),g=i(5),d=E(g),y=i(10),_=E(y),w=i(9),T=E(w);function E(k){return k&&k.__esModule?k:{default:k}}function b(k,L,D){return L in k?Object.defineProperty(k,L,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[L]=D,k}function S(k,L){if(!(k instanceof L))throw new TypeError("Cannot call a class as a function")}function x(k,L){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:k}function O(k,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);k.prototype=Object.create(L&&L.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(k,L):k.__proto__=L)}var U=(0,_.default)("quill:toolbar"),R=function(k){O(L,k);function L(D,$){S(this,L);var G=x(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,D,$));if(Array.isArray(G.options.container)){var ie=document.createElement("div");M(ie,G.options.container),D.container.parentNode.insertBefore(ie,D.container),G.container=ie}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var ee;return ee=U.error("Container required for toolbar",G.options),x(G,ee)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(re){G.addHandler(re,G.options.handlers[re])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(re){G.attach(re)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(re,Y){re===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var re=G.quill.selection.getRange(),Y=a(re,1),W=Y[0];G.update(W)}),G}return l(L,[{key:"addHandler",value:function($,G){this.handlers[$]=G}},{key:"attach",value:function($){var G=this,ie=[].find.call($.classList,function(re){return re.indexOf("ql-")===0});if(ie){if(ie=ie.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[ie]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ie]==null){U.warn("ignoring attaching to disabled format",ie,$);return}if(m.default.query(ie)==null){U.warn("ignoring attaching to nonexistent format",ie,$);return}}var ee=$.tagName==="SELECT"?"change":"click";$.addEventListener(ee,function(re){var Y=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var W=$.options[$.selectedIndex];W.hasAttribute("selected")?Y=!1:Y=W.value||!1}else $.classList.contains("ql-active")?Y=!1:Y=$.value||!$.hasAttribute("value"),re.preventDefault();G.quill.focus();var V=G.quill.selection.getRange(),q=a(V,1),K=q[0];if(G.handlers[ie]!=null)G.handlers[ie].call(G,Y);else if(m.default.query(ie).prototype instanceof m.default.Embed){if(Y=prompt("Enter "+ie),!Y)return;G.quill.updateContents(new f.default().retain(K.index).delete(K.length).insert(b({},ie,Y)),d.default.sources.USER)}else G.quill.format(ie,Y,d.default.sources.USER);G.update(K)}),this.controls.push([ie,$])}}},{key:"update",value:function($){var G=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(ie){var ee=a(ie,2),re=ee[0],Y=ee[1];if(Y.tagName==="SELECT"){var W=void 0;if($==null)W=null;else if(G[re]==null)W=Y.querySelector("option[selected]");else if(!Array.isArray(G[re])){var V=G[re];typeof V=="string"&&(V=V.replace(/\"/g,'\\"')),W=Y.querySelector('option[value="'+V+'"]')}W==null?(Y.value="",Y.selectedIndex=-1):W.selected=!0}else if($==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var q=G[re]===Y.getAttribute("value")||G[re]!=null&&G[re].toString()===Y.getAttribute("value")||G[re]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",q)}else Y.classList.toggle("ql-active",G[re]!=null)})}}]),L}(T.default);R.DEFAULTS={};function I(k,L,D){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+L),D!=null&&($.value=D),k.appendChild($)}function M(k,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(D){var $=document.createElement("span");$.classList.add("ql-formats"),D.forEach(function(G){if(typeof G=="string")I($,G);else{var ie=Object.keys(G)[0],ee=G[ie];Array.isArray(ee)?C($,ie,ee):I($,ie,ee)}}),k.appendChild($)})}function C(k,L,D){var $=document.createElement("select");$.classList.add("ql-"+L),D.forEach(function(G){var ie=document.createElement("option");G!==!1?ie.setAttribute("value",G):ie.setAttribute("selected","selected"),$.appendChild(ie)}),k.appendChild($)}R.DEFAULTS={container:null,handlers:{clean:function(){var L=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(G){m.default.query(G,m.default.Scope.INLINE)!=null&&L.quill.format(G,!1)})}else this.quill.removeFormat(D,d.default.sources.USER)},direction:function(L){var D=this.quill.getFormat().align;L==="rtl"&&D==null?this.quill.format("align","right",d.default.sources.USER):!L&&D==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",L,d.default.sources.USER)},indent:function(L){var D=this.quill.getSelection(),$=this.quill.getFormat(D),G=parseInt($.indent||0);if(L==="+1"||L==="-1"){var ie=L==="+1"?1:-1;$.direction==="rtl"&&(ie*=-1),this.quill.format("indent",G+ie,d.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,d.default.sources.USER)},list:function(L){var D=this.quill.getSelection(),$=this.quill.getFormat(D);L==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",L,d.default.sources.USER)}}},r.default=R,r.addControls=M},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,T){for(var E=0;E<T.length;E++){var b=T[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,E){return T&&_(w.prototype,T),E&&_(w,E),w}}(),l=function _(w,T,E){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:_(S,T,E)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(E)}},u=i(28),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function m(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var y=function(_){d(w,_);function w(T,E){m(this,w);var b=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T));return b.label.innerHTML=E,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(S){S.classList.add("ql-primary")}),b}return a(w,[{key:"buildItem",value:function(E){var b=l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"buildItem",this).call(this,E);return b.style.backgroundColor=E.getAttribute("value")||"",b}},{key:"selectItem",value:function(E,b){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,E,b);var S=this.label.querySelector(".ql-color-label"),x=E&&E.getAttribute("data-value")||"";S&&(S.tagName==="line"?S.style.stroke=x:S.style.fill=x)}}]),w}(f.default);r.default=y},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,T){for(var E=0;E<T.length;E++){var b=T[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,E){return T&&_(w.prototype,T),E&&_(w,E),w}}(),l=function _(w,T,E){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:_(S,T,E)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(E)}},u=i(28),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function m(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var y=function(_){d(w,_);function w(T,E){m(this,w);var b=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(S){S.innerHTML=E[S.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return a(w,[{key:"selectItem",value:function(E,b){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,E,b),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),w}(f.default);r.default=y},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,m){for(var g=0;g<m.length;g++){var d=m[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,m,g){return m&&f(h.prototype,m),g&&f(h,g),h}}();function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function(){function f(h,m){var g=this;l(this,f),this.quill=h,this.boundsContainer=m||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(f,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(m){var g=m.left+m.width/2-this.root.offsetWidth/2,d=m.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),w=0;if(_.right>y.right&&(w=y.right-_.right,this.root.style.left=g+w+"px"),_.left<y.left&&(w=y.left-_.left,this.root.style.left=g+w+"px"),_.bottom>y.bottom){var T=_.bottom-_.top,E=m.bottom-m.top+T;this.root.style.top=d-E+"px",this.root.classList.add("ql-flip")}return w}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),f}();r.default=u},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function C(k,L){var D=[],$=!0,G=!1,ie=void 0;try{for(var ee=k[Symbol.iterator](),re;!($=(re=ee.next()).done)&&(D.push(re.value),!(L&&D.length===L));$=!0);}catch(Y){G=!0,ie=Y}finally{try{!$&&ee.return&&ee.return()}finally{if(G)throw ie}}return D}return function(k,L){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function C(k,L,D){k===null&&(k=Function.prototype);var $=Object.getOwnPropertyDescriptor(k,L);if($===void 0){var G=Object.getPrototypeOf(k);return G===null?void 0:C(G,L,D)}else{if("value"in $)return $.value;var ie=$.get;return ie===void 0?void 0:ie.call(D)}},u=function(){function C(k,L){for(var D=0;D<L.length;D++){var $=L[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(k,$.key,$)}}return function(k,L,D){return L&&C(k.prototype,L),D&&C(k,D),k}}(),f=i(3),h=S(f),m=i(8),g=S(m),d=i(43),y=S(d),_=i(27),w=S(_),T=i(15),E=i(41),b=S(E);function S(C){return C&&C.__esModule?C:{default:C}}function x(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function O(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:C}function U(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(C,k):C.__proto__=k)}var R=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(C){U(k,C);function k(L,D){x(this,k),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=R);var $=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,L,D));return $.quill.container.classList.add("ql-snow"),$}return u(k,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),b.default),this.tooltip=new M(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,G){D.handlers.link.call(D,!G.format.link)})}}]),k}(y.default);I.DEFAULTS=(0,h.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var L=this.quill.getSelection();if(L==null||L.length==0)return;var D=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D);var $=this.quill.theme.tooltip;$.edit("link",D)}else this.quill.format("link",!1)}}}}});var M=function(C){U(k,C);function k(L,D){x(this,k);var $=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,L,D));return $.preview=$.root.querySelector("a.ql-preview"),$}return u(k,[{key:"listen",value:function(){var D=this;l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(D.linkRange!=null){var G=D.linkRange;D.restoreFocus(),D.quill.formatText(G,"link",!1,g.default.sources.USER),delete D.linkRange}$.preventDefault(),D.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function($,G,ie){if($!=null){if($.length===0&&ie===g.default.sources.USER){var ee=D.quill.scroll.descendant(w.default,$.index),re=a(ee,2),Y=re[0],W=re[1];if(Y!=null){D.linkRange=new T.Range($.index-W,Y.length());var V=w.default.formats(Y.domNode);D.preview.textContent=V,D.preview.setAttribute("href",V),D.show(),D.position(D.quill.getBounds(D.linkRange));return}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(29),l=ve(a),u=i(36),f=i(38),h=i(64),m=i(65),g=ve(m),d=i(66),y=ve(d),_=i(67),w=ve(_),T=i(37),E=i(26),b=i(39),S=i(40),x=i(56),O=ve(x),U=i(68),R=ve(U),I=i(27),M=ve(I),C=i(69),k=ve(C),L=i(70),D=ve(L),$=i(71),G=ve($),ie=i(72),ee=ve(ie),re=i(73),Y=ve(re),W=i(13),V=ve(W),q=i(74),K=ve(q),te=i(75),J=ve(te),H=i(57),X=ve(H),oe=i(41),ae=ve(oe),pe=i(28),Se=ve(pe),Le=i(59),Ve=ve(Le),Ke=i(60),Xe=ve(Ke),Lt=i(61),mt=ve(Lt),de=i(108),me=ve(de),be=i(62),Ae=ve(be);function ve(ze){return ze&&ze.__esModule?ze:{default:ze}}l.default.register({"attributors/attribute/direction":f.DirectionAttribute,"attributors/class/align":u.AlignClass,"attributors/class/background":T.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":f.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":S.SizeClass,"attributors/style/align":u.AlignStyle,"attributors/style/background":T.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":f.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":S.SizeStyle},!0),l.default.register({"formats/align":u.AlignClass,"formats/direction":f.DirectionClass,"formats/indent":h.IndentClass,"formats/background":T.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":b.FontClass,"formats/size":S.SizeClass,"formats/blockquote":g.default,"formats/code-block":V.default,"formats/header":y.default,"formats/list":w.default,"formats/bold":O.default,"formats/code":W.Code,"formats/italic":R.default,"formats/link":M.default,"formats/script":k.default,"formats/strike":D.default,"formats/underline":G.default,"formats/image":ee.default,"formats/video":Y.default,"formats/list/item":_.ListItem,"modules/formula":K.default,"modules/syntax":J.default,"modules/toolbar":X.default,"themes/bubble":me.default,"themes/snow":Ae.default,"ui/icons":ae.default,"ui/picker":Se.default,"ui/icon-picker":Xe.default,"ui/color-picker":Ve.default,"ui/tooltip":mt.default},!0),r.default=l.default},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function w(T,E){for(var b=0;b<E.length;b++){var S=E[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,E,b){return E&&w(T.prototype,E),b&&w(T,b),T}}(),l=function w(T,E,b){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,E);if(S===void 0){var x=Object.getPrototypeOf(T);return x===null?void 0:w(x,E,b)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(b)}},u=i(0),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(){return m(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"add",value:function(b,S){if(S==="+1"||S==="-1"){var x=this.value(b)||0;S=S==="+1"?x+1:x-1}return S===0?(this.remove(b),!0):l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"add",this).call(this,b,S)}},{key:"canAdd",value:function(b,S){return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"canAdd",this).call(this,b,S)||l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"canAdd",this).call(this,b,parseInt(S))}},{key:"value",value:function(b){return parseInt(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,b))||void 0}}]),T}(f.default.Attributor.Class),_=new y("indent","ql-indent",{scope:f.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=_},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function h(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function m(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){m(y,d);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);g.blotName="blockquote",g.tagName="blockquote",r.default=g},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(_,w){for(var T=0;T<w.length;T++){var E=w[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,T){return w&&y(_.prototype,w),T&&y(_,T),_}}(),l=i(4),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function m(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function g(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var d=function(y){g(_,y);function _(){return h(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,null,[{key:"formats",value:function(T){return this.tagName.indexOf(T.tagName)+1}}]),_}(u.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function x(O,U){for(var R=0;R<U.length;R++){var I=U[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,I.key,I)}}return function(O,U,R){return U&&x(O.prototype,U),R&&x(O,R),O}}(),l=function x(O,U,R){O===null&&(O=Function.prototype);var I=Object.getOwnPropertyDescriptor(O,U);if(I===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:x(M,U,R)}else{if("value"in I)return I.value;var C=I.get;return C===void 0?void 0:C.call(R)}},u=i(0),f=y(u),h=i(4),m=y(h),g=i(25),d=y(g);function y(x){return x&&x.__esModule?x:{default:x}}function _(x,O,U){return O in x?Object.defineProperty(x,O,{value:U,enumerable:!0,configurable:!0,writable:!0}):x[O]=U,x}function w(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}function T(x,O){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:x}function E(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(x,O):x.__proto__=O)}var b=function(x){E(O,x);function O(){return w(this,O),T(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return a(O,[{key:"format",value:function(R,I){R===S.blotName&&!I?this.replaceWith(f.default.create(this.statics.scope)):l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,R,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(R,I){return this.parent.isolate(this.offset(this.parent),this.length()),R===this.parent.statics.blotName?(this.parent.replaceWith(R,I),this):(this.parent.unwrap(),l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,R,I))}}],[{key:"formats",value:function(R){return R.tagName===this.tagName?void 0:l(O.__proto__||Object.getPrototypeOf(O),"formats",this).call(this,R)}}]),O}(m.default);b.blotName="list-item",b.tagName="LI";var S=function(x){E(O,x),a(O,null,[{key:"create",value:function(R){var I=R==="ordered"?"OL":"UL",M=l(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,I);return(R==="checked"||R==="unchecked")&&M.setAttribute("data-checked",R==="checked"),M}},{key:"formats",value:function(R){if(R.tagName==="OL")return"ordered";if(R.tagName==="UL")return R.hasAttribute("data-checked")?R.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function O(U){w(this,O);var R=T(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,U)),I=function(C){if(C.target.parentNode===U){var k=R.statics.formats(U),L=f.default.find(C.target);k==="checked"?L.format("list","unchecked"):k==="unchecked"&&L.format("list","checked")}};return U.addEventListener("touchstart",I),U.addEventListener("mousedown",I),R}return a(O,[{key:"format",value:function(R,I){this.children.length>0&&this.children.tail.format(R,I)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(R,I){if(R instanceof b)l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,R,I);else{var M=I==null?this.length():I.offset(this),C=this.split(M);C.parent.insertBefore(R,C)}}},{key:"optimize",value:function(R){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,R);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(R){if(R.statics.blotName!==this.statics.blotName){var I=f.default.create(this.statics.defaultChild);R.moveChildren(I),this.appendChild(I)}l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,R)}}]),O}(d.default);S.blotName="list",S.scope=f.default.Scope.BLOCK_BLOT,S.tagName=["OL","UL"],S.defaultChild="list-item",S.allowedChildren=[b],r.ListItem=b,r.default=S},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(56),l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function h(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function m(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){m(y,d);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);g.blotName="italic",g.tagName=["EM","I"],r.default=g},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,T){for(var E=0;E<T.length;E++){var b=T[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,E){return T&&_(w.prototype,T),E&&_(w,E),w}}(),l=function _(w,T,E){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:_(S,T,E)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(E)}},u=i(6),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function m(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var y=function(_){d(w,_);function w(){return m(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),w}(f.default);y.blotName="script",y.tagName=["SUB","SUP"],r.default=y},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function h(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function m(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){m(y,d);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);g.blotName="strike",g.tagName="S",r.default=g},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function h(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function m(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){m(y,d);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);g.blotName="underline",g.tagName="U",r.default=g},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(E,b){for(var S=0;S<b.length;S++){var x=b[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,b,S){return b&&T(E.prototype,b),S&&T(E,S),E}}(),l=function T(E,b,S){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,b);if(x===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:T(O,b,S)}else{if("value"in x)return x.value;var U=x.get;return U===void 0?void 0:U.call(S)}},u=i(0),f=m(u),h=i(27);function m(T){return T&&T.__esModule?T:{default:T}}function g(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function d(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function y(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var _=["alt","height","width"],w=function(T){y(E,T);function E(){return g(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(S,x){_.indexOf(S)>-1?x?this.domNode.setAttribute(S,x):this.domNode.removeAttribute(S):l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,x)}}],[{key:"create",value:function(S){var x=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,S);return typeof S=="string"&&x.setAttribute("src",this.sanitize(S)),x}},{key:"formats",value:function(S){return _.reduce(function(x,O){return S.hasAttribute(O)&&(x[O]=S.getAttribute(O)),x},{})}},{key:"match",value:function(S){return/\.(jpe?g|gif|png)$/.test(S)||/^data:image\/.+;base64/.test(S)}},{key:"sanitize",value:function(S){return(0,h.sanitize)(S,["http","https","data"])?S:"//:0"}},{key:"value",value:function(S){return S.getAttribute("src")}}]),E}(f.default.Embed);w.blotName="image",w.tagName="IMG",r.default=w},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(E,b){for(var S=0;S<b.length;S++){var x=b[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,b,S){return b&&T(E.prototype,b),S&&T(E,S),E}}(),l=function T(E,b,S){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,b);if(x===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:T(O,b,S)}else{if("value"in x)return x.value;var U=x.get;return U===void 0?void 0:U.call(S)}},u=i(4),f=i(27),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function g(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function d(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function y(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var _=["height","width"],w=function(T){y(E,T);function E(){return g(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(S,x){_.indexOf(S)>-1?x?this.domNode.setAttribute(S,x):this.domNode.removeAttribute(S):l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,x)}}],[{key:"create",value:function(S){var x=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,S);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(S)),x}},{key:"formats",value:function(S){return _.reduce(function(x,O){return S.hasAttribute(O)&&(x[O]=S.getAttribute(O)),x},{})}},{key:"sanitize",value:function(S){return h.default.sanitize(S)}},{key:"value",value:function(S){return S.getAttribute("src")}}]),E}(u.BlockEmbed);w.blotName="video",w.className="ql-video",w.tagName="IFRAME",r.default=w},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function S(x,O){for(var U=0;U<O.length;U++){var R=O[U];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(x,R.key,R)}}return function(x,O,U){return O&&S(x.prototype,O),U&&S(x,U),x}}(),l=function S(x,O,U){x===null&&(x=Function.prototype);var R=Object.getOwnPropertyDescriptor(x,O);if(R===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:S(I,O,U)}else{if("value"in R)return R.value;var M=R.get;return M===void 0?void 0:M.call(U)}},u=i(35),f=y(u),h=i(5),m=y(h),g=i(9),d=y(g);function y(S){return S&&S.__esModule?S:{default:S}}function _(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function w(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function T(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}var E=function(S){T(x,S);function x(){return _(this,x),w(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"create",value:function(U){var R=l(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,R,{throwOnError:!1,errorColor:"#f00"}),R.setAttribute("data-value",U)),R}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),x}(f.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var b=function(S){T(x,S),a(x,null,[{key:"register",value:function(){m.default.register(E,!0)}}]);function x(){_(this,x);var O=w(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return O}return x}(d.default);r.FormulaBlot=E,r.default=b},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function U(R,I){for(var M=0;M<I.length;M++){var C=I[M];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,C.key,C)}}return function(R,I,M){return I&&U(R.prototype,I),M&&U(R,M),R}}(),l=function U(R,I,M){R===null&&(R=Function.prototype);var C=Object.getOwnPropertyDescriptor(R,I);if(C===void 0){var k=Object.getPrototypeOf(R);return k===null?void 0:U(k,I,M)}else{if("value"in C)return C.value;var L=C.get;return L===void 0?void 0:L.call(M)}},u=i(0),f=w(u),h=i(5),m=w(h),g=i(9),d=w(g),y=i(13),_=w(y);function w(U){return U&&U.__esModule?U:{default:U}}function T(U,R){if(!(U instanceof R))throw new TypeError("Cannot call a class as a function")}function E(U,R){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:U}function b(U,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);U.prototype=Object.create(R&&R.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(U,R):U.__proto__=R)}var S=function(U){b(R,U);function R(){return T(this,R),E(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return a(R,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),R}(_.default);S.className="ql-syntax";var x=new f.default.Attributor.Class("token","hljs",{scope:f.default.Scope.INLINE}),O=function(U){b(R,U),a(R,null,[{key:"register",value:function(){m.default.register(x,!0),m.default.register(S,!0)}}]);function R(I,M){T(this,R);var C=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,I,M));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return C.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){C.highlight(),k=null},C.options.interval)}),C.highlight(),C}return a(R,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(m.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(S).forEach(function(k){k.highlight(M.options.highlight)}),this.quill.update(m.default.sources.SILENT),C!=null&&this.quill.setSelection(C,m.default.sources.SILENT)}}}]),R}(d.default);O.DEFAULTS={highlight:function(){return window.hljs==null?null:function(U){var R=window.hljs.highlightAuto(U);return R.value}}(),interval:1e3},r.CodeBlock=S,r.CodeToken=x,r.default=O},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function R(I,M,C){I===null&&(I=Function.prototype);var k=Object.getOwnPropertyDescriptor(I,M);if(k===void 0){var L=Object.getPrototypeOf(I);return L===null?void 0:R(L,M,C)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(C)}},l=function(){function R(I,M){for(var C=0;C<M.length;C++){var k=M[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,M,C){return M&&R(I.prototype,M),C&&R(I,C),I}}(),u=i(3),f=T(u),h=i(8),m=T(h),g=i(43),d=T(g),y=i(15),_=i(41),w=T(_);function T(R){return R&&R.__esModule?R:{default:R}}function E(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function b(R,I){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:R}function S(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);R.prototype=Object.create(I&&I.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(R,I):R.__proto__=I)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],O=function(R){S(I,R);function I(M,C){E(this,I),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=x);var k=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,C));return k.quill.container.classList.add("ql-bubble"),k}return l(I,[{key:"extendToolbar",value:function(C){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),w.default)}}]),I}(d.default);O.DEFAULTS=(0,f.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=function(R){S(I,R);function I(M,C){E(this,I);var k=b(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,C));return k.quill.on(m.default.events.EDITOR_CHANGE,function(L,D,$,G){if(L===m.default.events.SELECTION_CHANGE)if(D!=null&&D.length>0&&G===m.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var ie=k.quill.getLines(D.index,D.length);if(ie.length===1)k.position(k.quill.getBounds(D));else{var ee=ie[ie.length-1],re=k.quill.getIndex(ee),Y=Math.min(ee.length()-1,D.index+D.length-re),W=k.quill.getBounds(new y.Range(re,Y));k.position(W)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return l(I,[{key:"listen",value:function(){var C=this;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var k=C.quill.getSelection();k!=null&&C.position(C.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var k=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,C),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",k===0)return k;L.style.marginLeft=-1*k-L.offsetWidth/2+"px"}}]),I}(g.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=U,r.default=O},function(t,r,i){t.exports=i(63)}]).default})}(ff)),ff.exports}var yr,aE;function tN(){if(aE)return yr;aE=1;var n=yr&&yr.__extends||function(){var m=function(g,d){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var w in _)_.hasOwnProperty(w)&&(y[w]=_[w])},m(g,d)};return function(g,d){m(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),e=yr&&yr.__assign||function(){return e=Object.assign||function(m){for(var g,d=1,y=arguments.length;d<y;d++){g=arguments[d];for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])}return m},e.apply(this,arguments)},t=yr&&yr.__spreadArrays||function(){for(var m=0,g=0,d=arguments.length;g<d;g++)m+=arguments[g].length;for(var y=Array(m),_=0,g=0;g<d;g++)for(var w=arguments[g],T=0,E=w.length;T<E;T++,_++)y[_]=w[T];return y},r=yr&&yr.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},i=r(Jf()),a=r(tx()),l=r(ZC()),u=r(eN()),f=function(m){n(g,m);function g(d){var y=m.call(this,d)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(w,T,E,b){var S,x,O,U;w==="text-change"?(x=(S=y).onEditorChangeText)===null||x===void 0||x.call(S,y.editor.root.innerHTML,T,b,y.unprivilegedEditor):w==="selection-change"&&((U=(O=y).onEditorChangeSelection)===null||U===void 0||U.call(O,T,b,y.unprivilegedEditor))};var _=y.isControlled()?d.value:d.defaultValue;return y.value=_??"",y}return g.prototype.validateProps=function(d){var y;if(i.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(d.children)){var _=i.default.Children.only(d.children);if(((y=_)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(d,y){var _=this,w;if(this.validateProps(d),!this.editor||this.state.generation!==y.generation)return!0;if("value"in d){var T=this.getEditorContents(),E=(w=d.value,w??"");this.isEqualValue(E,T)||this.setEditorContents(this.editor,E)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(b){return!l.default(d[b],_.props[b])})},g.prototype.shouldComponentRegenerate=function(d){var y=this;return this.dirtyProps.some(function(_){return!l.default(d[_],y.props[_])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(d,y){var _=this;if(this.editor&&this.shouldComponentRegenerate(d)){var w=this.editor.getContents(),T=this.editor.getSelection();this.regenerationSnapshot={delta:w,selection:T},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var E=this.regenerationSnapshot,w=E.delta,b=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var S=this.editor;S.setContents(w),h(function(){return _.setEditorSelection(S,b)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(d,y){var _=new u.default(d,y);return y.tabIndex!=null&&this.setEditorTabIndex(_,y.tabIndex),this.hookEditor(_),_},g.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(d){return d&&d.ops},g.prototype.isEqualValue=function(d,y){return this.isDelta(d)&&this.isDelta(y)?l.default(d.ops,y.ops):l.default(d,y)},g.prototype.setEditorContents=function(d,y){var _=this;this.value=y;var w=this.getEditorSelection();typeof y=="string"?d.setContents(d.clipboard.convert(y)):d.setContents(y),h(function(){return _.setEditorSelection(d,w)})},g.prototype.setEditorSelection=function(d,y){if(this.selection=y,y){var _=d.getLength();y.index=Math.max(0,Math.min(y.index,_-1)),y.length=Math.max(0,Math.min(y.length,_-1-y.index)),d.setSelection(y)}},g.prototype.setEditorTabIndex=function(d,y){var _,w;!((w=(_=d)===null||_===void 0?void 0:_.scroll)===null||w===void 0)&&w.domNode&&(d.scroll.domNode.tabIndex=y)},g.prototype.setEditorReadOnly=function(d,y){y?d.disable():d.enable()},g.prototype.makeUnprivilegedEditor=function(d){var y=d;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},g.prototype.renderEditingArea=function(){var d=this,y=this.props,_=y.children,w=y.preserveWhitespace,T=this.state.generation,E={key:T,ref:function(b){d.editingArea=b}};return i.default.Children.count(_)?i.default.cloneElement(i.default.Children.only(_),E):w?i.default.createElement("pre",e({},E)):i.default.createElement("div",e({},E))},g.prototype.render=function(){var d;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(d,y,_,w){var T,E;if(this.editor){var b=this.isDelta(this.value)?w.getContents():w.getHTML();b!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=b,(E=(T=this.props).onChange)===null||E===void 0||E.call(T,d,y,_,w))}},g.prototype.onEditorChangeSelection=function(d,y,_){var w,T,E,b,S,x;if(this.editor){var O=this.getEditorSelection(),U=!O&&d,R=O&&!d;l.default(d,O)||(this.selection=d,(T=(w=this.props).onChangeSelection)===null||T===void 0||T.call(w,d,y,_),U?(b=(E=this.props).onFocus)===null||b===void 0||b.call(E,d,y,_):R&&((x=(S=this.props).onBlur)===null||x===void 0||x.call(S,O,y,_)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=u.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(i.default.Component);function h(m){Promise.resolve().then(m)}return yr=f,yr}var nN=tN();const Rx=ex(nN),yy=se.createContext({});function vy(n){const e=se.useRef(null);return e.current===null&&(e.current=n()),e.current}const _y=typeof window<"u",Px=_y?se.useLayoutEffect:se.useEffect,lh=se.createContext(null);function wy(n,e){n.indexOf(e)===-1&&n.push(e)}function Ey(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const pi=(n,e,t)=>t>e?e:t<n?n:t;let Ty=()=>{};const mi={},Cx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Nx(n){return typeof n=="object"&&n!==null}const Ox=n=>/^0[^.\s]+$/u.test(n);function by(n){let e;return()=>(e===void 0&&(e=n()),e)}const er=n=>n,rN=(n,e)=>t=>e(n(t)),vu=(...n)=>n.reduce(rN),Zl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class xy{constructor(){this.subscriptions=[]}add(e){return wy(this.subscriptions,e),()=>Ey(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mr=n=>n*1e3,jr=n=>n/1e3;function Dx(n,e){return e?n*(1e3/e):0}const Lx=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,iN=1e-7,sN=12;function oN(n,e,t,r,i){let a,l,u=0;do l=e+(t-e)/2,a=Lx(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>iN&&++u<sN);return l}function _u(n,e,t,r){if(n===e&&t===r)return er;const i=a=>oN(a,0,1,n,t);return a=>a===0||a===1?a:Lx(i(a),e,r)}const Mx=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,jx=n=>e=>1-n(1-e),Vx=_u(.33,1.53,.69,.99),Ay=jx(Vx),Fx=Mx(Ay),Ux=n=>(n*=2)<1?.5*Ay(n):.5*(2-Math.pow(2,-10*(n-1))),Sy=n=>1-Math.sin(Math.acos(n)),Bx=jx(Sy),qx=Mx(Sy),aN=_u(.42,0,1,1),lN=_u(0,0,.58,1),zx=_u(.42,0,.58,1),uN=n=>Array.isArray(n)&&typeof n[0]!="number",Hx=n=>Array.isArray(n)&&typeof n[0]=="number",cN={linear:er,easeIn:aN,easeInOut:zx,easeOut:lN,circIn:Sy,circInOut:qx,circOut:Bx,backIn:Ay,backInOut:Fx,backOut:Vx,anticipate:Ux},fN=n=>typeof n=="string",lE=n=>{if(Hx(n)){Ty(n.length===4);const[e,t,r,i]=n;return _u(e,t,r,i)}else if(fN(n))return cN[n];return n},Qc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],uE={value:null};function hN(n,e){let t=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function h(g){l.has(g)&&(m.schedule(g),n()),f++,g(u)}const m={schedule:(g,d=!1,y=!1)=>{const w=y&&i?t:r;return d&&l.add(g),w.has(g)||w.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,i){a=!0;return}i=!0,[t,r]=[r,t],t.forEach(h),e&&uE.value&&uE.value.frameloop[e].push(f),f=0,t.clear(),i=!1,a&&(a=!1,m.process(g))}};return m}const dN=40;function $x(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=Qc.reduce((S,x)=>(S[x]=hN(a,e?x:void 0),S),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:m,update:g,preRender:d,render:y,postRender:_}=l,w=()=>{const S=mi.useManualTiming?i.timestamp:performance.now();t=!1,mi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,dN),1)),i.timestamp=S,i.isProcessing=!0,u.process(i),f.process(i),h.process(i),m.process(i),g.process(i),d.process(i),y.process(i),_.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(w))},T=()=>{t=!0,r=!0,i.isProcessing||n(w)};return{schedule:Qc.reduce((S,x)=>{const O=l[x];return S[x]=(U,R=!1,I=!1)=>(t||T(),O.schedule(U,R,I)),S},{}),cancel:S=>{for(let x=0;x<Qc.length;x++)l[Qc[x]].cancel(S)},state:i,steps:l}}const{schedule:At,cancel:ss,state:tn,steps:zm}=$x(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let hf;function pN(){hf=void 0}const Nn={now:()=>(hf===void 0&&Nn.set(tn.isProcessing||mi.useManualTiming?tn.timestamp:performance.now()),hf),set:n=>{hf=n,queueMicrotask(pN)}},Wx=n=>e=>typeof e=="string"&&e.startsWith(n),Iy=Wx("--"),mN=Wx("var(--"),ky=n=>mN(n)?gN.test(n.split("/*")[0].trim()):!1,gN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Jl={...Pa,transform:n=>pi(0,1,n)},Yc={...Pa,default:1},Fl=n=>Math.round(n*1e5)/1e5,Ry=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yN(n){return n==null}const vN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Py=(n,e)=>t=>!!(typeof t=="string"&&vN.test(t)&&t.startsWith(n)||e&&!yN(t)&&Object.prototype.hasOwnProperty.call(t,e)),Kx=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,l,u]=r.match(Ry);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},_N=n=>pi(0,255,n),Hm={...Pa,transform:n=>Math.round(_N(n))},Ys={test:Py("rgb","red"),parse:Kx("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Hm.transform(n)+", "+Hm.transform(e)+", "+Hm.transform(t)+", "+Fl(Jl.transform(r))+")"};function wN(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yg={test:Py("#"),parse:wN,transform:Ys.transform},wu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ki=wu("deg"),Vr=wu("%"),Ue=wu("px"),EN=wu("vh"),TN=wu("vw"),cE={...Vr,parse:n=>Vr.parse(n)/100,transform:n=>Vr.transform(n*100)},aa={test:Py("hsl","hue"),parse:Kx("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Vr.transform(Fl(e))+", "+Vr.transform(Fl(t))+", "+Fl(Jl.transform(r))+")"},Ft={test:n=>Ys.test(n)||yg.test(n)||aa.test(n),parse:n=>Ys.test(n)?Ys.parse(n):aa.test(n)?aa.parse(n):yg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ys.transform(n):aa.transform(n),getAnimatableNone:n=>{const e=Ft.parse(n);return e.alpha=0,Ft.transform(e)}},bN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xN(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Ry))==null?void 0:e.length)||0)+(((t=n.match(bN))==null?void 0:t.length)||0)>0}const Gx="number",Qx="color",AN="var",SN="var(",fE="${}",IN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(IN,f=>(Ft.test(f)?(r.color.push(a),i.push(Qx),t.push(Ft.parse(f))):f.startsWith(SN)?(r.var.push(a),i.push(AN),t.push(f)):(r.number.push(a),i.push(Gx),t.push(parseFloat(f))),++a,fE)).split(fE);return{values:t,split:u,indexes:r,types:i}}function Yx(n){return eu(n).values}function Xx(n){const{split:e,types:t}=eu(n),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const u=t[l];u===Gx?a+=Fl(i[l]):u===Qx?a+=Ft.transform(i[l]):a+=i[l]}return a}}const kN=n=>typeof n=="number"?0:Ft.test(n)?Ft.getAnimatableNone(n):n;function RN(n){const e=Yx(n);return Xx(n)(e.map(kN))}const os={test:xN,parse:Yx,createTransformer:Xx,getAnimatableNone:RN};function $m(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function PN({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;i=$m(f,u,n+1/3),a=$m(f,u,n),l=$m(f,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function If(n,e){return t=>t>0?e:n}const bt=(n,e,t)=>n+(e-n)*t,Wm=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},CN=[yg,Ys,aa],NN=n=>CN.find(e=>e.test(n));function hE(n){const e=NN(n);if(!e)return!1;let t=e.parse(n);return e===aa&&(t=PN(t)),t}const dE=(n,e)=>{const t=hE(n),r=hE(e);if(!t||!r)return If(n,e);const i={...t};return a=>(i.red=Wm(t.red,r.red,a),i.green=Wm(t.green,r.green,a),i.blue=Wm(t.blue,r.blue,a),i.alpha=bt(t.alpha,r.alpha,a),Ys.transform(i))},vg=new Set(["none","hidden"]);function ON(n,e){return vg.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function DN(n,e){return t=>bt(n,e,t)}function Cy(n){return typeof n=="number"?DN:typeof n=="string"?ky(n)?If:Ft.test(n)?dE:jN:Array.isArray(n)?Zx:typeof n=="object"?Ft.test(n)?dE:LN:If}function Zx(n,e){const t=[...n],r=t.length,i=n.map((a,l)=>Cy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}}function LN(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Cy(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function MN(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=n.indexes[a][r[a]],u=n.values[l]??0;t[i]=u,r[a]++}return t}const jN=(n,e)=>{const t=os.createTransformer(e),r=eu(n),i=eu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?vg.has(n)&&!i.values.length||vg.has(e)&&!r.values.length?ON(n,e):vu(Zx(MN(r,i),i.values),t):If(n,e)};function Jx(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bt(n,e,t):Cy(n)(n,e)}const VN=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>At.update(e,t),stop:()=>ss(e),now:()=>tn.isProcessing?tn.timestamp:Nn.now()}},eA=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=Math.round(n(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kf=2e4;function Ny(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<kf;)e+=t,r=n.next(e);return e>=kf?1/0:e}function FN(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(Ny(r),kf);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:jr(i)}}const UN=5;function tA(n,e,t){const r=Math.max(e-UN,0);return Dx(t-n(r),e-r)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Km=.001;function BN({duration:n=kt.duration,bounce:e=kt.bounce,velocity:t=kt.velocity,mass:r=kt.mass}){let i,a,l=1-e;l=pi(kt.minDamping,kt.maxDamping,l),n=pi(kt.minDuration,kt.maxDuration,jr(n)),l<1?(i=h=>{const m=h*l,g=m*n,d=m-t,y=_g(h,l),_=Math.exp(-g);return Km-d/y*_},a=h=>{const g=h*l*n,d=g*t+t,y=Math.pow(l,2)*Math.pow(h,2)*n,_=Math.exp(-g),w=_g(Math.pow(h,2),l);return(-i(h)+Km>0?-1:1)*((d-y)*_)/w}):(i=h=>{const m=Math.exp(-h*n),g=(h-t)*n+1;return-Km+m*g},a=h=>{const m=Math.exp(-h*n),g=(t-h)*(n*n);return m*g});const u=5/n,f=zN(i,a,u);if(n=Mr(n),isNaN(f))return{stiffness:kt.stiffness,damping:kt.damping,duration:n};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:n}}}const qN=12;function zN(n,e,t){let r=t;for(let i=1;i<qN;i++)r=r-n(r)/e(r);return r}function _g(n,e){return n*Math.sqrt(1-e*e)}const HN=["duration","bounce"],$N=["stiffness","damping","mass"];function pE(n,e){return e.some(t=>n[t]!==void 0)}function WN(n){let e={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...n};if(!pE(n,$N)&&pE(n,HN))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*pi(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:kt.mass,stiffness:i,damping:a}}else{const t=BN(n);e={...e,...t,mass:kt.mass},e.isResolvedFromDuration=!0}return e}function Rf(n=kt.visualDuration,e=kt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:h,mass:m,duration:g,velocity:d,isResolvedFromDuration:y}=WN({...t,velocity:-jr(t.velocity||0)}),_=d||0,w=h/(2*Math.sqrt(f*m)),T=l-a,E=jr(Math.sqrt(f/m)),b=Math.abs(T)<5;r||(r=b?kt.restSpeed.granular:kt.restSpeed.default),i||(i=b?kt.restDelta.granular:kt.restDelta.default);let S;if(w<1){const O=_g(E,w);S=U=>{const R=Math.exp(-w*E*U);return l-R*((_+w*E*T)/O*Math.sin(O*U)+T*Math.cos(O*U))}}else if(w===1)S=O=>l-Math.exp(-E*O)*(T+(_+E*T)*O);else{const O=E*Math.sqrt(w*w-1);S=U=>{const R=Math.exp(-w*E*U),I=Math.min(O*U,300);return l-R*((_+w*E*T)*Math.sinh(I)+O*T*Math.cosh(I))/O}}const x={calculatedDuration:y&&g||null,next:O=>{const U=S(O);if(y)u.done=O>=g;else{let R=O===0?_:0;w<1&&(R=O===0?Mr(_):tA(S,O,U));const I=Math.abs(R)<=r,M=Math.abs(l-U)<=i;u.done=I&&M}return u.value=u.done?l:U,u},toString:()=>{const O=Math.min(Ny(x),kf),U=eA(R=>x.next(O*R).value,O,30);return O+"ms "+U},toTransition:()=>{}};return x}Rf.applyToOptions=n=>{const e=FN(n,100,Rf);return n.ease=e.ease,n.duration=Mr(e.duration),n.type="keyframes",n};function wg({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:h=.5,restSpeed:m}){const g=n[0],d={done:!1,value:g},y=I=>u!==void 0&&I<u||f!==void 0&&I>f,_=I=>u===void 0?f:f===void 0||Math.abs(u-I)<Math.abs(f-I)?u:f;let w=t*e;const T=g+w,E=l===void 0?T:l(T);E!==T&&(w=E-g);const b=I=>-w*Math.exp(-I/r),S=I=>E+b(I),x=I=>{const M=b(I),C=S(I);d.done=Math.abs(M)<=h,d.value=d.done?E:C};let O,U;const R=I=>{y(d.value)&&(O=I,U=Rf({keyframes:[d.value,_(d.value)],velocity:tA(S,I,d.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return R(0),{calculatedDuration:null,next:I=>{let M=!1;return!U&&O===void 0&&(M=!0,x(I),R(I)),O!==void 0&&I>=O?U.next(I-O):(!M&&x(I),d)}}}function KN(n,e,t){const r=[],i=t||mi.mix||Jx,a=n.length-1;for(let l=0;l<a;l++){let u=i(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||er:e;u=vu(f,u)}r.push(u)}return r}function GN(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(Ty(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=KN(e,r,i),f=u.length,h=m=>{if(l&&m<n[0])return e[0];let g=0;if(f>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const d=Zl(n[g],n[g+1],m);return u[g](d)};return t?m=>h(pi(n[0],n[a-1],m)):h}function QN(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Zl(0,e,r);n.push(bt(t,1,i))}}function YN(n){const e=[0];return QN(e,n.length-1),e}function XN(n,e){return n.map(t=>t*e)}function ZN(n,e){return n.map(()=>e||zx).splice(0,n.length-1)}function Ul({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=uN(r)?r.map(lE):lE(r),a={done:!1,value:e[0]},l=XN(t&&t.length===e.length?t:YN(e),n),u=GN(l,e,{ease:Array.isArray(i)?i:ZN(e,i)});return{calculatedDuration:n,next:f=>(a.value=u(f),a.done=f>=n,a)}}const JN=n=>n!==null;function Oy(n,{repeat:e,repeatType:t="loop"},r,i=1){const a=n.filter(JN),u=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const eO={decay:wg,inertia:wg,tween:Ul,keyframes:Ul,spring:Rf};function nA(n){typeof n.type=="string"&&(n.type=eO[n.type])}class Dy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const tO=n=>n/100;class Ly extends Dy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nA(e);const{type:t=Ul,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const f=t||Ul;f!==Ul&&typeof u[0]!="number"&&(this.mixKeyframes=vu(tO,Jx(u[0],u[1])),u=[0,100]);const h=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Ny(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:d,repeatDelay:y,type:_,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,x=r;if(g){const I=Math.min(this.currentTime,i)/u;let M=Math.floor(I),C=I%1;!C&&I>=1&&(C=1),C===1&&M--,M=Math.min(M,g+1),!!(M%2)&&(d==="reverse"?(C=1-C,y&&(C-=y/u)):d==="mirror"&&(x=l)),S=pi(0,1,C)*u}const O=b?{done:!1,value:m[0]}:x.next(S);a&&(O.value=a(O.value));let{done:U}=O;!b&&f!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return R&&_!==wg&&(O.value=Oy(m,this.options,T,this.speed)),w&&w(O.value),R&&this.finish(),O}then(e,t){return this.finished.then(e,t)}get duration(){return jr(this.calculatedDuration)}get time(){return jr(this.currentTime)}set time(e){var t;e=Mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=jr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=VN,startTime:t}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function nO(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Xs=n=>n*180/Math.PI,Eg=n=>{const e=Xs(Math.atan2(n[1],n[0]));return Tg(e)},rO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Eg,rotateZ:Eg,skewX:n=>Xs(Math.atan(n[1])),skewY:n=>Xs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Tg=n=>(n=n%360,n<0&&(n+=360),n),mE=Eg,gE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),yE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),iO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gE,scaleY:yE,scale:n=>(gE(n)+yE(n))/2,rotateX:n=>Tg(Xs(Math.atan2(n[6],n[5]))),rotateY:n=>Tg(Xs(Math.atan2(-n[2],n[0]))),rotateZ:mE,rotate:mE,skewX:n=>Xs(Math.atan(n[4])),skewY:n=>Xs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function bg(n){return n.includes("scale")?1:0}function xg(n,e){if(!n||n==="none")return bg(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=iO,i=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rO,i=u}if(!i)return bg(e);const a=r[e],l=i[1].split(",").map(oO);return typeof a=="function"?a(l):l[a]}const sO=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return xg(t,e)};function oO(n){return parseFloat(n.trim())}const Ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Na=new Set(Ca),vE=n=>n===Pa||n===Ue,aO=new Set(["x","y","z"]),lO=Ca.filter(n=>!aO.has(n));function uO(n){const e=[];return lO.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Js={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>xg(e,"x"),y:(n,{transform:e})=>xg(e,"y")};Js.translateX=Js.x;Js.translateY=Js.y;const eo=new Set;let Ag=!1,Sg=!1,Ig=!1;function rA(){if(Sg){const n=Array.from(eo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=uO(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,l])=>{var u;(u=r.getValue(a))==null||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sg=!1,Ag=!1,eo.forEach(n=>n.complete(Ig)),eo.clear()}function iA(){eo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Sg=!0)})}function cO(){Ig=!0,iA(),rA(),Ig=!1}class My{constructor(e,t,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),Ag||(Ag=!0,At.read(iA),At.resolveKeyframes(rA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const u=r.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}nO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fO=n=>n.startsWith("--");function hO(n,e,t){fO(e)?n.style.setProperty(e,t):n.style[e]=t}const dO=by(()=>window.ScrollTimeline!==void 0),pO={};function mO(n,e){const t=by(n);return()=>pO[e]??t()}const sA=mO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ll=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,_E={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ll([0,.65,.55,1]),circOut:Ll([.55,0,1,.45]),backIn:Ll([.31,.01,.66,-.59]),backOut:Ll([.33,1.53,.69,.99])};function oA(n,e){if(n)return typeof n=="function"?sA()?eA(n,e):"ease-out":Hx(n)?Ll(n):Array.isArray(n)?n.map(t=>oA(t,e)||_E.easeOut):_E[n]}function gO(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:f}={},h=void 0){const m={[e]:t};f&&(m.offset=f);const g=oA(u,i);Array.isArray(g)&&(m.easing=g);const d={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(d.pseudoElement=h),n.animate(m,d)}function aA(n){return typeof n=="function"&&"applyToOptions"in n}function yO({type:n,...e}){return aA(n)&&sA()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vO extends Dy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Ty(typeof e.type!="string");const h=yO(e);this.animation=gO(t,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Oy(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):hO(t,r,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return jr(Number(e))}get time(){return jr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dO()?(this.animation.timeline=e,er):t(this)}}const lA={anticipate:Ux,backInOut:Fx,circInOut:qx};function _O(n){return n in lA}function wO(n){typeof n.ease=="string"&&_O(n.ease)&&(n.ease=lA[n.ease])}const wE=10;class EO extends vO{constructor(e){wO(e),nA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new Ly({...l,autoplay:!1}),f=Mr(this.finishedTime??this.time);t.setWithVelocity(u.sample(f-wE).value,u.sample(f).value,wE),u.stop()}}const EE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(os.test(n)||n==="0")&&!n.startsWith("url("));function TO(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function bO(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=EE(i,e),u=EE(a,e);return!l||!u?!1:TO(n)||(t==="spring"||aA(t))&&r}function jy(n){return Nx(n)&&"offsetHeight"in n}const xO=new Set(["opacity","clipPath","filter","transform"]),AO=by(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SO(n){var h;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:a,type:l}=n;if(!jy((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return AO()&&t&&xO.has(t)&&(t!=="transform"||!f)&&!u&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const IO=40;class kO extends Dy{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:f,motionValue:h,element:m,...g}){var _;super(),this.stop=()=>{var w,T;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Nn.now();const d={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:h,element:m,...g},y=(m==null?void 0:m.KeyframeResolver)||My;this.keyframeResolver=new y(u,(w,T,E)=>this.onKeyframesResolved(w,T,d,!E),f,h,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:f,isHandoff:h,onUpdate:m}=r;this.resolvedAt=Nn.now(),bO(e,a,l,u)||((mi.instantAnimations||!f)&&(m==null||m(Oy(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>IO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},y=!h&&SO(d)?new EO({...d,element:d.motionValue.owner.current}):new Ly(d);y.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),cO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const RO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PO(n){const e=RO.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function uA(n,e,t=1){const[r,i]=PO(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return Cx(l)?parseFloat(l):l}return ky(i)?uA(i,e,t+1):i}function Vy(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const cA=new Set(["width","height","top","left","right","bottom",...Ca]),CO={test:n=>n==="auto",parse:n=>n},fA=n=>e=>e.test(n),hA=[Pa,Ue,Vr,Ki,TN,EN,CO],TE=n=>hA.find(fA(n));function NO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Ox(n):!0}const OO=new Set(["brightness","contrast","saturate","opacity"]);function DO(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Ry)||[];if(!r)return n;const i=t.replace(r,"");let a=OO.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const LO=/\b([a-z-]*)\(.*?\)/gu,kg={...os,getAnimatableNone:n=>{const e=n.match(LO);return e?e.map(DO).join(" "):n}},bE={...Pa,transform:Math.round},MO={rotate:Ki,rotateX:Ki,rotateY:Ki,rotateZ:Ki,scale:Yc,scaleX:Yc,scaleY:Yc,scaleZ:Yc,skew:Ki,skewX:Ki,skewY:Ki,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Jl,originX:cE,originY:cE,originZ:Ue},Fy={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...MO,zIndex:bE,fillOpacity:Jl,strokeOpacity:Jl,numOctaves:bE},jO={...Fy,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:kg,WebkitFilter:kg},dA=n=>jO[n];function pA(n,e){let t=dA(n);return t!==kg&&(t=os),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const VO=new Set(["auto","none","0"]);function FO(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!VO.has(a)&&eu(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=pA(t,i)}class UO extends My{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),ky(h))){const m=uA(h,t.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!cA.has(r)||e.length!==2)return;const[i,a]=e,l=TE(i),u=TE(a);if(l!==u)if(vE(l)&&vE(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else Js[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||NO(e[i]))&&r.push(i);r.length&&FO(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Js[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Js[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,h])=>{e.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function BO(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const mA=(n,e)=>e&&typeof n=="number"?e.transform(n):n,xE=30,qO=n=>!isNaN(parseFloat(n));class zO{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,u;const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new xy);const r=this.events[e].add(t);return e==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,xE);return Dx(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ya(n,e){return new zO(n,e)}const{schedule:Uy}=$x(queueMicrotask,!1),vr={x:!1,y:!1};function gA(){return vr.x||vr.y}function HO(n){return n==="x"||n==="y"?vr[n]?null:(vr[n]=!0,()=>{vr[n]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}function yA(n,e){const t=BO(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function AE(n){return!(n.pointerType==="touch"||gA())}function $O(n,e,t={}){const[r,i,a]=yA(n,t),l=u=>{if(!AE(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const m=g=>{AE(g)&&(h(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),a}const vA=(n,e)=>e?n===e?!0:vA(n,e.parentElement):!1,By=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,WO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KO(n){return WO.has(n.tagName)||n.tabIndex!==-1}const df=new WeakSet;function SE(n){return e=>{e.key==="Enter"&&n(e)}}function Gm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GO=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=SE(()=>{if(df.has(t))return;Gm(t,"down");const i=SE(()=>{Gm(t,"up")}),a=()=>Gm(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function IE(n){return By(n)&&!gA()}function QO(n,e,t={}){const[r,i,a]=yA(n,t),l=u=>{const f=u.currentTarget;if(!IE(u))return;df.add(f);const h=e(f,u),m=(y,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",d),df.has(f)&&df.delete(f),IE(y)&&typeof h=="function"&&h(y,{success:_})},g=y=>{m(y,f===window||f===document||t.useGlobalTarget||vA(f,y.target))},d=y=>{m(y,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",d,i)};return r.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),jy(u)&&(u.addEventListener("focus",h=>GO(h,i)),!KO(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function _A(n){return Nx(n)&&"ownerSVGElement"in n}function YO(n){return _A(n)&&n.tagName==="svg"}const pn=n=>!!(n&&n.getVelocity),XO=[...hA,Ft,os],ZO=n=>XO.find(fA(n)),qy=se.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class JO extends se.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=jy(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eD({children:n,isPresent:e,anchorX:t}){const r=se.useId(),i=se.useRef(null),a=se.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=se.useContext(qy);return se.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:m,right:g}=a.current;if(e||!i.current||!u||!f)return;const d=t==="left"?`left: ${m}`:`right: ${g}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return l&&(y.nonce=l),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${d}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),j.jsx(JO,{isPresent:e,childRef:i,sizeRef:a,children:se.cloneElement(n,{ref:i})})}const tD=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:u})=>{const f=vy(nD),h=se.useId();let m=!0,g=se.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:t,custom:i,onExitComplete:d=>{f.set(d,!0);for(const y of f.values())if(!y)return;r&&r()},register:d=>(f.set(d,!1),()=>f.delete(d))}),[t,f,r]);return a&&m&&(g={...g}),se.useMemo(()=>{f.forEach((d,y)=>f.set(y,!1))},[t]),se.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),l==="popLayout"&&(n=j.jsx(eD,{isPresent:t,anchorX:u,children:n})),j.jsx(lh.Provider,{value:g,children:n})};function nD(){return new Map}function wA(n=!0){const e=se.useContext(lh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=se.useId();se.useEffect(()=>{if(n)return i(a)},[n]);const l=se.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const Xc=n=>n.key||"";function kE(n){const e=[];return se.Children.forEach(n,t=>{se.isValidElement(t)&&e.push(t)}),e}const rD=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:u="left"})=>{const[f,h]=wA(l),m=se.useMemo(()=>kE(n),[n]),g=l&&!f?[]:m.map(Xc),d=se.useRef(!0),y=se.useRef(m),_=vy(()=>new Map),[w,T]=se.useState(m),[E,b]=se.useState(m);Px(()=>{d.current=!1,y.current=m;for(let O=0;O<E.length;O++){const U=Xc(E[O]);g.includes(U)?_.delete(U):_.get(U)!==!0&&_.set(U,!1)}},[E,g.length,g.join("-")]);const S=[];if(m!==w){let O=[...m];for(let U=0;U<E.length;U++){const R=E[U],I=Xc(R);g.includes(I)||(O.splice(U,0,R),S.push(R))}return a==="wait"&&S.length&&(O=S),b(kE(O)),T(m),null}const{forceRender:x}=se.useContext(yy);return j.jsx(j.Fragment,{children:E.map(O=>{const U=Xc(O),R=l&&!f?!1:m===E||g.includes(U),I=()=>{if(_.has(U))_.set(U,!0);else return;let M=!0;_.forEach(C=>{C||(M=!1)}),M&&(x==null||x(),b(y.current),l&&(h==null||h()),r&&r())};return j.jsx(tD,{isPresent:R,initial:!d.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,onExitComplete:R?void 0:I,anchorX:u,children:O},U)})})},EA=se.createContext({strict:!1}),RE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},va={};for(const n in RE)va[n]={isEnabled:e=>RE[n].some(t=>!!e[t])};function iD(n){for(const e in n)va[e]={...va[e],...n[e]}}const sD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sD.has(n)}let TA=n=>!Pf(n);function oD(n){typeof n=="function"&&(TA=e=>e.startsWith("on")?!Pf(e):n(e))}try{oD(require("@emotion/is-prop-valid").default)}catch{}function aD(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(TA(i)||t===!0&&Pf(i)||!e&&!Pf(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function lD(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const uh=se.createContext({});function ch(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function tu(n){return typeof n=="string"||Array.isArray(n)}const zy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hy=["initial",...zy];function fh(n){return ch(n.animate)||Hy.some(e=>tu(n[e]))}function bA(n){return!!(fh(n)||n.variants)}function uD(n,e){if(fh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||tu(t)?t:void 0,animate:tu(r)?r:void 0}}return n.inherit!==!1?e:{}}function cD(n){const{initial:e,animate:t}=uD(n,se.useContext(uh));return se.useMemo(()=>({initial:e,animate:t}),[PE(e),PE(t)])}function PE(n){return Array.isArray(n)?n.join(" "):n}const fD=Symbol.for("motionComponentSymbol");function la(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function hD(n,e,t){return se.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):la(t)&&(t.current=r))},[e])}const $y=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dD="framerAppearId",xA="data-"+$y(dD),AA=se.createContext({});function pD(n,e,t,r,i){var w,T;const{visualElement:a}=se.useContext(uh),l=se.useContext(EA),u=se.useContext(lh),f=se.useContext(qy).reducedMotion,h=se.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:a,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=h.current,g=se.useContext(AA);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&mD(h.current,t,i,g);const d=se.useRef(!1);se.useInsertionEffect(()=>{m&&d.current&&m.update(t,u)});const y=t[xA],_=se.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,y)));return Px(()=>{m&&(d.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Uy.render(m.render),_.current&&m.animationState&&m.animationState.animateChanges())}),se.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,y)}),_.current=!1))}),m}function mD(n,e,t,r){const{layoutId:i,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:SA(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||u&&la(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:f,layoutRoot:h})}function SA(n){if(n)return n.options.allowProjection!==!1?n.projection:SA(n.parent)}function gD({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&iD(n);function a(u,f){let h;const m={...se.useContext(qy),...u,layoutId:yD(u)},{isStatic:g}=m,d=cD(u),y=r(u,g);if(!g&&_y){vD();const _=_D(m);h=_.MeasureLayout,d.visualElement=pD(i,y,m,e,_.ProjectionNode)}return j.jsxs(uh.Provider,{value:d,children:[h&&d.visualElement?j.jsx(h,{visualElement:d.visualElement,...m}):null,t(i,u,hD(y,d.visualElement,f),y,g,d.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=se.forwardRef(a);return l[fD]=i,l}function yD({layoutId:n}){const e=se.useContext(yy).id;return e&&n!==void 0?e+"-"+n:n}function vD(n,e){se.useContext(EA).strict}function _D(n){const{drag:e,layout:t}=va;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nu={};function wD(n){for(const e in n)nu[e]=n[e],Iy(e)&&(nu[e].isCSSVariable=!0)}function IA(n,{layout:e,layoutId:t}){return Na.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!nu[n]||n==="opacity")}const ED={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TD=Ca.length;function bD(n,e,t){let r="",i=!0;for(let a=0;a<TD;a++){const l=Ca[a],u=n[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||t){const h=mA(u,Fy[l]);if(!f){i=!1;const m=ED[l]||l;r+=`${m}(${h}) `}t&&(e[l]=h)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Wy(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let l=!1,u=!1;for(const f in e){const h=e[f];if(Na.has(f)){l=!0;continue}else if(Iy(f)){i[f]=h;continue}else{const m=mA(h,Fy[f]);f.startsWith("origin")?(u=!0,a[f]=m):r[f]=m}}if(e.transform||(l||t?r.transform=bD(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${f} ${h} ${m}`}}const Ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kA(n,e,t){for(const r in e)!pn(e[r])&&!IA(r,t)&&(n[r]=e[r])}function xD({transformTemplate:n},e){return se.useMemo(()=>{const t=Ky();return Wy(t,e,n),Object.assign({},t.vars,t.style)},[e])}function AD(n,e){const t=n.style||{},r={};return kA(r,t,n),Object.assign(r,xD(n,e)),r}function SD(n,e){const t={},r=AD(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const ID={offset:"stroke-dashoffset",array:"stroke-dasharray"},kD={offset:"strokeDashoffset",array:"strokeDasharray"};function RD(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?ID:kD;n[a.offset]=Ue.transform(-r);const l=Ue.transform(e),u=Ue.transform(t);n[a.array]=`${l} ${u}`}function RA(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},f,h,m){if(Wy(n,u,h),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:d}=n;g.transform&&(d.transform=g.transform,delete g.transform),(d.transform||g.transformOrigin)&&(d.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),d.transform&&(d.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),r!==void 0&&(g.scale=r),i!==void 0&&RD(g,i,a,l,!1)}const PA=()=>({...Ky(),attrs:{}}),CA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function PD(n,e,t,r){const i=se.useMemo(()=>{const a=PA();return RA(a,e,CA(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};kA(a,n.style,n),i.style={...a,...i.style}}return i}const CD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gy(n){return typeof n!="string"||n.includes("-")?!1:!!(CD.indexOf(n)>-1||/[A-Z]/u.test(n))}function ND(n=!1){return(t,r,i,{latestValues:a},l)=>{const f=(Gy(t)?PD:SD)(r,a,l,t),h=aD(r,typeof t=="string",n),m=t!==se.Fragment?{...h,...f,ref:i}:{},{children:g}=r,d=se.useMemo(()=>pn(g)?g.get():g,[g]);return se.createElement(t,{...m,children:d})}}function CE(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Qy(n,e,t,r){if(typeof e=="function"){const[i,a]=CE(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=CE(r);e=e(t!==void 0?t:n.custom,i,a)}return e}function pf(n){return pn(n)?n.get():n}function OD({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:DD(t,r,i,n),renderState:e()}}const NA=n=>(e,t)=>{const r=se.useContext(uh),i=se.useContext(lh),a=()=>OD(n,e,r,i);return t?a():vy(a)};function DD(n,e,t,r){const i={},a=r(n,{});for(const d in a)i[d]=pf(a[d]);let{initial:l,animate:u}=n;const f=fh(n),h=bA(n);e&&h&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const g=m?u:l;if(g&&typeof g!="boolean"&&!ch(g)){const d=Array.isArray(g)?g:[g];for(let y=0;y<d.length;y++){const _=Qy(n,d[y]);if(_){const{transitionEnd:w,transition:T,...E}=_;for(const b in E){let S=E[b];if(Array.isArray(S)){const x=m?S.length-1:0;S=S[x]}S!==null&&(i[b]=S)}for(const b in w)i[b]=w[b]}}}return i}function Yy(n,e,t){var a;const{style:r}=n,i={};for(const l in r)(pn(r[l])||e.style&&pn(e.style[l])||IA(l,n)||((a=t==null?void 0:t.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const LD={useVisualState:NA({scrapeMotionValuesFromProps:Yy,createRenderState:Ky})};function OA(n,e,t){const r=Yy(n,e,t);for(const i in n)if(pn(n[i])||pn(e[i])){const a=Ca.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}const MD={useVisualState:NA({scrapeMotionValuesFromProps:OA,createRenderState:PA})};function jD(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Gy(r)?MD:LD,preloadedFeatures:n,useRender:ND(i),createVisualElement:e,Component:r};return gD(l)}}function ru(n,e,t){const r=n.getProps();return Qy(r,e,t!==void 0?t:r.custom,n)}const Rg=n=>Array.isArray(n);function VD(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ya(t))}function FD(n){return Rg(n)?n[n.length-1]||0:n}function UD(n,e){const t=ru(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const l in a){const u=FD(a[l]);VD(n,l,u)}}function BD(n){return!!(pn(n)&&n.add)}function Pg(n,e){const t=n.getValue("willChange");if(BD(t))return t.add(e);if(!t&&mi.WillChange){const r=new mi.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function DA(n){return n.props[xA]}const qD=n=>n!==null;function zD(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(qD),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const HD={type:"spring",stiffness:500,damping:25,restSpeed:10},$D=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),WD={type:"keyframes",duration:.8},KD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GD=(n,{keyframes:e})=>e.length>2?WD:Na.has(n)?n.startsWith("scale")?$D(e[1]):HD:KD;function QD({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}const Xy=(n,e,t,r={},i,a)=>l=>{const u=Vy(r,n)||{},f=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Mr(f);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:d=>{e.set(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:i};QD(u)||Object.assign(m,GD(n,m)),m.duration&&(m.duration=Mr(m.duration)),m.repeatDelay&&(m.repeatDelay=Mr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(mi.instantAnimations||mi.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const d=zD(m.keyframes,u);if(d!==void 0){At.update(()=>{m.onUpdate(d),m.onComplete()});return}}return u.isSync?new Ly(m):new kO(m)};function YD({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function LA(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const f=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const m in u){const g=n.getValue(m,n.latestValues[m]??null),d=u[m];if(d===void 0||h&&YD(h,m))continue;const y={delay:t,...Vy(a||{},m)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(d)&&d===_&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const E=DA(n);if(E){const b=window.MotionHandoffAnimation(E,m,At);b!==null&&(y.startTime=b,w=!0)}}Pg(n,m),g.start(Xy(m,g,d,n.shouldReduceMotion&&cA.has(m)?{type:!1}:y,n,w));const T=g.animation;T&&f.push(T)}return l&&Promise.all(f).then(()=>{At.update(()=>{l&&UD(n,l)})}),f}function Cg(n,e,t={}){var f;const r=ru(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const a=r?()=>Promise.all(LA(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:d}=i;return XD(n,e,m+h,g,d,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,m]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>m())}else return Promise.all([a(),l(t.delay)])}function XD(n,e,t=0,r=0,i=1,a){const l=[],u=(n.variantChildren.size-1)*r,f=i===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(ZD).forEach((h,m)=>{h.notify("AnimationStart",e),l.push(Cg(h,e,{...a,delay:t+f(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function ZD(n,e){return n.sortNodePosition(e)}function JD(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Cg(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=Cg(n,e,t);else{const i=typeof e=="function"?ru(n,e,t.custom):e;r=Promise.all(LA(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function MA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const e4=Hy.length;function jA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?jA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<e4;t++){const r=Hy[t],i=n.props[r];(tu(i)||i===!1)&&(e[r]=i)}return e}const t4=[...zy].reverse(),n4=zy.length;function r4(n){return e=>Promise.all(e.map(({animation:t,options:r})=>JD(n,t,r)))}function i4(n){let e=r4(n),t=NE(),r=!0;const i=f=>(h,m)=>{var d;const g=ru(n,m,f==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);if(g){const{transition:y,transitionEnd:_,...w}=g;h={...h,...w,..._}}return h};function a(f){e=f(n)}function l(f){const{props:h}=n,m=jA(n.parent)||{},g=[],d=new Set;let y={},_=1/0;for(let T=0;T<n4;T++){const E=t4[T],b=t[E],S=h[E]!==void 0?h[E]:m[E],x=tu(S),O=E===f?b.isActive:null;O===!1&&(_=T);let U=S===m[E]&&S!==h[E]&&x;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),b.protectedKeys={...y},!b.isActive&&O===null||!S&&!b.prevProp||ch(S)||typeof S=="boolean")continue;const R=s4(b.prevProp,S);let I=R||E===f&&b.isActive&&!U&&x||T>_&&x,M=!1;const C=Array.isArray(S)?S:[S];let k=C.reduce(i(E),{});O===!1&&(k={});const{prevResolvedValues:L={}}=b,D={...L,...k},$=ee=>{I=!0,d.has(ee)&&(M=!0,d.delete(ee)),b.needsAnimating[ee]=!0;const re=n.getValue(ee);re&&(re.liveStyle=!1)};for(const ee in D){const re=k[ee],Y=L[ee];if(y.hasOwnProperty(ee))continue;let W=!1;Rg(re)&&Rg(Y)?W=!MA(re,Y):W=re!==Y,W?re!=null?$(ee):d.add(ee):re!==void 0&&d.has(ee)?$(ee):b.protectedKeys[ee]=!0}b.prevProp=S,b.prevResolvedValues=k,b.isActive&&(y={...y,...k}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(U&&R)||M)&&g.push(...C.map(ee=>({animation:ee,options:{type:E}})))}if(d.size){const T={};if(typeof h.initial!="boolean"){const E=ru(n,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(T.transition=E.transition)}d.forEach(E=>{const b=n.getBaseTarget(E),S=n.getValue(E);S&&(S.liveStyle=!0),T[E]=b??null}),g.push({animation:T})}let w=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(g):Promise.resolve()}function u(f,h){var g;if(t[f].isActive===h)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(d=>{var y;return(y=d.animationState)==null?void 0:y.setActive(f,h)}),t[f].isActive=h;const m=l(f);for(const d in t)t[d].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=NE(),r=!0}}}function s4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!MA(e,n):!1}function Ws(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NE(){return{animate:Ws(!0),whileInView:Ws(),whileHover:Ws(),whileTap:Ws(),whileDrag:Ws(),whileFocus:Ws(),exit:Ws()}}class ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o4 extends ms{constructor(e){super(e),e.animationState||(e.animationState=i4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ch(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let a4=0;class l4 extends ms{constructor(){super(...arguments),this.id=a4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const u4={animation:{Feature:o4},exit:{Feature:l4}};function iu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Eu(n){return{point:{x:n.pageX,y:n.pageY}}}const c4=n=>e=>By(e)&&n(e,Eu(e));function Bl(n,e,t,r){return iu(n,e,c4(t),r)}function VA({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function f4({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function h4(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const FA=1e-4,d4=1-FA,p4=1+FA,UA=.01,m4=0-UA,g4=0+UA;function Tn(n){return n.max-n.min}function y4(n,e,t){return Math.abs(n-e)<=t}function OE(n,e,t,r=.5){n.origin=r,n.originPoint=bt(e.min,e.max,n.origin),n.scale=Tn(t)/Tn(e),n.translate=bt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=d4&&n.scale<=p4||isNaN(n.scale))&&(n.scale=1),(n.translate>=m4&&n.translate<=g4||isNaN(n.translate))&&(n.translate=0)}function ql(n,e,t,r){OE(n.x,e.x,t.x,r?r.originX:void 0),OE(n.y,e.y,t.y,r?r.originY:void 0)}function DE(n,e,t){n.min=t.min+e.min,n.max=n.min+Tn(e)}function v4(n,e,t){DE(n.x,e.x,t.x),DE(n.y,e.y,t.y)}function LE(n,e,t){n.min=e.min-t.min,n.max=n.min+Tn(e)}function zl(n,e,t){LE(n.x,e.x,t.x),LE(n.y,e.y,t.y)}const ME=()=>({translate:0,scale:1,origin:0,originPoint:0}),ua=()=>({x:ME(),y:ME()}),jE=()=>({min:0,max:0}),Ot=()=>({x:jE(),y:jE()});function Zn(n){return[n("x"),n("y")]}function Qm(n){return n===void 0||n===1}function Ng({scale:n,scaleX:e,scaleY:t}){return!Qm(n)||!Qm(e)||!Qm(t)}function Gs(n){return Ng(n)||BA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function BA(n){return VE(n.x)||VE(n.y)}function VE(n){return n&&n!=="0%"}function Cf(n,e,t){const r=n-t,i=e*r;return t+i}function FE(n,e,t,r,i){return i!==void 0&&(n=Cf(n,i,r)),Cf(n,t,r)+e}function Og(n,e=0,t=1,r,i){n.min=FE(n.min,e,t,r,i),n.max=FE(n.max,e,t,r,i)}function qA(n,{x:e,y:t}){Og(n.x,e.translate,e.scale,e.originPoint),Og(n.y,t.translate,t.scale,t.originPoint)}const UE=.999999999999,BE=1.0000000000001;function _4(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=t[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&fa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,qA(n,l)),r&&Gs(a.latestValues)&&fa(n,a.latestValues))}e.x<BE&&e.x>UE&&(e.x=1),e.y<BE&&e.y>UE&&(e.y=1)}function ca(n,e){n.min=n.min+e,n.max=n.max+e}function qE(n,e,t,r,i=.5){const a=bt(n.min,n.max,i);Og(n,e,t,a,r)}function fa(n,e){qE(n.x,e.x,e.scaleX,e.scale,e.originX),qE(n.y,e.y,e.scaleY,e.scale,e.originY)}function zA(n,e){return VA(h4(n.getBoundingClientRect(),e))}function w4(n,e,t){const r=zA(n,t),{scroll:i}=e;return i&&(ca(r.x,i.offset.x),ca(r.y,i.offset.y)),r}const HA=({current:n})=>n?n.ownerDocument.defaultView:null,zE=(n,e)=>Math.abs(n-e);function E4(n,e){const t=zE(n.x,e.x),r=zE(n.y,e.y);return Math.sqrt(t**2+r**2)}class $A{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Xm(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,y=E4(g.offset,{x:0,y:0})>=3;if(!d&&!y)return;const{point:_}=g,{timestamp:w}=tn;this.history.push({..._,timestamp:w});const{onStart:T,onMove:E}=this.handlers;d||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,d)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Ym(d,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(g,d)=>{this.end();const{onEnd:y,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Xm(g.type==="pointercancel"?this.lastMoveEventInfo:Ym(d,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,T),_&&_(g,T)},!By(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=Eu(e),u=Ym(l,this.transformPagePoint),{point:f}=u,{timestamp:h}=tn;this.history=[{...f,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,Xm(u,this.history)),this.removeListeners=vu(Bl(this.contextWindow,"pointermove",this.handlePointerMove),Bl(this.contextWindow,"pointerup",this.handlePointerUp),Bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function Ym(n,e){return e?{point:e(n.point)}:n}function HE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Xm({point:n},e){return{point:n,delta:HE(n,WA(e)),offset:HE(n,T4(e)),velocity:b4(e,.1)}}function T4(n){return n[0]}function WA(n){return n[n.length-1]}function b4(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=WA(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Mr(e)));)t--;if(!r)return{x:0,y:0};const a=jr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function x4(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?bt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?bt(t,n,r.max):Math.min(n,t)),n}function $E(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function A4(n,{top:e,left:t,bottom:r,right:i}){return{x:$E(n.x,t,i),y:$E(n.y,e,r)}}function WE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function S4(n,e){return{x:WE(n.x,e.x),y:WE(n.y,e.y)}}function I4(n,e){let t=.5;const r=Tn(n),i=Tn(e);return i>r?t=Zl(e.min,e.max-r,n.min):r>i&&(t=Zl(n.min,n.max-i,e.min)),pi(0,1,t)}function k4(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Dg=.35;function R4(n=Dg){return n===!1?n=0:n===!0&&(n=Dg),{x:KE(n,"left","right"),y:KE(n,"top","bottom")}}function KE(n,e,t){return{min:GE(n,e),max:GE(n,t)}}function GE(n,e){return typeof n=="number"?n:n[e]||0}const P4=new WeakMap;class C4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Eu(m).point)},a=(m,g)=>{const{drag:d,dragPropagation:y,onDragStart:_}=this.getProps();if(d&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HO(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(T=>{let E=this.getAxisMotionValue(T).get()||0;if(Vr.test(E)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[T];S&&(E=Tn(S)*(parseFloat(E)/100))}}this.originPoint[T]=E}),_&&At.postRender(()=>_(m,g)),Pg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:d,dragDirectionLock:y,onDirectionLock:_,onDrag:w}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:T}=g;if(y&&this.currentDirection===null){this.currentDirection=N4(T),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),w&&w(m,g)},u=(m,g)=>this.stop(m,g),f=()=>Zn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new $A(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:HA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&At.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Zc(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=x4(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&la(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=A4(r.layoutBox,e):this.constraints=!1,this.elastic=R4(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=k4(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!la(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=w4(r,i.root,this.visualElement.getTransformPagePoint());let l=S4(i.layout.layoutBox,a);if(t){const u=t(f4(l));this.hasMutatedConstraints=!!u,u&&(l=VA(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Zn(m=>{if(!Zc(m,t,this.currentDirection))return;let g=f&&f[m]||{};l&&(g={min:0,max:0});const d=i?200:1e6,y=i?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:d,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,_)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Pg(this.visualElement,e),r.start(Xy(e,r,0,t,this.visualElement,!1))}stopAnimation(){Zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zn(t=>{const{drag:r}=this.getProps();if(!Zc(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];a.set(e[t]-bt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!la(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();i[l]=I4({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zn(l=>{if(!Zc(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:h}=this.constraints[l];u.set(bt(f,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;P4.set(this.visualElement,this);const e=this.visualElement.current,t=Bl(e,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();la(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),At.read(r);const l=iu(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Zn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Dg,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Zc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function N4(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class O4 extends ms{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new C4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const QE=n=>(e,t)=>{n&&At.postRender(()=>n(e,t))};class D4 extends ms{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new $A(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:QE(e),onStart:QE(t),onMove:r,onEnd:(a,l)=>{delete this.session,i&&At.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Cl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ue.test(n))n=parseFloat(n);else return n;const t=YE(n,e.target.x),r=YE(n,e.target.y);return`${t}% ${r}%`}},L4={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=os.parse(n);if(i.length>5)return r;const a=os.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=f;const h=bt(u,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class M4 extends se.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;wD(j4),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||At.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Uy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KA(n){const[e,t]=wA(),r=se.useContext(yy);return j.jsx(M4,{...n,layoutGroup:r,switchLayoutGroup:se.useContext(AA),isPresent:e,safeToRemove:t})}const j4={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:L4};function V4(n,e,t){const r=pn(n)?n:ya(n);return r.start(Xy("",r,e,t)),r.animation}const F4=(n,e)=>n.depth-e.depth;class U4{constructor(){this.children=[],this.isDirty=!1}add(e){wy(this.children,e),this.isDirty=!0}remove(e){Ey(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F4),this.isDirty=!1,this.children.forEach(e)}}function B4(n,e){const t=Nn.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(ss(r),n(a-e))};return At.setup(r,!0),()=>ss(r)}const GA=["TopLeft","TopRight","BottomLeft","BottomRight"],q4=GA.length,XE=n=>typeof n=="string"?parseFloat(n):n,ZE=n=>typeof n=="number"||Ue.test(n);function z4(n,e,t,r,i,a){i?(n.opacity=bt(0,t.opacity??1,H4(r)),n.opacityExit=bt(e.opacity??1,0,$4(r))):a&&(n.opacity=bt(e.opacity??1,t.opacity??1,r));for(let l=0;l<q4;l++){const u=`border${GA[l]}Radius`;let f=JE(e,u),h=JE(t,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||ZE(f)===ZE(h)?(n[u]=Math.max(bt(XE(f),XE(h),r),0),(Vr.test(h)||Vr.test(f))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=bt(e.rotate||0,t.rotate||0,r))}function JE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const H4=QA(0,.5,Bx),$4=QA(.5,.95,er);function QA(n,e,t){return r=>r<n?0:r>e?1:t(Zl(n,e,r))}function eT(n,e){n.min=e.min,n.max=e.max}function Xn(n,e){eT(n.x,e.x),eT(n.y,e.y)}function tT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function nT(n,e,t,r,i){return n-=e,n=Cf(n,1/t,r),i!==void 0&&(n=Cf(n,1/i,r)),n}function W4(n,e=0,t=1,r=.5,i,a=n,l=n){if(Vr.test(e)&&(e=parseFloat(e),e=bt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=bt(a.min,a.max,r);n===a&&(u-=e),n.min=nT(n.min,e,t,u,i),n.max=nT(n.max,e,t,u,i)}function rT(n,e,[t,r,i],a,l){W4(n,e[t],e[r],e[i],e.scale,a,l)}const K4=["x","scaleX","originX"],G4=["y","scaleY","originY"];function iT(n,e,t,r){rT(n.x,e,K4,t?t.x:void 0,r?r.x:void 0),rT(n.y,e,G4,t?t.y:void 0,r?r.y:void 0)}function sT(n){return n.translate===0&&n.scale===1}function YA(n){return sT(n.x)&&sT(n.y)}function oT(n,e){return n.min===e.min&&n.max===e.max}function Q4(n,e){return oT(n.x,e.x)&&oT(n.y,e.y)}function aT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function XA(n,e){return aT(n.x,e.x)&&aT(n.y,e.y)}function lT(n){return Tn(n.x)/Tn(n.y)}function uT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Y4{constructor(){this.members=[]}add(e){wy(this.members,e),e.scheduleRender()}remove(e){if(Ey(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X4(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:d,skewX:y,skewY:_}=t;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),d&&(r+=`rotateY(${d}deg) `),y&&(r+=`skewX(${y}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const Zm=["","X","Y","Z"],Z4={visibility:"hidden"},J4=1e3;let eL=0;function Jm(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function ZA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=DA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",At,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&ZA(r)}function JA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=eL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rL),this.nodes.forEach(lL),this.nodes.forEach(uL),this.nodes.forEach(iL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new U4)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new xy),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=_A(l)&&!YO(l),this.instance=l;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),n){let m;const g=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=B4(g,250),mf.hasAnimatedSinceResize&&(mf.hasAnimatedSinceResize=!1,this.nodes.forEach(fT))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:d,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||pL,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=h.getProps(),E=!this.targetLayout||!XA(this.targetLayout,y),b=!g&&d;if(this.options.layoutRoot||this.resumeFrom||b||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Vy(_,"layout"),onPlay:w,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(m,b)}else g||fT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cL),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cT);return}this.isUpdating||this.nodes.forEach(oL),this.isUpdating=!1,this.nodes.forEach(aL),this.nodes.forEach(tL),this.nodes.forEach(nL),this.clearAllSnapshots();const u=Nn.now();tn.delta=pi(0,1e3/60,u-tn.timestamp),tn.timestamp=u,tn.isProcessing=!0,zm.update.process(tn),zm.preRender.process(tn),zm.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sL),this.sharedNodes.forEach(fL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!YA(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||Gs(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),mL(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return Ot();const u=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(gL))){const{scroll:m}=this.root;m&&(ca(u.x,m.offset.x),ca(u.y,m.offset.y))}return u}removeElementScroll(l){var f;const u=Ot();if(Xn(u,l),(f=this.scroll)!=null&&f.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:d}=m;m!==this.root&&g&&d.layoutScroll&&(g.wasRoot&&Xn(u,l),ca(u.x,g.offset.x),ca(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const f=Ot();Xn(f,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&fa(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Gs(m.latestValues)&&fa(f,m.latestValues)}return Gs(this.latestValues)&&fa(f,this.latestValues),f}removeTransform(l){const u=Ot();Xn(u,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Gs(h.latestValues))continue;Ng(h.latestValues)&&h.updateSnapshot();const m=Ot(),g=h.measurePageBox();Xn(m,g),iT(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Gs(this.latestValues)&&iT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),zl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),qA(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),zl(this.relativeTargetOrigin,this.target,y.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ng(this.parent.latestValues)||BA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Xn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,d=this.treeScale.y;_4(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ot());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tT(this.prevProjectionDelta.x,this.projectionDelta.x),tT(this.prevProjectionDelta.y,this.projectionDelta.y)),ql(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==d||!uT(this.projectionDelta.x,this.prevProjectionDelta.x)||!uT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ua(),this.projectionDelta=ua(),this.projectionDeltaWithTransform=ua()}setAnimationOrigin(l,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},g=ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const d=Ot(),y=f?f.source:void 0,_=this.layout?this.layout.source:void 0,w=y!==_,T=this.getStack(),E=!T||T.members.length<=1,b=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(dL));this.animationProgress=0;let S;this.mixTargetDelta=x=>{const O=x/1e3;hT(g.x,l.x,O),hT(g.y,l.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zl(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hL(this.relativeTarget,this.relativeTargetOrigin,d,O),S&&Q4(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ot()),Xn(S,this.relativeTarget)),w&&(this.animationValues=m,z4(m,h,this.latestValues,O,b,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,f,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ya(0)),this.currentAnimation=V4(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=l;if(!(!u||!f||!h)){if(this!==l&&this.layout&&h&&eS(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||Ot();const g=Tn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+g;const d=Tn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+d}Xn(u,f),fa(u,m),ql(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Y4),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Jm("z",l,h,this.animationValues);for(let m=0;m<Zm.length;m++)Jm(`rotate${Zm[m]}`,l,h,this.animationValues),Jm(`skew${Zm[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Z4;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=pf(l==null?void 0:l.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=pf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Gs(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=X4(this.projectionDeltaWithTransform,this.treeScale,m),f&&(u.transform=f(m,u.transform));const{x:g,y:d}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${d.origin*100}% 0`,h.animationValues?u.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in nu){if(m[y]===void 0)continue;const{correct:_,applyTo:w,isCSSVariable:T}=nu[y],E=u.transform==="none"?m[y]:_(m[y],h);if(w){const b=w.length;for(let S=0;S<b;S++)u[w[S]]=E}else T?this.options.visualElement.renderState.vars[y]=E:u[y]=E}return this.options.layoutId&&(u.pointerEvents=h===this?pf(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(cT),this.root.sharedNodes.clear()}}}function tL(n){n.updateLayout()}function nL(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?Zn(g=>{const d=l?e.measuredBox[g]:e.layoutBox[g],y=Tn(d);d.min=r[g].min,d.max=d.min+y}):eS(a,e.layoutBox,r)&&Zn(g=>{const d=l?e.measuredBox[g]:e.layoutBox[g],y=Tn(r[g]);d.max=d.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+y)});const u=ua();ql(u,r,e.layoutBox);const f=ua();l?ql(f,n.applyTransform(i,!0),e.measuredBox):ql(f,r,e.layoutBox);const h=!YA(u);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:d,layout:y}=g;if(d&&y){const _=Ot();zl(_,e.layoutBox,d.layoutBox);const w=Ot();zl(w,r,y.layoutBox),XA(_,w)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=_,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function rL(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function iL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function sL(n){n.clearSnapshot()}function cT(n){n.clearMeasurements()}function oL(n){n.isLayoutDirty=!1}function aL(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function fT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function lL(n){n.resolveTargetDelta()}function uL(n){n.calcProjection()}function cL(n){n.resetSkewAndRotation()}function fL(n){n.removeLeadSnapshot()}function hT(n,e,t){n.translate=bt(e.translate,0,t),n.scale=bt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function dT(n,e,t,r){n.min=bt(e.min,t.min,r),n.max=bt(e.max,t.max,r)}function hL(n,e,t,r){dT(n.x,e.x,t.x,r),dT(n.y,e.y,t.y,r)}function dL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const pL={duration:.45,ease:[.4,0,.1,1]},pT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),mT=pT("applewebkit/")&&!pT("chrome/")?Math.round:er;function gT(n){n.min=mT(n.min),n.max=mT(n.max)}function mL(n){gT(n.x),gT(n.y)}function eS(n,e,t){return n==="position"||n==="preserve-aspect"&&!y4(lT(e),lT(t),.2)}function gL(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const yL=JA({attachResizeListener:(n,e)=>iu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eg={current:void 0},tS=JA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!eg.current){const n=new yL({});n.mount(window),n.setOptions({layoutScroll:!0}),eg.current=n}return eg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),vL={pan:{Feature:D4},drag:{Feature:O4,ProjectionNode:tS,MeasureLayout:KA}};function yT(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&At.postRender(()=>a(e,Eu(e)))}class _L extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=$O(e,(t,r)=>(yT(this.node,r,"Start"),i=>yT(this.node,i,"End"))))}unmount(){}}class wL extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vu(iu(this.node.current,"focus",()=>this.onFocus()),iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vT(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&At.postRender(()=>a(e,Eu(e)))}class EL extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=QO(e,(t,r)=>(vT(this.node,r,"Start"),(i,{success:a})=>vT(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lg=new WeakMap,tg=new WeakMap,TL=n=>{const e=Lg.get(n.target);e&&e(n)},bL=n=>{n.forEach(TL)};function xL({root:n,...e}){const t=n||document;tg.has(t)||tg.set(t,{});const r=tg.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bL,{root:n,...e})),r[i]}function AL(n,e,t){const r=xL(e);return Lg.set(n,t),r.observe(n),()=>{Lg.delete(n),r.unobserve(n)}}const SL={some:0,all:1};class IL extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:SL[i]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),d=h?m:g;d&&d(f)};return AL(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(kL(e,t))&&this.startObserver()}unmount(){}}function kL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const RL={inView:{Feature:IL},tap:{Feature:EL},focus:{Feature:wL},hover:{Feature:_L}},PL={layout:{ProjectionNode:tS,MeasureLayout:KA}},Mg={current:null},nS={current:!1};function CL(){if(nS.current=!0,!!_y)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mg.current=n.matches;n.addListener(e),e()}else Mg.current=!1}const NL=new WeakMap;function OL(n,e,t){for(const r in e){const i=e[r],a=t[r];if(pn(i))n.addValue(r,i);else if(pn(a))n.addValue(r,ya(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,ya(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const _T=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DL{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=My,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Nn.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,At.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=fh(t),this.isVariantNode=bA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in g){const y=g[d];f[d]!==void 0&&pn(y)&&y.set(f[d],!1)}}mount(e){this.current=e,NL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),nS.current||CL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Na.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in va){const t=va[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<_T.length;r++){const i=_T[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=OL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ya(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Cx(r)||Ox(r))?r=parseFloat(r):!ZO(r)&&os.test(t)&&(r=pA(e,t)),this.setBaseTarget(e,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const l=Qy(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new xy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class rS extends DL{constructor(){super(...arguments),this.KeyframeResolver=UO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function iS(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}function LL(n){return window.getComputedStyle(n)}class ML extends rS{constructor(){super(...arguments),this.type="html",this.renderInstance=iS}readValueFromInstance(e,t){var r;if(Na.has(t))return(r=this.projection)!=null&&r.isProjecting?bg(t):sO(e,t);{const i=LL(e),a=(Iy(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return zA(e,t)}build(e,t,r){Wy(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Yy(e,t,r)}}const sS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jL(n,e,t,r){iS(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(sS.has(i)?i:$y(i),e.attrs[i])}class VL extends rS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Na.has(t)){const r=dA(t);return r&&r.default||0}return t=sS.has(t)?t:$y(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return OA(e,t,r)}build(e,t,r){RA(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){jL(e,t,r,i)}mount(e){this.isSVGTag=CA(e.tagName),super.mount(e)}}const FL=(n,e)=>Gy(n)?new VL(e):new ML(e,{allowProjection:n!==se.Fragment}),UL=jD({...u4,...RL,...vL,...PL},FL),BL=lD(UL),qL=()=>{};var wT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},zL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,h=f?n[i+2]:0,m=a>>2,g=(a&3)<<4|u>>4;let d=(u&15)<<2|h>>6,y=h&63;f||(y=64,l||(d=64)),r.push(t[m],t[g],t[d],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||g==null)throw new HL;const d=a<<2|u>>4;if(r.push(d),h!==64){const y=u<<4&240|h>>2;if(r.push(y),g!==64){const _=h<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $L=function(n){const e=oS(n);return aS.encodeByteArray(e,!0)},Nf=function(n){return $L(n).replace(/\./g,"")},lS=function(n){try{return aS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=()=>WL().__FIREBASE_DEFAULTS__,GL=()=>{if(typeof process>"u"||typeof wT>"u")return;const n=wT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lS(n[1]);return e&&JSON.parse(e)},hh=()=>{try{return qL()||KL()||GL()||QL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uS=n=>{var e,t;return(t=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cS=n=>{const e=uS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fS=()=>{var n;return(n=hh())===null||n===void 0?void 0:n.config},hS=n=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(n){return n.endsWith(".cloudworkstations.dev")}async function Zy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nf(JSON.stringify(t)),Nf(JSON.stringify(l)),""].join(".")}const Hl={};function XL(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?n.emulator.push(e):n.prod.push(e);return n}function ZL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ET=!1;function Jy(n,e){if(typeof window>"u"||typeof document>"u"||!gs(window.location.host)||Hl[n]===e||Hl[n]||ET)return;Hl[n]=e;function t(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=XL().prod.length>0;function l(){const d=document.getElementById(r);d&&d.remove()}function u(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function f(d,y){d.setAttribute("width","24"),d.setAttribute("id",y),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function h(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{ET=!0,l()},d}function m(d,y){d.setAttribute("id",y),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function g(){const d=ZL(r),y=t("text"),_=document.getElementById(y)||document.createElement("span"),w=t("learnmore"),T=document.getElementById(w)||document.createElement("a"),E=t("preprendIcon"),b=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const S=d.element;u(S),m(T,w);const x=h();f(b,E),S.append(b,_,T,x),document.body.appendChild(S)}a?(_.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function e5(){var n;const e=(n=hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function r5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i5(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function s5(){return!e5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o5(){try{return typeof indexedDB=="object"}catch{return!1}}function a5(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="FirebaseError";class Gr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=l5,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?u5(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Gr(i,u,r)}}function u5(n,e){return n.replace(c5,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const c5=/\{\$([^}]+)}/g;function f5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ro(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(TT(a)&&TT(l)){if(!ro(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function TT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function h5(n,e){const t=new d5(n,e);return t.subscribe.bind(t)}class d5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");p5(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ng),i.error===void 0&&(i.error=ng),i.complete===void 0&&(i.complete=ng);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n){return n&&n._delegate?n._delegate:n}class as{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y5(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g5(n){return n===Qs?void 0:n}function y5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new m5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const _5={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},w5=Ze.INFO,E5={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},T5=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=E5[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ev{constructor(e){this.name=e,this._logLevel=w5,this._logHandler=T5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const b5=(n,e)=>e.some(t=>n instanceof t);let bT,xT;function x5(){return bT||(bT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A5(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,jg=new WeakMap,mS=new WeakMap,rg=new WeakMap,tv=new WeakMap;function S5(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(es(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&pS.set(t,n)}).catch(()=>{}),tv.set(e,n),e}function I5(n){if(jg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});jg.set(n,e)}let Vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function k5(n){Vg=n(Vg)}function R5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ig(this),e,...t);return mS.set(r,e.sort?e.sort():[e]),es(r)}:A5().includes(n)?function(...e){return n.apply(ig(this),e),es(pS.get(this))}:function(...e){return es(n.apply(ig(this),e))}}function P5(n){return typeof n=="function"?R5(n):(n instanceof IDBTransaction&&I5(n),b5(n,x5())?new Proxy(n,Vg):n)}function es(n){if(n instanceof IDBRequest)return S5(n);if(rg.has(n))return rg.get(n);const e=P5(n);return e!==n&&(rg.set(n,e),tv.set(e,n)),e}const ig=n=>tv.get(n);function C5(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=es(l);return r&&l.addEventListener("upgradeneeded",f=>{r(es(l.result),f.oldVersion,f.newVersion,es(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const N5=["get","getKey","getAll","getAllKeys","count"],O5=["put","add","delete","clear"],sg=new Map;function AT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=O5.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||N5.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&f.done]))[0]};return sg.set(e,a),a}k5(n=>({...n,get:(e,t,r)=>AT(e,t)||n.get(e,t,r),has:(e,t)=>!!AT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(L5(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function L5(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fg="@firebase/app",ST="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new ev("@firebase/app"),M5="@firebase/app-compat",j5="@firebase/analytics-compat",V5="@firebase/analytics",F5="@firebase/app-check-compat",U5="@firebase/app-check",B5="@firebase/auth",q5="@firebase/auth-compat",z5="@firebase/database",H5="@firebase/data-connect",$5="@firebase/database-compat",W5="@firebase/functions",K5="@firebase/functions-compat",G5="@firebase/installations",Q5="@firebase/installations-compat",Y5="@firebase/messaging",X5="@firebase/messaging-compat",Z5="@firebase/performance",J5="@firebase/performance-compat",eM="@firebase/remote-config",tM="@firebase/remote-config-compat",nM="@firebase/storage",rM="@firebase/storage-compat",iM="@firebase/firestore",sM="@firebase/ai",oM="@firebase/firestore-compat",aM="firebase",lM="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",uM={[Fg]:"fire-core",[M5]:"fire-core-compat",[V5]:"fire-analytics",[j5]:"fire-analytics-compat",[U5]:"fire-app-check",[F5]:"fire-app-check-compat",[B5]:"fire-auth",[q5]:"fire-auth-compat",[z5]:"fire-rtdb",[H5]:"fire-data-connect",[$5]:"fire-rtdb-compat",[W5]:"fire-fn",[K5]:"fire-fn-compat",[G5]:"fire-iid",[Q5]:"fire-iid-compat",[Y5]:"fire-fcm",[X5]:"fire-fcm-compat",[Z5]:"fire-perf",[J5]:"fire-perf-compat",[eM]:"fire-rc",[tM]:"fire-rc-compat",[nM]:"fire-gcs",[rM]:"fire-gcs-compat",[iM]:"fire-fst",[oM]:"fire-fst-compat",[sM]:"fire-vertex","fire-js":"fire-js",[aM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,cM=new Map,Bg=new Map;function IT(n,e){try{n.container.addComponent(e)}catch(t){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function io(n){const e=n.name;if(Bg.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,n);for(const t of Of.values())IT(t,n);for(const t of cM.values())IT(t,n);return!0}function dh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _r(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Tu("app","Firebase",fM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=lM;function gS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ug,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(t||(t=fS()),!t)throw ts.create("no-options");const a=Of.get(i);if(a){if(ro(t,a.options)&&ro(r,a.config))return a;throw ts.create("duplicate-app",{appName:i})}const l=new v5(i);for(const f of Bg.values())l.addComponent(f);const u=new hM(t,r,l);return Of.set(i,u),u}function nv(n=Ug){const e=Of.get(n);if(!e&&n===Ug&&fS())return gS();if(!e)throw ts.create("no-app",{appName:n});return e}function Fr(n,e,t){var r;let i=(r=uM[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(u.join(" "));return}io(new as(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="firebase-heartbeat-database",pM=1,su="firebase-heartbeat-store";let og=null;function yS(){return og||(og=C5(dM,pM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(n=>{throw ts.create("idb-open",{originalErrorMessage:n.message})})),og}async function mM(n){try{const t=(await yS()).transaction(su),r=await t.objectStore(su).get(vS(n));return await t.done,r}catch(e){if(e instanceof Gr)gi.warn(e.message);else{const t=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(t.message)}}}async function kT(n,e){try{const r=(await yS()).transaction(su,"readwrite");await r.objectStore(su).put(e,vS(n)),await r.done}catch(t){if(t instanceof Gr)gi.warn(t.message);else{const r=ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gi.warn(r.message)}}}function vS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=1024,yM=30;class vM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=RT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yM){const l=EM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=RT(),{heartbeatsToSend:r,unsentEntries:i}=_M(this._heartbeatsCache.heartbeats),a=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return gi.warn(t),""}}}function RT(){return new Date().toISOString().substring(0,10)}function _M(n,e=gM){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),PT(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o5()?a5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return kT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return kT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PT(n){return Nf(JSON.stringify({version:2,heartbeats:n})).length}function EM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(n){io(new as("platform-logger",e=>new D5(e),"PRIVATE")),io(new as("heartbeat",e=>new vM(e),"PRIVATE")),Fr(Fg,ST,n),Fr(Fg,ST,"esm2017"),Fr("fire-js","")}TM("");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,_S;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function M(){}M.prototype=I.prototype,R.D=I.prototype,R.prototype=new M,R.prototype.constructor=R,R.C=function(C,k,L){for(var D=Array(arguments.length-2),$=2;$<arguments.length;$++)D[$-2]=arguments[$];return I.prototype[k].apply(C,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,M){M||(M=0);var C=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)C[k]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(k=0;16>k;++k)C[k]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=R.g[0],M=R.g[1],k=R.g[2];var L=R.g[3],D=I+(L^M&(k^L))+C[0]+3614090360&4294967295;I=M+(D<<7&4294967295|D>>>25),D=L+(k^I&(M^k))+C[1]+3905402710&4294967295,L=I+(D<<12&4294967295|D>>>20),D=k+(M^L&(I^M))+C[2]+606105819&4294967295,k=L+(D<<17&4294967295|D>>>15),D=M+(I^k&(L^I))+C[3]+3250441966&4294967295,M=k+(D<<22&4294967295|D>>>10),D=I+(L^M&(k^L))+C[4]+4118548399&4294967295,I=M+(D<<7&4294967295|D>>>25),D=L+(k^I&(M^k))+C[5]+1200080426&4294967295,L=I+(D<<12&4294967295|D>>>20),D=k+(M^L&(I^M))+C[6]+2821735955&4294967295,k=L+(D<<17&4294967295|D>>>15),D=M+(I^k&(L^I))+C[7]+4249261313&4294967295,M=k+(D<<22&4294967295|D>>>10),D=I+(L^M&(k^L))+C[8]+1770035416&4294967295,I=M+(D<<7&4294967295|D>>>25),D=L+(k^I&(M^k))+C[9]+2336552879&4294967295,L=I+(D<<12&4294967295|D>>>20),D=k+(M^L&(I^M))+C[10]+4294925233&4294967295,k=L+(D<<17&4294967295|D>>>15),D=M+(I^k&(L^I))+C[11]+2304563134&4294967295,M=k+(D<<22&4294967295|D>>>10),D=I+(L^M&(k^L))+C[12]+1804603682&4294967295,I=M+(D<<7&4294967295|D>>>25),D=L+(k^I&(M^k))+C[13]+4254626195&4294967295,L=I+(D<<12&4294967295|D>>>20),D=k+(M^L&(I^M))+C[14]+2792965006&4294967295,k=L+(D<<17&4294967295|D>>>15),D=M+(I^k&(L^I))+C[15]+1236535329&4294967295,M=k+(D<<22&4294967295|D>>>10),D=I+(k^L&(M^k))+C[1]+4129170786&4294967295,I=M+(D<<5&4294967295|D>>>27),D=L+(M^k&(I^M))+C[6]+3225465664&4294967295,L=I+(D<<9&4294967295|D>>>23),D=k+(I^M&(L^I))+C[11]+643717713&4294967295,k=L+(D<<14&4294967295|D>>>18),D=M+(L^I&(k^L))+C[0]+3921069994&4294967295,M=k+(D<<20&4294967295|D>>>12),D=I+(k^L&(M^k))+C[5]+3593408605&4294967295,I=M+(D<<5&4294967295|D>>>27),D=L+(M^k&(I^M))+C[10]+38016083&4294967295,L=I+(D<<9&4294967295|D>>>23),D=k+(I^M&(L^I))+C[15]+3634488961&4294967295,k=L+(D<<14&4294967295|D>>>18),D=M+(L^I&(k^L))+C[4]+3889429448&4294967295,M=k+(D<<20&4294967295|D>>>12),D=I+(k^L&(M^k))+C[9]+568446438&4294967295,I=M+(D<<5&4294967295|D>>>27),D=L+(M^k&(I^M))+C[14]+3275163606&4294967295,L=I+(D<<9&4294967295|D>>>23),D=k+(I^M&(L^I))+C[3]+4107603335&4294967295,k=L+(D<<14&4294967295|D>>>18),D=M+(L^I&(k^L))+C[8]+1163531501&4294967295,M=k+(D<<20&4294967295|D>>>12),D=I+(k^L&(M^k))+C[13]+2850285829&4294967295,I=M+(D<<5&4294967295|D>>>27),D=L+(M^k&(I^M))+C[2]+4243563512&4294967295,L=I+(D<<9&4294967295|D>>>23),D=k+(I^M&(L^I))+C[7]+1735328473&4294967295,k=L+(D<<14&4294967295|D>>>18),D=M+(L^I&(k^L))+C[12]+2368359562&4294967295,M=k+(D<<20&4294967295|D>>>12),D=I+(M^k^L)+C[5]+4294588738&4294967295,I=M+(D<<4&4294967295|D>>>28),D=L+(I^M^k)+C[8]+2272392833&4294967295,L=I+(D<<11&4294967295|D>>>21),D=k+(L^I^M)+C[11]+1839030562&4294967295,k=L+(D<<16&4294967295|D>>>16),D=M+(k^L^I)+C[14]+4259657740&4294967295,M=k+(D<<23&4294967295|D>>>9),D=I+(M^k^L)+C[1]+2763975236&4294967295,I=M+(D<<4&4294967295|D>>>28),D=L+(I^M^k)+C[4]+1272893353&4294967295,L=I+(D<<11&4294967295|D>>>21),D=k+(L^I^M)+C[7]+4139469664&4294967295,k=L+(D<<16&4294967295|D>>>16),D=M+(k^L^I)+C[10]+3200236656&4294967295,M=k+(D<<23&4294967295|D>>>9),D=I+(M^k^L)+C[13]+681279174&4294967295,I=M+(D<<4&4294967295|D>>>28),D=L+(I^M^k)+C[0]+3936430074&4294967295,L=I+(D<<11&4294967295|D>>>21),D=k+(L^I^M)+C[3]+3572445317&4294967295,k=L+(D<<16&4294967295|D>>>16),D=M+(k^L^I)+C[6]+76029189&4294967295,M=k+(D<<23&4294967295|D>>>9),D=I+(M^k^L)+C[9]+3654602809&4294967295,I=M+(D<<4&4294967295|D>>>28),D=L+(I^M^k)+C[12]+3873151461&4294967295,L=I+(D<<11&4294967295|D>>>21),D=k+(L^I^M)+C[15]+530742520&4294967295,k=L+(D<<16&4294967295|D>>>16),D=M+(k^L^I)+C[2]+3299628645&4294967295,M=k+(D<<23&4294967295|D>>>9),D=I+(k^(M|~L))+C[0]+4096336452&4294967295,I=M+(D<<6&4294967295|D>>>26),D=L+(M^(I|~k))+C[7]+1126891415&4294967295,L=I+(D<<10&4294967295|D>>>22),D=k+(I^(L|~M))+C[14]+2878612391&4294967295,k=L+(D<<15&4294967295|D>>>17),D=M+(L^(k|~I))+C[5]+4237533241&4294967295,M=k+(D<<21&4294967295|D>>>11),D=I+(k^(M|~L))+C[12]+1700485571&4294967295,I=M+(D<<6&4294967295|D>>>26),D=L+(M^(I|~k))+C[3]+2399980690&4294967295,L=I+(D<<10&4294967295|D>>>22),D=k+(I^(L|~M))+C[10]+4293915773&4294967295,k=L+(D<<15&4294967295|D>>>17),D=M+(L^(k|~I))+C[1]+2240044497&4294967295,M=k+(D<<21&4294967295|D>>>11),D=I+(k^(M|~L))+C[8]+1873313359&4294967295,I=M+(D<<6&4294967295|D>>>26),D=L+(M^(I|~k))+C[15]+4264355552&4294967295,L=I+(D<<10&4294967295|D>>>22),D=k+(I^(L|~M))+C[6]+2734768916&4294967295,k=L+(D<<15&4294967295|D>>>17),D=M+(L^(k|~I))+C[13]+1309151649&4294967295,M=k+(D<<21&4294967295|D>>>11),D=I+(k^(M|~L))+C[4]+4149444226&4294967295,I=M+(D<<6&4294967295|D>>>26),D=L+(M^(I|~k))+C[11]+3174756917&4294967295,L=I+(D<<10&4294967295|D>>>22),D=k+(I^(L|~M))+C[2]+718787259&4294967295,k=L+(D<<15&4294967295|D>>>17),D=M+(L^(k|~I))+C[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var M=I-this.blockSize,C=this.B,k=this.h,L=0;L<I;){if(k==0)for(;L<=M;)i(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<I;)if(C[k++]=R.charCodeAt(L++),k==this.blockSize){i(this,C),k=0;break}}else for(;L<I;)if(C[k++]=R[L++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var M=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=M&255,M/=256;for(this.u(R),R=Array(16),I=M=0;4>I;++I)for(var C=0;32>C;C+=8)R[M++]=this.g[I]>>>C&255;return R};function a(R,I){var M=u;return Object.prototype.hasOwnProperty.call(M,R)?M[R]:M[R]=I(R)}function l(R,I){this.h=I;for(var M=[],C=!0,k=R.length-1;0<=k;k--){var L=R[k]|0;C&&L==I||(M[k]=L,C=!1)}this.g=M}var u={};function f(R){return-128<=R&&128>R?a(R,function(I){return new l([I|0],0>I?-1:0)}):new l([R|0],0>R?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return T(h(-R));for(var I=[],M=1,C=0;R>=M;C++)I[C]=R/M|0,M*=4294967296;return new l(I,0)}function m(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return T(m(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(I,8)),C=g,k=0;k<R.length;k+=8){var L=Math.min(8,R.length-k),D=parseInt(R.substring(k,k+L),I);8>L?(L=h(Math.pow(I,L)),C=C.j(L).add(h(D))):(C=C.j(M),C=C.add(h(D)))}return C}var g=f(0),d=f(1),y=f(16777216);n=l.prototype,n.m=function(){if(w(this))return-T(this).m();for(var R=0,I=1,M=0;M<this.g.length;M++){var C=this.i(M);R+=(0<=C?C:4294967296+C)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(_(this))return"0";if(w(this))return"-"+T(this).toString(R);for(var I=h(Math.pow(R,6)),M=this,C="";;){var k=x(M,I).g;M=E(M,k.j(I));var L=((0<M.g.length?M.g[0]:M.h)>>>0).toString(R);if(M=k,_(M))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function _(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function w(R){return R.h==-1}n.l=function(R){return R=E(this,R),w(R)?-1:_(R)?0:1};function T(R){for(var I=R.g.length,M=[],C=0;C<I;C++)M[C]=~R.g[C];return new l(M,~R.h).add(d)}n.abs=function(){return w(this)?T(this):this},n.add=function(R){for(var I=Math.max(this.g.length,R.g.length),M=[],C=0,k=0;k<=I;k++){var L=C+(this.i(k)&65535)+(R.i(k)&65535),D=(L>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);C=D>>>16,L&=65535,D&=65535,M[k]=D<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function E(R,I){return R.add(T(I))}n.j=function(R){if(_(this)||_(R))return g;if(w(this))return w(R)?T(this).j(T(R)):T(T(this).j(R));if(w(R))return T(this.j(T(R)));if(0>this.l(y)&&0>R.l(y))return h(this.m()*R.m());for(var I=this.g.length+R.g.length,M=[],C=0;C<2*I;C++)M[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<R.g.length;k++){var L=this.i(C)>>>16,D=this.i(C)&65535,$=R.i(k)>>>16,G=R.i(k)&65535;M[2*C+2*k]+=D*G,b(M,2*C+2*k),M[2*C+2*k+1]+=L*G,b(M,2*C+2*k+1),M[2*C+2*k+1]+=D*$,b(M,2*C+2*k+1),M[2*C+2*k+2]+=L*$,b(M,2*C+2*k+2)}for(C=0;C<I;C++)M[C]=M[2*C+1]<<16|M[2*C];for(C=I;C<2*I;C++)M[C]=0;return new l(M,0)};function b(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function S(R,I){this.g=R,this.h=I}function x(R,I){if(_(I))throw Error("division by zero");if(_(R))return new S(g,g);if(w(R))return I=x(T(R),I),new S(T(I.g),T(I.h));if(w(I))return I=x(R,T(I)),new S(T(I.g),I.h);if(30<R.g.length){if(w(R)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var M=d,C=I;0>=C.l(R);)M=O(M),C=O(C);var k=U(M,1),L=U(C,1);for(C=U(C,2),M=U(M,2);!_(C);){var D=L.add(C);0>=D.l(R)&&(k=k.add(M),L=D),C=U(C,1),M=U(M,1)}return I=E(R,k.j(I)),new S(k,I)}for(k=g;0<=R.l(I);){for(M=Math.max(1,Math.floor(R.m()/I.m())),C=Math.ceil(Math.log(M)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=h(M),D=L.j(I);w(D)||0<D.l(R);)M-=C,L=h(M),D=L.j(I);_(L)&&(L=d),k=k.add(L),R=E(R,D)}return new S(k,R)}n.A=function(R){return x(this,R).h},n.and=function(R){for(var I=Math.max(this.g.length,R.g.length),M=[],C=0;C<I;C++)M[C]=this.i(C)&R.i(C);return new l(M,this.h&R.h)},n.or=function(R){for(var I=Math.max(this.g.length,R.g.length),M=[],C=0;C<I;C++)M[C]=this.i(C)|R.i(C);return new l(M,this.h|R.h)},n.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),M=[],C=0;C<I;C++)M[C]=this.i(C)^R.i(C);return new l(M,this.h^R.h)};function O(R){for(var I=R.g.length+1,M=[],C=0;C<I;C++)M[C]=R.i(C)<<1|R.i(C-1)>>>31;return new l(M,R.h)}function U(R,I){var M=I>>5;I%=32;for(var C=R.g.length-M,k=[],L=0;L<C;L++)k[L]=0<I?R.i(L+M)>>>I|R.i(L+M+1)<<32-I:R.i(L+M);return new l(k,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_S=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,ns=l}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wS,Ml,ES,gf,qg,TS,bS,xS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,P,F){return p==Array.prototype||p==Object.prototype||(p[P]=F.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var P=0;P<p.length;++P){var F=p[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=t(this);function i(p,P){if(P)e:{var F=r;p=p.split(".");for(var z=0;z<p.length-1;z++){var le=p[z];if(!(le in F))break e;F=F[le]}p=p[p.length-1],z=F[p],P=P(z),P!=z&&P!=null&&e(F,p,{configurable:!0,writable:!0,value:P})}}function a(p,P){p instanceof String&&(p+="");var F=0,z=!1,le={next:function(){if(!z&&F<p.length){var he=F++;return{value:P(he,p[he]),done:!1}}return z=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}i("Array.prototype.values",function(p){return p||function(){return a(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(p){var P=typeof p;return P=P!="object"?P:p?Array.isArray(p)?"array":P:"null",P=="array"||P=="object"&&typeof p.length=="number"}function h(p){var P=typeof p;return P=="object"&&p!=null||P=="function"}function m(p,P,F){return p.call.apply(p.bind,arguments)}function g(p,P,F){if(!p)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,z),p.apply(P,le)}}return function(){return p.apply(P,arguments)}}function d(p,P,F){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,d.apply(null,arguments)}function y(p,P){var F=Array.prototype.slice.call(arguments,1);return function(){var z=F.slice();return z.push.apply(z,arguments),p.apply(this,z)}}function _(p,P){function F(){}F.prototype=P.prototype,p.aa=P.prototype,p.prototype=new F,p.prototype.constructor=p,p.Qb=function(z,le,he){for(var xe=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)xe[ct-2]=arguments[ct];return P.prototype[le].apply(z,xe)}}function w(p){const P=p.length;if(0<P){const F=Array(P);for(let z=0;z<P;z++)F[z]=p[z];return F}return[]}function T(p,P){for(let F=1;F<arguments.length;F++){const z=arguments[F];if(f(z)){const le=p.length||0,he=z.length||0;p.length=le+he;for(let xe=0;xe<he;xe++)p[le+xe]=z[xe]}else p.push(z)}}class E{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function b(p){return/^[\s\xa0]*$/.test(p)}function S(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function x(p){return x[" "](p),p}x[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function U(p,P,F){for(const z in p)P.call(F,p[z],z,p)}function R(p,P){for(const F in p)P.call(void 0,p[F],F,p)}function I(p){const P={};for(const F in p)P[F]=p[F];return P}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(p,P){let F,z;for(let le=1;le<arguments.length;le++){z=arguments[le];for(F in z)p[F]=z[F];for(let he=0;he<M.length;he++)F=M[he],Object.prototype.hasOwnProperty.call(z,F)&&(p[F]=z[F])}}function k(p){var P=1;p=p.split(":");const F=[];for(;0<P&&p.length;)F.push(p.shift()),P--;return p.length&&F.push(p.join(":")),F}function L(p){u.setTimeout(()=>{throw p},0)}function D(){var p=Y;let P=null;return p.g&&(P=p.g,p.g=p.g.next,p.g||(p.h=null),P.next=null),P}class ${constructor(){this.h=this.g=null}add(P,F){const z=G.get();z.set(P,F),this.h?this.h.next=z:this.g=z,this.h=z}}var G=new E(()=>new ie,p=>p.reset());class ie{constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,Y=new $,W=()=>{const p=u.Promise.resolve(void 0);ee=()=>{p.then(V)}};var V=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(F){L(F)}var P=G;P.j(p),100>P.h&&(P.h++,p.next=P.g,P.g=p)}re=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(p,P){this.type=p,this.g=this.target=P,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,P=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const F=()=>{};u.addEventListener("test",F,P),u.removeEventListener("test",F,P)}catch{}return p}();function J(p,P){if(K.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var F=this.type=p.type,z=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=P,P=p.relatedTarget){if(O){e:{try{x(P.nodeName);var le=!0;break e}catch{}le=!1}le||(P=null)}}else F=="mouseover"?P=p.fromElement:F=="mouseout"&&(P=p.toElement);this.relatedTarget=P,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:H[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&J.aa.h.call(this)}}_(J,K);var H={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ae(p,P,F,z,le){this.listener=p,this.proxy=null,this.src=P,this.type=F,this.capture=!!z,this.ha=le,this.key=++oe,this.da=this.fa=!1}function pe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Se(p){this.src=p,this.g={},this.h=0}Se.prototype.add=function(p,P,F,z,le){var he=p.toString();p=this.g[he],p||(p=this.g[he]=[],this.h++);var xe=Ve(p,P,z,le);return-1<xe?(P=p[xe],F||(P.fa=!1)):(P=new ae(P,this.src,he,!!z,le),P.fa=F,p.push(P)),P};function Le(p,P){var F=P.type;if(F in p.g){var z=p.g[F],le=Array.prototype.indexOf.call(z,P,void 0),he;(he=0<=le)&&Array.prototype.splice.call(z,le,1),he&&(pe(P),p.g[F].length==0&&(delete p.g[F],p.h--))}}function Ve(p,P,F,z){for(var le=0;le<p.length;++le){var he=p[le];if(!he.da&&he.listener==P&&he.capture==!!F&&he.ha==z)return le}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),Xe={};function Lt(p,P,F,z,le){if(Array.isArray(P)){for(var he=0;he<P.length;he++)Lt(p,P[he],F,z,le);return null}return F=Ge(F),p&&p[X]?p.K(P,F,h(z)?!!z.capture:!1,le):mt(p,P,F,!1,z,le)}function mt(p,P,F,z,le,he){if(!P)throw Error("Invalid event type");var xe=h(le)?!!le.capture:!!le,ct=ze(p);if(ct||(p[Ke]=ct=new Se(p)),F=ct.add(P,F,z,xe,he),F.proxy)return F;if(z=de(),F.proxy=z,z.src=p,z.listener=F,p.addEventListener)te||(le=xe),le===void 0&&(le=!1),p.addEventListener(P.toString(),z,le);else if(p.attachEvent)p.attachEvent(Ae(P.toString()),z);else if(p.addListener&&p.removeListener)p.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return F}function de(){function p(F){return P.call(p.src,p.listener,F)}const P=ve;return p}function me(p,P,F,z,le){if(Array.isArray(P))for(var he=0;he<P.length;he++)me(p,P[he],F,z,le);else z=h(z)?!!z.capture:!!z,F=Ge(F),p&&p[X]?(p=p.i,P=String(P).toString(),P in p.g&&(he=p.g[P],F=Ve(he,F,z,le),-1<F&&(pe(he[F]),Array.prototype.splice.call(he,F,1),he.length==0&&(delete p.g[P],p.h--)))):p&&(p=ze(p))&&(P=p.g[P.toString()],p=-1,P&&(p=Ve(P,F,z,le)),(F=-1<p?P[p]:null)&&be(F))}function be(p){if(typeof p!="number"&&p&&!p.da){var P=p.src;if(P&&P[X])Le(P.i,p);else{var F=p.type,z=p.proxy;P.removeEventListener?P.removeEventListener(F,z,p.capture):P.detachEvent?P.detachEvent(Ae(F),z):P.addListener&&P.removeListener&&P.removeListener(z),(F=ze(P))?(Le(F,p),F.h==0&&(F.src=null,P[Ke]=null)):pe(p)}}}function Ae(p){return p in Xe?Xe[p]:Xe[p]="on"+p}function ve(p,P){if(p.da)p=!0;else{P=new J(P,this);var F=p.listener,z=p.ha||p.src;p.fa&&be(p),p=F.call(z,P)}return p}function ze(p){return p=p[Ke],p instanceof Se?p:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(p){return typeof p=="function"?p:(p[He]||(p[He]=function(P){return p.handleEvent(P)}),p[He])}function st(){q.call(this),this.i=new Se(this),this.M=this,this.F=null}_(st,q),st.prototype[X]=!0,st.prototype.removeEventListener=function(p,P,F,z){me(this,p,P,F,z)};function lt(p,P){var F,z=p.F;if(z)for(F=[];z;z=z.F)F.push(z);if(p=p.M,z=P.type||P,typeof P=="string")P=new K(P,p);else if(P instanceof K)P.target=P.target||p;else{var le=P;P=new K(z,p),C(P,le)}if(le=!0,F)for(var he=F.length-1;0<=he;he--){var xe=P.g=F[he];le=rt(xe,z,!0,P)&&le}if(xe=P.g=p,le=rt(xe,z,!0,P)&&le,le=rt(xe,z,!1,P)&&le,F)for(he=0;he<F.length;he++)xe=P.g=F[he],le=rt(xe,z,!1,P)&&le}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,P;for(P in p.g){for(var F=p.g[P],z=0;z<F.length;z++)pe(F[z]);delete p.g[P],p.h--}}this.F=null},st.prototype.K=function(p,P,F,z){return this.i.add(String(p),P,!1,F,z)},st.prototype.L=function(p,P,F,z){return this.i.add(String(p),P,!0,F,z)};function rt(p,P,F,z){if(P=p.i.g[String(P)],!P)return!0;P=P.concat();for(var le=!0,he=0;he<P.length;++he){var xe=P[he];if(xe&&!xe.da&&xe.capture==F){var ct=xe.listener,qt=xe.ha||xe.src;xe.fa&&Le(p.i,xe),le=ct.call(qt,z)!==!1&&le}}return le&&!z.defaultPrevented}function vs(p,P,F){if(typeof p=="function")F&&(p=d(p,F));else if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:u.setTimeout(p,P||0)}function ut(p){p.g=vs(()=>{p.g=null,p.i&&(p.i=!1,ut(p))},p.l);const P=p.h;p.h=null,p.m.apply(null,P)}class on extends q{constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(p){q.call(this),this.h=p,this.g={}}_(_s,q);var Fa=[];function Ua(p){U(p.g,function(P,F){this.g.hasOwnProperty(F)&&be(P)},p),p.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Ua(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ba=u.JSON.stringify,qa=u.JSON.parse,za=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function ws(){}ws.prototype.h=null;function go(p){return p.h||(p.h=p.i())}function yo(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){K.call(this,"d")}_(br,K);function vo(){K.call(this,"c")}_(vo,K);var xr={},Ha=null;function Es(){return Ha=Ha||new st}xr.La="serverreachability";function $a(p){K.call(this,xr.La,p)}_($a,K);function Qr(p){const P=Es();lt(P,new $a(P))}xr.STAT_EVENT="statevent";function Wa(p,P){K.call(this,xr.STAT_EVENT,p),this.stat=P}_(Wa,K);function Ct(p){const P=Es();lt(P,new Wa(P,p))}xr.Ma="timingevent";function _o(p,P){K.call(this,xr.Ma,p),this.size=P}_(_o,K);function nr(p,P){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},P)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function bs(p,P,F,z,le,he){p.info(function(){if(p.g)if(he)for(var xe="",ct=he.split("&"),qt=0;qt<ct.length;qt++){var tt=ct[qt].split("=");if(1<tt.length){var Wt=tt[0];tt=tt[1];var Mt=Wt.split("_");xe=2<=Mt.length&&Mt[1]=="type"?xe+(Wt+"="+tt+"&"):xe+(Wt+"=redacted&")}}else xe=null;else xe=he;return"XMLHTTP REQ ("+z+") [attempt "+le+"]: "+P+`
`+F+`
`+xe})}function wo(p,P,F,z,le,he,xe){p.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+le+"]: "+P+`
`+F+`
`+he+" "+xe})}function rr(p,P,F,z){p.info(function(){return"XMLHTTP TEXT ("+P+"): "+Ch(p,F)+(z?" "+z:"")})}function Ka(p,P){p.info(function(){return"TIMEOUT: "+P})}Ts.prototype.info=function(){};function Ch(p,P){if(!p.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(p=0;p<F.length;p++)if(Array.isArray(F[p])){var z=F[p];if(!(2>z.length)){var le=z[1];if(Array.isArray(le)&&!(1>le.length)){var he=le[0];if(he!="noop"&&he!="stop"&&he!="close")for(var xe=1;xe<le.length;xe++)le[xe]=""}}}}return Ba(F)}catch{return P}}var Eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function xs(){}_(xs,ws),xs.prototype.g=function(){return new XMLHttpRequest},xs.prototype.i=function(){return{}},ir=new xs;function sr(p,P,F,z){this.j=p,this.i=P,this.l=F,this.R=z||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ou}function Ou(){this.i=null,this.g="",this.h=!1}var Ga={},To={};function bo(p,P,F){p.L=1,p.v=Ii(Dn(P)),p.m=F,p.P=!0,Qa(p,null)}function Qa(p,P){p.F=Date.now(),ht(p),p.A=Dn(p.v);var F=p.A,z=p.R;Array.isArray(z)||(z=[String(z)]),Ri(F.i,"t",z),p.C=0,F=p.j.J,p.h=new Ou,p.g=Xu(p.j,F?P:null,!p.m),0<p.O&&(p.M=new on(d(p.Y,p,p.g),p.O)),P=p.U,F=p.g,z=p.ca;var le="readystatechange";Array.isArray(le)||(le&&(Fa[0]=le.toString()),le=Fa);for(var he=0;he<le.length;he++){var xe=Lt(F,le[he],z||P.handleEvent,!1,P.h||P);if(!xe)break;P.g[xe.key]=xe}P=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,P)):(p.u="GET",p.g.ea(p.A,p.u,null,P)),Qr(),bs(p.i,p.u,p.A,p.l,p.R,p.m)}sr.prototype.ca=function(p){p=p.target;const P=this.M;P&&xn(p)==3?P.j():this.Y(p)},sr.prototype.Y=function(p){try{if(p==this.g)e:{const Mt=xn(this.g);var P=this.g.Ba();const Hn=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Mt!=4||P==7||(P==8||0>=Hn?Qr(3):Qr(2)),As(this);var F=this.g.Z();this.X=F;t:if(Du(this)){var z=tl(this.g);p="";var le=z.length,he=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),bi(this);var xe="";break t}this.h.i=new u.TextDecoder}for(P=0;P<le;P++)this.h.h=!0,p+=this.h.i.decode(z[P],{stream:!(he&&P==le-1)});z.length=0,this.h.g+=p,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=F==200,wo(this.i,this.u,this.A,this.l,this.R,Mt,F),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,qt=this.g;if((ct=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ct)){var tt=ct;break t}}tt=null}if(F=tt)rr(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,F);else{this.o=!1,this.s=3,Ct(12),qn(this),bi(this);break e}}if(this.P){F=!0;let Mn;for(;!this.J&&this.C<xe.length;)if(Mn=Nh(this,xe),Mn==To){Mt==4&&(this.s=4,Ct(14),F=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Ga){this.s=4,Ct(15),rr(this.i,this.l,xe,"[Invalid Chunk]"),F=!1;break}else rr(this.i,this.l,Mn,null),Ya(this,Mn);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||xe.length!=0||this.h.h||(this.s=1,Ct(16),F=!1),this.o=this.o&&F,!F)rr(this.i,this.l,xe,"[Invalid Chunked Response]"),qn(this),bi(this);else if(0<xe.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),rl(Wt),Wt.M=!0,Ct(11))}}else rr(this.i,this.l,xe,null),Ya(this,xe);Mt==4&&qn(this),this.o&&!this.J&&(Mt==4?Do(this.j,this):(this.o=!1,ht(this)))}else Ro(this.g),F==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),qn(this),bi(this)}}}catch{}finally{}};function Du(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Nh(p,P){var F=p.C,z=P.indexOf(`
`,F);return z==-1?To:(F=Number(P.substring(F,z)),isNaN(F)?Ga:(z+=1,z+F>P.length?To:(P=P.slice(z,z+F),p.C=z+F,P)))}sr.prototype.cancel=function(){this.J=!0,qn(this)};function ht(p){p.S=Date.now()+p.I,Lu(p,p.I)}function Lu(p,P){if(p.B!=null)throw Error("WatchDog timer not null");p.B=nr(d(p.ba,p),P)}function As(p){p.B&&(u.clearTimeout(p.B),p.B=null)}sr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ka(this.i,this.A),this.L!=2&&(Qr(),Ct(17)),qn(this),this.s=2,bi(this)):Lu(this,this.S-p)};function bi(p){p.j.G==0||p.J||Do(p.j,p)}function qn(p){As(p);var P=p.M;P&&typeof P.ma=="function"&&P.ma(),p.M=null,Ua(p.U),p.g&&(P=p.g,p.g=null,P.abort(),P.ma())}function Ya(p,P){try{var F=p.j;if(F.G!=0&&(F.g==p||yn(F.h,p))){if(!p.K&&yn(F.h,p)&&F.G==3){try{var z=F.Da.g.parse(P)}catch{z=null}if(Array.isArray(z)&&z.length==3){var le=z;if(le[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<p.F)Oo(F),cr(F);else break e;No(F),Ct(18)}}else F.za=le[1],0<F.za-F.T&&37500>le[2]&&F.F&&F.v==0&&!F.C&&(F.C=nr(d(F.Za,F),6e3));if(1>=ju(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else ei(F,11)}else if((p.K||F.g==p)&&Oo(F),!b(P))for(le=F.Da.g.parse(P),P=0;P<le.length;P++){let tt=le[P];if(F.T=tt[0],tt=tt[1],F.G==2)if(tt[0]=="c"){F.K=tt[1],F.ia=tt[2];const Wt=tt[3];Wt!=null&&(F.la=Wt,F.j.info("VER="+F.la));const Mt=tt[4];Mt!=null&&(F.Aa=Mt,F.j.info("SVER="+F.Aa));const Hn=tt[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(z=1.5*Hn,F.L=z,F.j.info("backChannelRequestTimeoutMs_="+z)),z=F;const Mn=p.g;if(Mn){const Ns=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var he=z.h;he.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Xa(he,he.h),he.h=null))}if(z.D){const Mo=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(z.ya=Mo,ft(z.I,z.D,Mo))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-p.F,F.j.info("Handshake RTT: "+F.R+"ms")),z=F;var xe=p;if(z.qa=Yu(z,z.J?z.ia:null,z.W),xe.K){Vu(z.h,xe);var ct=xe,qt=z.L;qt&&(ct.I=qt),ct.B&&(As(ct),ht(ct)),z.g=xe}else Cs(z);0<F.i.length&&kr(F)}else tt[0]!="stop"&&tt[0]!="close"||ei(F,7);else F.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ei(F,7):Zt(F):tt[0]!="noop"&&F.l&&F.l.ta(tt),F.v=0)}}Qr(4)}catch{}}var Mu=class{constructor(p,P){this.g=p,this.map=P}};function Ss(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ju(p){return p.h?1:p.g?p.g.size:0}function yn(p,P){return p.h?p.h==P:p.g?p.g.has(P):!1}function Xa(p,P){p.g?p.g.add(P):p.h=P}function Vu(p,P){p.h&&p.h==P?p.h=null:p.g&&p.g.has(P)&&p.g.delete(P)}Ss.prototype.cancel=function(){if(this.i=Fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Fu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let P=p.i;for(const F of p.g.values())P=P.concat(F.D);return P}return w(p.i)}function xo(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var P=[],F=p.length,z=0;z<F;z++)P.push(p[z]);return P}P=[],F=0;for(z in p)P[F++]=p[z];return P}function Ao(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var P=[];p=p.length;for(var F=0;F<p;F++)P.push(F);return P}P=[],F=0;for(const z in p)P[F++]=z;return P}}}function xi(p,P){if(p.forEach&&typeof p.forEach=="function")p.forEach(P,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,P,void 0);else for(var F=Ao(p),z=xo(p),le=z.length,he=0;he<le;he++)P.call(void 0,z[he],F&&F[he],p)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oh(p,P){if(p){p=p.split("&");for(var F=0;F<p.length;F++){var z=p[F].indexOf("="),le=null;if(0<=z){var he=p[F].substring(0,z);le=p[F].substring(z+1)}else he=p[F];P(he,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Yr(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Yr){this.h=p.h,ks(this,p.j),this.o=p.o,this.g=p.g,Ai(this,p.s),this.l=p.l;var P=p.i,F=new Ar;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),Si(this,F),this.m=p.m}else p&&(P=String(p).match(Is))?(this.h=!1,ks(this,P[1]||"",!0),this.o=et(P[2]||""),this.g=et(P[3]||"",!0),Ai(this,P[4]),this.l=et(P[5]||"",!0),Si(this,P[6]||"",!0),this.m=et(P[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}Yr.prototype.toString=function(){var p=[],P=this.j;P&&p.push(ki(P,So,!0),":");var F=this.g;return(F||P=="file")&&(p.push("//"),(P=this.o)&&p.push(ki(P,So,!0),"@"),p.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&p.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&p.push("/"),p.push(ki(F,F.charAt(0)=="/"?qu:Bu,!0))),(F=this.i.toString())&&p.push("?",F),(F=this.m)&&p.push("#",ki(F,Za)),p.join("")};function Dn(p){return new Yr(p)}function ks(p,P,F){p.j=F?et(P,!0):P,p.j&&(p.j=p.j.replace(/:$/,""))}function Ai(p,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);p.s=P}else p.s=null}function Si(p,P,F){P instanceof Ar?(p.i=P,Sr(p.i,p.h)):(F||(P=ki(P,zu)),p.i=new Ar(P,p.h))}function ft(p,P,F){p.i.set(P,F)}function Ii(p){return ft(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function et(p,P){return p?P?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ki(p,P,F){return typeof p=="string"?(p=encodeURI(p).replace(P,Uu),F&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Uu(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var So=/[#\/\?@]/g,Bu=/[#\?:]/g,qu=/[#\?]/g,zu=/[#\?@]/g,Za=/#/g;function Ar(p,P){this.h=this.g=null,this.i=p||null,this.j=!!P}function Xt(p){p.g||(p.g=new Map,p.h=0,p.i&&Oh(p.i,function(P,F){p.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}n=Ar.prototype,n.add=function(p,P){Xt(this),this.i=null,p=zn(this,p);var F=this.g.get(p);return F||this.g.set(p,F=[]),F.push(P),this.h+=1,this};function or(p,P){Xt(p),P=zn(p,P),p.g.has(P)&&(p.i=null,p.h-=p.g.get(P).length,p.g.delete(P))}function ar(p,P){return Xt(p),P=zn(p,P),p.g.has(P)}n.forEach=function(p,P){Xt(this),this.g.forEach(function(F,z){F.forEach(function(le){p.call(P,le,z,this)},this)},this)},n.na=function(){Xt(this);const p=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let z=0;z<P.length;z++){const le=p[z];for(let he=0;he<le.length;he++)F.push(P[z])}return F},n.V=function(p){Xt(this);let P=[];if(typeof p=="string")ar(this,p)&&(P=P.concat(this.g.get(zn(this,p))));else{p=Array.from(this.g.values());for(let F=0;F<p.length;F++)P=P.concat(p[F])}return P},n.set=function(p,P){return Xt(this),this.i=null,p=zn(this,p),ar(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[P]),this.h+=1,this},n.get=function(p,P){return p?(p=this.V(p),0<p.length?String(p[0]):P):P};function Ri(p,P,F){or(p,P),0<F.length&&(p.i=null,p.g.set(zn(p,P),w(F)),p.h+=F.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var z=P[F];const he=encodeURIComponent(String(z)),xe=this.V(z);for(z=0;z<xe.length;z++){var le=he;xe[z]!==""&&(le+="="+encodeURIComponent(String(xe[z]))),p.push(le)}}return this.i=p.join("&")};function zn(p,P){return P=String(P),p.j&&(P=P.toLowerCase()),P}function Sr(p,P){P&&!p.j&&(Xt(p),p.i=null,p.g.forEach(function(F,z){var le=z.toLowerCase();z!=le&&(or(this,z),Ri(this,le,F))},p)),p.j=P}function Dh(p,P){const F=new Ts;if(u.Image){const z=new Image;z.onload=y(bn,F,"TestLoadImage: loaded",!0,P,z),z.onerror=y(bn,F,"TestLoadImage: error",!1,P,z),z.onabort=y(bn,F,"TestLoadImage: abort",!1,P,z),z.ontimeout=y(bn,F,"TestLoadImage: timeout",!1,P,z),u.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=p}else P(!1)}function Hu(p,P){const F=new Ts,z=new AbortController,le=setTimeout(()=>{z.abort(),bn(F,"TestPingServer: timeout",!1,P)},1e4);fetch(p,{signal:z.signal}).then(he=>{clearTimeout(le),he.ok?bn(F,"TestPingServer: ok",!0,P):bn(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(le),bn(F,"TestPingServer: error",!1,P)})}function bn(p,P,F,z,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),z(F)}catch{}}function Lh(){this.g=new za}function $u(p,P,F){const z=F||"";try{xi(p,function(le,he){let xe=le;h(le)&&(xe=Ba(le)),P.push(z+he+"="+encodeURIComponent(xe))})}catch(le){throw P.push(z+"type="+encodeURIComponent("_badmap")),le}}function Xr(p){this.l=p.Ub||null,this.j=p.eb||!1}_(Xr,ws),Xr.prototype.g=function(){return new Rs(this.l,this.j)},Xr.prototype.i=function(p){return function(){return p}}({});function Rs(p,P){st.call(this),this.D=p,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Rs,st),n=Rs.prototype,n.open=function(p,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=P,this.readyState=1,ur(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(P.body=p),(this.D||u).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var P=p.value?p.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!p.done}))&&(this.response=this.responseText+=P)}p.done?lr(this):ur(this),this.readyState==3&&Wu(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,lr(this))},n.Qa=function(p){this.g&&(this.response=p,lr(this))},n.ga=function(){this.g&&lr(this)};function lr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ur(p)}n.setRequestHeader=function(p,P){this.u.append(p,P)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,p.push(F[0]+": "+F[1]),F=P.next();return p.join(`\r
`)};function ur(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Zr(p){let P="";return U(p,function(F,z){P+=z,P+=":",P+=F,P+=`\r
`}),P}function Pi(p,P,F){e:{for(z in F){var z=!1;break e}z=!0}z||(F=Zr(F),typeof p=="string"?F!=null&&encodeURIComponent(String(F)):ft(p,P,F))}function _t(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(_t,st);var Mh=/^https?$/i,Ja=["POST","PUT"];n=_t.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,P,F,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);P=P?P.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?go(this.o):go(ir),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(p),!0),this.B=!1}catch(he){Ps(this,he);return}if(p=F||"",F=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var le in z)F.set(le,z[le]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const he of z.keys())F.set(he,z.get(he));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(F.keys()).find(he=>he.toLowerCase()=="content-type"),le=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ja,P,void 0))||z||le||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,xe]of F)this.g.setRequestHeader(he,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ko(this),this.u=!0,this.g.send(p),this.u=!1}catch(he){Ps(this,he)}};function Ps(p,P){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=P,p.m=5,Io(p),Ln(p)}function Io(p){p.A||(p.A=!0,lt(p,"complete"),lt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,lt(this,"complete"),lt(this,"abort"),Ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(p){if(p.h&&typeof l<"u"&&(!p.v[1]||xn(p)!=4||p.Z()!=2)){if(p.u&&xn(p)==4)vs(p.Ea,0,p);else if(lt(p,"readystatechange"),xn(p)==4){p.h=!1;try{const xe=p.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var z;if(z=xe===0){var le=String(p.D).match(Is)[1]||null;!le&&u.self&&u.self.location&&(le=u.self.location.protocol.slice(0,-1)),z=!Mh.test(le?le.toLowerCase():"")}F=z}if(F)lt(p,"complete"),lt(p,"success");else{p.m=6;try{var he=2<xn(p)?p.g.statusText:""}catch{he=""}p.l=he+" ["+p.Z()+"]",Io(p)}}finally{Ln(p)}}}}function Ln(p,P){if(p.g){ko(p);const F=p.g,z=p.v[0]?()=>{}:null;p.g=null,p.v=null,P||lt(p,"ready");try{F.onreadystatechange=z}catch{}}}function ko(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function xn(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var P=this.g.responseText;return p&&P.indexOf(p)==0&&(P=P.substring(p.length)),qa(P)}};function tl(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ro(p){const P={};p=(p.g&&2<=xn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<p.length;z++){if(b(p[z]))continue;var F=k(p[z]);const le=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const he=P[le]||[];P[le]=he,he.push(F)}R(P,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(p,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[p]||P}function nl(p){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,p),this.cb=Ir("retryDelaySeedMs",1e4,p),this.Wa=Ir("forwardChannelMaxRetries",2,p),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ss(p&&p.concurrentRequestLimit),this.Da=new Lh,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(p,P,F,z){Ct(0),this.W=p,this.H=P||{},F&&z!==void 0&&(this.H.OSID=F,this.H.OAID=z),this.F=this.X,this.I=Yu(this,null,this.W),kr(this)};function Zt(p){if(Po(p),p.G==3){var P=p.U++,F=Dn(p.I);if(ft(F,"SID",p.K),ft(F,"RID",P),ft(F,"TYPE","terminate"),Jr(p,F),P=new sr(p,p.j,P),P.L=2,P.v=Ii(Dn(F)),F=!1,u.navigator&&u.navigator.sendBeacon)try{F=u.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&u.Image&&(new Image().src=P.v,F=!0),F||(P.g=Xu(P.j,null),P.g.ea(P.v)),P.F=Date.now(),ht(P)}Qu(p)}function cr(p){p.g&&(rl(p),p.g.cancel(),p.g=null)}function Po(p){cr(p),p.u&&(u.clearTimeout(p.u),p.u=null),Oo(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function kr(p){if(!On(p.h)&&!p.s){p.s=!0;var P=p.Ga;ee||W(),re||(ee(),re=!0),Y.add(P,p),p.B=0}}function jh(p,P){return ju(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=P.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=nr(d(p.Ga,p,P),Gu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const le=new sr(this,this.j,p);let he=this.o;if(this.S&&(he?(he=I(he),C(he,this.S)):he=this.S),this.m!==null||this.O||(le.H=he,he=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var z=this.i[F];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(P+=z,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=Ci(this,le,P),F=Dn(this.I),ft(F,"RID",p),ft(F,"CVER",22),this.D&&ft(F,"X-HTTP-Session-Id",this.D),Jr(this,F),he&&(this.O?P="headers="+encodeURIComponent(String(Zr(he)))+"&"+P:this.m&&Pi(F,this.m,he)),Xa(this.h,le),this.Ua&&ft(F,"TYPE","init"),this.P?(ft(F,"$req",P),ft(F,"SID","null"),le.T=!0,bo(le,F,null)):bo(le,F,P),this.G=2}}else this.G==3&&(p?Co(this,p):this.i.length==0||On(this.h)||Co(this))};function Co(p,P){var F;P?F=P.l:F=p.U++;const z=Dn(p.I);ft(z,"SID",p.K),ft(z,"RID",F),ft(z,"AID",p.T),Jr(p,z),p.m&&p.o&&Pi(z,p.m,p.o),F=new sr(p,p.j,F,p.B+1),p.m===null&&(F.H=p.o),P&&(p.i=P.D.concat(p.i)),P=Ci(p,F,1e3),F.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Xa(p.h,F),bo(F,z,P)}function Jr(p,P){p.H&&U(p.H,function(F,z){ft(P,z,F)}),p.l&&xi({},function(F,z){ft(P,z,F)})}function Ci(p,P,F){F=Math.min(p.i.length,F);var z=p.l?d(p.l.Na,p.l,p):null;e:{var le=p.i;let he=-1;for(;;){const xe=["count="+F];he==-1?0<F?(he=le[0].g,xe.push("ofs="+he)):he=0:xe.push("ofs="+he);let ct=!0;for(let qt=0;qt<F;qt++){let tt=le[qt].g;const Wt=le[qt].map;if(tt-=he,0>tt)he=Math.max(0,le[qt].g-100),ct=!1;else try{$u(Wt,xe,"req"+tt+"_")}catch{z&&z(Wt)}}if(ct){z=xe.join("&");break e}}}return p=p.i.splice(0,F),P.D=p,z}function Cs(p){if(!p.g&&!p.u){p.Y=1;var P=p.Fa;ee||W(),re||(ee(),re=!0),Y.add(P,p),p.v=0}}function No(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=nr(d(p.Fa,p),Gu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=nr(d(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),cr(this),Ku(this))};function rl(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Ku(p){p.g=new sr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var P=Dn(p.qa);ft(P,"RID","rpc"),ft(P,"SID",p.K),ft(P,"AID",p.T),ft(P,"CI",p.F?"0":"1"),!p.F&&p.ja&&ft(P,"TO",p.ja),ft(P,"TYPE","xmlhttp"),Jr(p,P),p.m&&p.o&&Pi(P,p.m,p.o),p.L&&(p.g.I=p.L);var F=p.g;p=p.ia,F.L=1,F.v=Ii(Dn(P)),F.m=null,F.P=!0,Qa(F,p)}n.Za=function(){this.C!=null&&(this.C=null,cr(this),No(this),Ct(19))};function Oo(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Do(p,P){var F=null;if(p.g==P){Oo(p),rl(p),p.g=null;var z=2}else if(yn(p.h,P))F=P.D,Vu(p.h,P),z=1;else return;if(p.G!=0){if(P.o)if(z==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var le=p.B;z=Es(),lt(z,new _o(z,F)),kr(p)}else Cs(p);else if(le=P.s,le==3||le==0&&0<P.X||!(z==1&&jh(p,P)||z==2&&No(p)))switch(F&&0<F.length&&(P=p.h,P.i=P.i.concat(F)),le){case 1:ei(p,5);break;case 4:ei(p,10);break;case 3:ei(p,6);break;default:ei(p,2)}}}function Gu(p,P){let F=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(F*=2),F*P}function ei(p,P){if(p.j.info("Error code "+P),P==2){var F=d(p.fb,p),z=p.Xa;const le=!z;z=new Yr(z||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ks(z,"https"),Ii(z),le?Dh(z.toString(),F):Hu(z.toString(),F)}else Ct(2);p.G=0,p.l&&p.l.sa(P),Qu(p),Po(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Qu(p){if(p.G=0,p.ka=[],p.l){const P=Fu(p.h);(P.length!=0||p.i.length!=0)&&(T(p.ka,P),T(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function Yu(p,P,F){var z=F instanceof Yr?Dn(F):new Yr(F);if(z.g!="")P&&(z.g=P+"."+z.g),Ai(z,z.s);else{var le=u.location;z=le.protocol,P=P?P+"."+le.hostname:le.hostname,le=+le.port;var he=new Yr(null);z&&ks(he,z),P&&(he.g=P),le&&Ai(he,le),F&&(he.l=F),z=he}return F=p.D,P=p.ya,F&&P&&ft(z,F,P),ft(z,"VER",p.la),Jr(p,z),z}function Xu(p,P,F){if(P&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=p.Ca&&!p.pa?new _t(new Xr({eb:F})):new _t(p.pa),P.Ha(p.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}n=il.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Lo(){}Lo.prototype.g=function(p,P){return new vn(p,P)};function vn(p,P){st.call(this),this.g=new nl(P),this.l=p,this.h=P&&P.messageUrlParams||null,p=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(p?p["X-WebChannel-Content-Type"]=P.messageContentType:p={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(p?p["X-WebChannel-Client-Profile"]=P.va:p={"X-WebChannel-Client-Profile":P.va}),this.g.S=p,(p=P&&P.Sb)&&!b(p)&&(this.g.m=p),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!b(P)&&(this.g.D=P,p=this.h,p!==null&&P in p&&(p=this.h,P in p&&delete p[P])),this.j=new Rr(this)}_(vn,st),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Zt(this.g)},vn.prototype.o=function(p){var P=this.g;if(typeof p=="string"){var F={};F.__data__=p,p=F}else this.u&&(F={},F.__data__=Ba(p),p=F);P.i.push(new Mu(P.Ya++,p)),P.G==3&&kr(P)},vn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,vn.aa.N.call(this)};function Zu(p){br.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var P=p.__sm__;if(P){e:{for(const F in P){p=F;break e}p=void 0}(this.i=p)&&(p=this.i,P=P!==null&&p in P?P[p]:void 0),this.data=P}else this.data=p}_(Zu,br);function Ju(){vo.call(this),this.status=1}_(Ju,vo);function Rr(p){this.g=p}_(Rr,il),Rr.prototype.ua=function(){lt(this.g,"a")},Rr.prototype.ta=function(p){lt(this.g,new Zu(p))},Rr.prototype.sa=function(p){lt(this.g,new Ju)},Rr.prototype.ra=function(){lt(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,xS=function(){return new Lo},bS=function(){return Es()},TS=xr,qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eo.NO_ERROR=0,Eo.TIMEOUT=8,Eo.HTTP_ERROR=6,gf=Eo,Nu.COMPLETE="complete",ES=Nu,yo.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",st.prototype.listen=st.prototype.K,Ml=yo,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,wS=_t}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const NT="@firebase/firestore",OT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new ev("@firebase/firestore");function ra(){return so.logLevel}function ke(n,...e){if(so.logLevel<=Ze.DEBUG){const t=e.map(rv);so.debug(`Firestore (${Oa}): ${n}`,...t)}}function yi(n,...e){if(so.logLevel<=Ze.ERROR){const t=e.map(rv);so.error(`Firestore (${Oa}): ${n}`,...t)}}function _a(n,...e){if(so.logLevel<=Ze.WARN){const t=e.map(rv);so.warn(`Firestore (${Oa}): ${n}`,...t)}}function rv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,AS(n,r,t)}function AS(n,e,t){let r=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw yi(r),new Error(r)}function at(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||AS(e,i,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class xM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new SS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class SM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new SM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const r=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new DT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=RM(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function zg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Qe(r,i);{const a=IS(),l=PM(a.encode(LT(n,t)),a.encode(LT(e,t)));return l!==0?l:Qe(r,i)}}t+=r>65535?2:1}return Qe(n.length,e.length)}function LT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function PM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qe(n[t],e[t]);return Qe(n.length,e.length)}function wa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=-62135596800,jT=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jT);return new Bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<MT)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jT}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-MT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Bt(0,0))}static max(){return new $e(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__name__";class Dr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Dr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Qe(e.length,t.length)}static compareSegments(e,t){const r=Dr.isNumericId(e),i=Dr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):zg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class vt extends Dr{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const CM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Dr{construct(e,t,r){return new rn(e,t,r)}static isValidIdentifier(e){return CM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VT}static keyField(){return new rn([VT])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Pe(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Pe(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Pe(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Pe(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(vt.fromString(e))}static fromName(e){return new De(vt.fromString(e).popFirst(5))}static empty(){return new De(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function NM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(r===1e9?new Bt(t+1,0):new Bt(t,r));return new ls(i,De.empty(),e)}function OM(n){return new ls(n.readTime,n.key,ou)}class ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ls($e.min(),De.empty(),ou)}static max(){return new ls($e.max(),De.empty(),ou)}}function DM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==LM)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;t(e[h]).next(m=>{l[h]=m,++u,u===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new ge((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function jM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function La(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-1;function mh(n){return n==null}function Df(n){return n===0&&1/n==-1/0}function VM(n){return typeof n=="number"&&Number.isInteger(n)&&!Df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="";function FM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FT(e)),e=UM(n.get(t),e);return FT(e)}function UM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case RS:t+="";break;default:t+=a}}return t}function FT(n){return n+RS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=a??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new nn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BT(this.data.getIterator())}getIteratorFrom(e){return new BT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class BT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new wr([])}unionWith(e){let t=new $t(rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CS("Invalid base64 string: "+a):a}}(e);return new sn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const BM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(n){if(at(!!n,39018),typeof n=="string"){let e=0;const t=BM.exec(n);if(at(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cs(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="server_timestamp",OS="__type__",DS="__previous_value__",LS="__local_write_time__";function sv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[OS])===null||t===void 0?void 0:t.stringValue)===NS}function gh(n){const e=n.mapValue.fields[DS];return sv(e)?gh(e):e}function au(n){const e=us(n.mapValue.fields[LS].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t,r,i,a,l,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const Lf="(default)";class lu{constructor(e,t){this.projectId=e,this.database=t||Lf}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="__type__",zM="__max__",tf={mapValue:{}},jS="__vector__",Mf="value";function fs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sv(n)?4:$M(n)?9007199254740991:HM(n)?10:11:Fe(28295,{value:n})}function Wr(n,e){if(n===e)return!0;const t=fs(n);if(t!==fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return au(n).isEqual(au(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=us(i.timestampValue),u=us(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return cs(i.bytesValue).isEqual(cs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Dt(i.geoPointValue.latitude)===Dt(a.geoPointValue.latitude)&&Dt(i.geoPointValue.longitude)===Dt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Dt(i.integerValue)===Dt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Dt(i.doubleValue),u=Dt(a.doubleValue);return l===u?Df(l)===Df(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return wa(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(UT(l)!==UT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Wr(l[f],u[f])))return!1;return!0}(n,e);default:return Fe(52216,{left:n})}}function uu(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function Ea(n,e){if(n===e)return 0;const t=fs(n),r=fs(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Dt(a.integerValue||a.doubleValue),f=Dt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return qT(n.timestampValue,e.timestampValue);case 4:return qT(au(n),au(e));case 5:return zg(n.stringValue,e.stringValue);case 6:return function(a,l){const u=cs(a),f=cs(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const m=Qe(u[h],f[h]);if(m!==0)return m}return Qe(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Qe(Dt(a.latitude),Dt(l.latitude));return u!==0?u:Qe(Dt(a.longitude),Dt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return zT(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,f,h,m;const g=a.fields||{},d=l.fields||{},y=(u=g[Mf])===null||u===void 0?void 0:u.arrayValue,_=(f=d[Mf])===null||f===void 0?void 0:f.arrayValue,w=Qe(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0);return w!==0?w:zT(y,_)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===tf.mapValue&&l===tf.mapValue)return 0;if(a===tf.mapValue)return 1;if(l===tf.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=l.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let g=0;g<f.length&&g<m.length;++g){const d=zg(f[g],m[g]);if(d!==0)return d;const y=Ea(u[f[g]],h[m[g]]);if(y!==0)return y}return Qe(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Fe(23264,{Pe:t})}}function qT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=us(n),r=us(e),i=Qe(t.seconds,r.seconds);return i!==0?i:Qe(t.nanos,r.nanos)}function zT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Ea(t[i],r[i]);if(a)return a}return Qe(t.length,r.length)}function Ta(n){return Hg(n)}function Hg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=us(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Hg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Hg(t.fields[l])}`;return i+"}"}(n.mapValue):Fe(61005,{value:n})}function yf(n){switch(fs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(n);return e?16+yf(e):16;case 5:return 2*n.stringValue.length;case 6:return cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+yf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return fo(r.fields,(a,l)=>{i+=a.length+yf(l)}),i}(n.mapValue);default:throw Fe(13486,{value:n})}}function HT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $g(n){return!!n&&"integerValue"in n}function ov(n){return!!n&&"arrayValue"in n}function $T(n){return!!n&&"nullValue"in n}function WT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vf(n){return!!n&&"mapValue"in n}function HM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[MS])===null||t===void 0?void 0:t.stringValue)===jS}function $l(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$l(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $M(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=rn.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=$l(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Jn($l(this.value))}}function VS(n){const e=[];return fo(n.fields,(t,r)=>{const i=new rn([t]);if(vf(r)){const a=VS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new dn(e,0,$e.min(),$e.min(),$e.min(),Jn.empty(),0)}static newFoundDocument(e,t,r,i){return new dn(e,1,t,$e.min(),r,i,0)}static newNoDocument(e,t){return new dn(e,2,t,$e.min(),$e.min(),Jn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,$e.min(),$e.min(),Jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.position=e,this.inclusive=t}}function KT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),t.key):r=Ea(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function GT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t="asc"){this.field=e,this.dir=t}}function WM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class Ut extends FS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new GM(e,t,r):t==="array-contains"?new XM(e,r):t==="in"?new ZM(e,r):t==="not-in"?new JM(e,r):t==="array-contains-any"?new e3(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new QM(e,r):new YM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ea(t,this.value)):t!==null&&fs(this.value)===fs(t)&&this.matchesComparison(Ea(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends FS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Tr(e,t)}matches(e){return US(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function US(n){return n.op==="and"}function BS(n){return KM(n)&&US(n)}function KM(n){for(const e of n.filters)if(e instanceof Tr)return!1;return!0}function Wg(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Ta(n.value);if(BS(n))return n.filters.map(e=>Wg(e)).join(",");{const e=n.filters.map(t=>Wg(t)).join(",");return`${n.op}(${e})`}}function qS(n,e){return n instanceof Ut?function(r,i){return i instanceof Ut&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(n,e):n instanceof Tr?function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&qS(l,i.filters[u]),!0):!1}(n,e):void Fe(19439)}function zS(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Ta(t.value)}`}(n):n instanceof Tr?function(t){return t.op.toString()+" {"+t.getFilters().map(zS).join(" ,")+"}"}(n):"Filter"}class GM extends Ut{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class QM extends Ut{constructor(e,t){super(e,"in",t),this.keys=HS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YM extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=HS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class XM extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ov(t)&&uu(t.arrayValue,this.value)}}class ZM extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uu(this.value.arrayValue,t)}}class JM extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uu(this.value.arrayValue,t)}}class e3 extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ov(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function QT(n,e=null,t=[],r=[],i=null,a=null,l=null){return new t3(n,e,t,r,i,a,l)}function av(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ta(r)).join(",")),e.Ie=t}return e.Ie}function lv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GT(n.startAt,e.startAt)&&GT(n.endAt,e.endAt)}function Kg(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function n3(n,e,t,r,i,a,l,u){return new Ma(n,e,t,r,i,a,l,u)}function $S(n){return new Ma(n)}function YT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WS(n){return n.collectionGroup!==null}function Wl(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new $t(rn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new cu(a,r))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new cu(rn.keyField(),r))}return e.Ee}function Ur(n){const e=We(n);return e.de||(e.de=r3(e,Wl(n))),e.de}function r3(n,e){if(n.limitType==="F")return QT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new cu(i.field,a)});const t=n.endAt?new jf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new jf(n.startAt.position,n.startAt.inclusive):null;return QT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gg(n,e){const t=n.filters.concat([e]);return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vf(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yh(n,e){return lv(Ur(n),Ur(e))&&n.limitType===e.limitType}function KS(n){return`${av(Ur(n))}|lt:${n.limitType}`}function ia(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>zS(i)).join(", ")}]`),mh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ta(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ta(i)).join(",")),`Target(${r})`}(Ur(n))}; limitType=${n.limitType})`}function vh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Wl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const h=KT(l,u,f);return l.inclusive?h<=0:h<0}(r.startAt,Wl(r),i)||r.endAt&&!function(l,u,f){const h=KT(l,u,f);return l.inclusive?h>=0:h>0}(r.endAt,Wl(r),i))}(n,e)}function i3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GS(n){return(e,t)=>{let r=!1;for(const i of Wl(n)){const a=s3(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function s3(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,l,u){const f=l.data.field(a),h=u.data.field(a);return f!==null&&h!==null?Ea(f,h):Fe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new St(De.comparator);function vi(){return o3}const QS=new St(De.comparator);function jl(...n){let e=QS;for(const t of n)e=e.insert(t.key,t);return e}function YS(n){let e=QS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zs(){return Kl()}function XS(){return Kl()}function Kl(){return new ho(n=>n.toString(),(n,e)=>n.isEqual(e))}const a3=new St(De.comparator),l3=new $t(De.comparator);function Je(...n){let e=l3;for(const t of n)e=e.add(t);return e}const u3=new $t(Qe);function c3(){return u3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function ZS(n){return{integerValue:""+n}}function f3(n,e){return VM(e)?ZS(e):uv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function h3(n,e,t){return n instanceof Ff?function(i,a){const l={fields:{[OS]:{stringValue:NS},[LS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sv(a)&&(a=gh(a)),a&&(l.fields[DS]=a),{mapValue:l}}(t,e):n instanceof fu?eI(n,e):n instanceof hu?tI(n,e):function(i,a){const l=JS(i,a),u=XT(l)+XT(i.Re);return $g(l)&&$g(i.Re)?ZS(u):uv(i.serializer,u)}(n,e)}function d3(n,e,t){return n instanceof fu?eI(n,e):n instanceof hu?tI(n,e):t}function JS(n,e){return n instanceof Uf?function(r){return $g(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ff extends _h{}class fu extends _h{constructor(e){super(),this.elements=e}}function eI(n,e){const t=nI(e);for(const r of n.elements)t.some(i=>Wr(i,r))||t.push(r);return{arrayValue:{values:t}}}class hu extends _h{constructor(e){super(),this.elements=e}}function tI(n,e){let t=nI(e);for(const r of n.elements)t=t.filter(i=>!Wr(i,r));return{arrayValue:{values:t}}}class Uf extends _h{constructor(e,t){super(),this.serializer=e,this.Re=t}}function XT(n){return Dt(n.integerValue||n.doubleValue)}function nI(n){return ov(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function p3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof fu&&i instanceof fu||r instanceof hu&&i instanceof hu?wa(r.elements,i.elements,Wr):r instanceof Uf&&i instanceof Uf?Wr(r.Re,i.Re):r instanceof Ff&&i instanceof Ff}(n.transform,e.transform)}class m3{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _f(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wh{}function rI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sI(n.key,hi.none()):new xu(n.key,n.data,hi.none());{const t=n.data,r=Jn.empty();let i=new $t(rn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new po(n.key,r,new wr(i.toArray()),hi.none())}}function g3(n,e,t){n instanceof xu?function(i,a,l){const u=i.value.clone(),f=JT(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof po?function(i,a,l){if(!_f(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=JT(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(iI(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Gl(n,e,t,r){return n instanceof xu?function(a,l,u,f){if(!_f(a.precondition,l))return u;const h=a.value.clone(),m=eb(a.fieldTransforms,f,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof po?function(a,l,u,f){if(!_f(a.precondition,l))return u;const h=eb(a.fieldTransforms,f,l),m=l.data;return m.setAll(iI(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,l,u){return _f(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function y3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=JS(r.transform,i||null);a!=null&&(t===null&&(t=Jn.empty()),t.set(r.field,a))}return t||null}function ZT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wa(r,i,(a,l)=>p3(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xu extends wh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends wh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function JT(n,e,t){const r=new Map;at(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,d3(l,u,t[i]))}return r}function eb(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,h3(a,l,e))}return r}class sI extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v3 extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&g3(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XS();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const f=rI(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(t,r)=>ZT(t,r))&&wa(this.baseMutations,e.baseMutations,(t,r)=>ZT(t,r))}}class cv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){at(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return a3}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new cv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,nt;function T3(n){switch(n){case ye.OK:return Fe(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function oI(n){if(n===void 0)return yi("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Vt.OK:return ye.OK;case Vt.CANCELLED:return ye.CANCELLED;case Vt.UNKNOWN:return ye.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ye.INTERNAL;case Vt.UNAVAILABLE:return ye.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ye.NOT_FOUND;case Vt.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Vt.ABORTED:return ye.ABORTED;case Vt.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Vt.DATA_LOSS:return ye.DATA_LOSS;default:return Fe(39323,{code:n})}}(nt=Vt||(Vt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new ns([4294967295,4294967295],0);function tb(n){const e=IS().encode(n),t=new _S;return t.update(e),new Uint8Array(t.digest())}function nb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ns([t,r],0),new ns([i,a],0)]}class fv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vl(`Invalid padding: ${t}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ns.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ns.fromNumber(r)));return i.compare(b3)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=tb(e),[r,i]=nb(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fv(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=tb(e),[r,i]=nb(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Eh($e.min(),i,new St(Qe),vi(),Je())}}class Au{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Au(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class aI{constructor(e,t){this.targetId=e,this.Ce=t}}class lI{constructor(e,t,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class rb{constructor(){this.Fe=0,this.Me=ib(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),t=Je(),r=Je();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:a})}}),new Au(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=ib()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,at(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class x3{constructor(e){this.ze=e,this.je=new Map,this.He=vi(),this.Je=nf(),this.Ye=nf(),this.Ze=new St(Qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Kg(a))if(r===0){const l=new De(a.path);this.tt(t,l,dn.newNoDocument(l,$e.min()))}else at(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),f=u?this.lt(u,e,l):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=cs(r).toUint8Array()}catch(f){if(f instanceof CS)return _a("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new fv(l,i,a)}catch(f){return _a(f instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&Kg(u.target)){const f=new De(u.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,dn.newNoDocument(f,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=Je();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new Eh(e,t,this.Ze,this.He,r);return this.He=vi(),this.Je=nf(),this.Ye=nf(),this.Ze=new St(Qe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new rb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new $t(Qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new $t(Qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new rb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function nf(){return new St(De.comparator)}function ib(){return new St(De.comparator)}const A3={asc:"ASCENDING",desc:"DESCENDING"},S3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"};class k3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qg(n,e){return n.useProto3Json||mh(e)?e:{value:e}}function Bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function R3(n,e){return Bf(n,e.toTimestamp())}function Br(n){return at(!!n,49232),$e.fromTimestamp(function(t){const r=us(t);return new Bt(r.seconds,r.nanos)}(n))}function hv(n,e){return Yg(n,e).canonicalString()}function Yg(n,e){const t=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cI(n){const e=vt.fromString(n);return at(mI(e),10190,{key:e.toString()}),e}function Xg(n,e){return hv(n.databaseId,e.path)}function ag(n,e){const t=cI(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(hI(t))}function fI(n,e){return hv(n.databaseId,e)}function P3(n){const e=cI(n);return e.length===4?vt.emptyPath():hI(e)}function Zg(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hI(n){return at(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sb(n,e,t){return{name:Xg(n,e),fields:t.value.mapValue.fields}}function C3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Fe(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(at(m===void 0||typeof m=="string",58123),sn.fromBase64String(m||"")):(at(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),sn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?ye.UNKNOWN:oI(h.code);return new Pe(m,h.message||"")}(l);t=new lI(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ag(n,r.document.name),a=Br(r.document.updateTime),l=r.document.createTime?Br(r.document.createTime):$e.min(),u=new Jn({mapValue:{fields:r.document.fields}}),f=dn.newFoundDocument(i,a,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new wf(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ag(n,r.document),a=r.readTime?Br(r.readTime):$e.min(),l=dn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new wf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ag(n,r.document),a=r.removedTargetIds||[];t=new wf([],a,i,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new E3(i,a),u=r.targetId;t=new aI(u,l)}}return t}function N3(n,e){let t;if(e instanceof xu)t={update:sb(n,e.key,e.value)};else if(e instanceof sI)t={delete:Xg(n,e.key)};else if(e instanceof po)t={update:sb(n,e.key,e.data),updateMask:B3(e.fieldMask)};else{if(!(e instanceof v3))return Fe(16599,{ft:e.type});t={verify:Xg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Ff)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Uf)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Fe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:R3(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)}(n,e.precondition)),t}function O3(n,e){return n&&n.length>0?(at(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?Br(i.updateTime):Br(a);return l.isEqual($e.min())&&(l=Br(a)),new m3(l,i.transformResults||[])}(t,e))):[]}function D3(n,e){return{documents:[fI(n,e.path)]}}function L3(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fI(n,i);const a=function(h){if(h.length!==0)return pI(Tr.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(m=>function(d){return{field:sa(d.field),direction:V3(d.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Qg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function M3(n){let e=P3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){at(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(g){const d=dI(g);return d instanceof Tr&&BS(d)?d.getFilters():[d]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(d=>function(_){return new cu(oa(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(t.orderBy));let u=null;t.limit&&(u=function(g){let d;return d=typeof g=="object"?g.value:g,mh(d)?null:d}(t.limit));let f=null;t.startAt&&(f=function(g){const d=!!g.before,y=g.values||[];return new jf(y,d)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const d=!g.before,y=g.values||[];return new jf(y,d)}(t.endAt)),n3(e,i,l,a,u,"F",f,h)}function j3(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=oa(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oa(t.unaryFilter.field);return Ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oa(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=oa(t.unaryFilter.field);return Ut.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(oa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Tr.create(t.compositeFilter.filters.map(r=>dI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(t.compositeFilter.op))}(n):Fe(30097,{filter:n})}function V3(n){return A3[n]}function F3(n){return S3[n]}function U3(n){return I3[n]}function sa(n){return{fieldPath:n.canonicalString()}}function oa(n){return rn.fromServerFormat(n.fieldPath)}function pI(n){return n instanceof Ut?function(t){if(t.op==="=="){if(WT(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NAN"}};if($T(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WT(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NAN"}};if($T(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(t.field),op:F3(t.op),value:t.value}}}(n):n instanceof Tr?function(t){const r=t.getFilters().map(i=>pI(i));return r.length===1?r[0]:{compositeFilter:{op:U3(t.op),filters:r}}}(n):Fe(54877,{filter:n})}function B3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,r,i,a=$e.min(),l=$e.min(),u=sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.wt=e}}function z3(n){const e=M3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.Cn=new $3}addToCollectionParentIndex(e,t){return this.Cn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(ls.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class $3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $t(vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gI=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(gI,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ba(0)}static lr(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="LruGarbageCollector",W3=1048576;function lb([n,e],[t,r]){const i=Qe(n,t);return i===0?Qe(e,r):i}class K3{constructor(e){this.Er=e,this.buffer=new $t(lb),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class G3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ke(ab,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){La(t)?ke(ab,"Ignoring IndexedDB error during garbage collection: ",t):await Da(t)}await this.mr(3e5)})}}class Q3{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(ph.le);const r=new K3(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(ob)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ob):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,l,u,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),ra()<=Ze.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function Y3(n,e){return new Q3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.changes=new ho(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gl(r.mutation,i,wr.empty(),Bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Je()){const i=Zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=jl();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Zs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Je()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=vi();const l=Kl(),u=function(){return Kl()}();return t.forEach((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof po)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Gl(m.mutation,h,m.mutation.getFieldMask(),Bt.now())):l.set(h.key,wr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new Z3(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Kl();let i=new St((l,u)=>l-u),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let m=r.get(f)||wr.empty();m=u.applyToLocalView(h,m),r.set(f,m);const g=(i.get(u.batchId)||Je()).add(f);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,m=f.value,g=XS();m.forEach(d=>{if(!a.has(d)){const y=rI(t.get(d),r.get(d));y!==null&&g.set(d,y),a=a.add(d)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ge.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ge.resolve(Zs());let u=ou,f=a;return l.next(h=>ge.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(m)?ge.resolve():this.remoteDocumentCache.getEntry(e,m).next(d=>{f=f.insert(m,d)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,Je())).next(m=>({batchId:u,changes:YS(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let i=jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=jl();return this.indexManager.getCollectionParents(e,a).next(u=>ge.forEach(u,f=>{const h=function(g,d){return new Ma(d,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,d)=>{l=l.insert(g,d)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,dn.newInvalidDocument(m)))});let u=jl();return l.forEach((f,h)=>{const m=a.get(f);m!==void 0&&Gl(m.mutation,h,wr.empty(),Bt.now()),vh(t,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ge.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:z3(i.bundledQuery),readTime:Br(i.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.overlays=new St(De.comparator),this.Qr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zs();return ge.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=Zs(),a=t.length+1,l=new De(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new St((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=Zs(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Zs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return ge.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new w3(t,r));let a=this.Qr.get(t);a===void 0&&(a=Je(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.$r=new $t(Yt.Ur),this.Kr=new $t(Yt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Yt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Yt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new De(new vt([])),r=new Yt(t,e),i=new Yt(t,e+1),a=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new De(new vt([])),r=new Yt(t,e),i=new Yt(t,e+1);let a=Je();return this.Kr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Yt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return De.comparator(e.key,t.key)||Qe(e.Zr,t.Zr)}static Wr(e,t){return Qe(e.Zr,t.Zr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new $t(Yt.Ur)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new _3(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new Yt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,t){return ge.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?iv:this.nr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yt(t,0),i=new Yt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);a.push(u)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $t(Qe);return t.forEach(i=>{const a=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],u=>{r=r.add(u.Zr)})}),ge.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const l=new Yt(new De(a),0);let u=new $t(Qe);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Zr)),!0)},l),ge.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){at(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ge.forEach(t.mutations,i=>{const a=new Yt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Yt(t,0),i=this.Xr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.ii=e,this.docs=function(){return new St(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=vi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():dn.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=vi();const l=t.path,u=new De(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||DM(OM(m),r)<=0||(i.has(m.key)||vh(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Fe(9500)}si(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sj(this)}getSize(e){return ge.resolve(this.size)}}class sj extends X3{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.persistence=e,this.oi=new ho(t=>av(t),lv),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new dv,this.targetCount=0,this.ui=ba.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ge.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ba(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Tr(t),ge.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ge.waitFor(a).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.ci={},this.overlays={},this.li=new ph(0),this.hi=!1,this.hi=!0,this.Pi=new nj,this.referenceDelegate=e(this),this.Ti=new oj(this),this.indexManager=new H3,this.remoteDocumentCache=function(i){return new ij(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new q3(t),this.Ei=new ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new rj(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new aj(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return ge.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class aj extends MM{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.Vi=new dv,this.mi=null}static fi(e){return new pv(e)}get gi(){if(this.mi)return this.mi;throw Fe(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.gi,r=>{const i=De.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,$e.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ge.or([()=>ge.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class qf{constructor(e,t){this.persistence=e,this.yi=new ho(r=>FM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Y3(this,t)}static fi(e,t){return new qf(e,t)}di(){}Ai(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ge.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ge.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(u=>{u||(r++,a.removeEntry(l,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ge.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yf(e.data.value)),t}Dr(e,t,r){return ge.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Je(),i=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new mv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return s5()?8:jM(mn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new lj;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ra()<=Ze.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",ia(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ge.resolve()):(ra()<=Ze.DEBUG&&ke("QueryEngine","Query:",ia(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ra()<=Ze.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",ia(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):ge.resolve())}ws(e,t){if(YT(t))return ge.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Vf(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Je(...a);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(t,u);return this.Cs(t,h,l,f.readTime)?this.ws(e,Vf(t,null,"F")):this.Fs(e,h,t,f)}))})))}bs(e,t,r,i){return YT(t)||i.isEqual($e.min())?ge.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,i)?ge.resolve(null):(ra()<=Ze.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ia(t)),this.Fs(e,l,t,NM(i,ou)).next(u=>u))})}vs(e,t){let r=new $t(GS(e));return t.forEach((i,a)=>{vh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return ra()<=Ze.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",ia(t)),this.ys.getDocumentsMatchingQuery(e,t,ls.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="LocalStore",cj=3e8;class fj{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new St(Qe),this.Os=new ho(a=>av(a),lv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function hj(n,e,t,r){return new fj(n,e,t,r)}async function vI(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let f=Je();for(const h of i){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:u}))})})}function dj(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,f,h,m){const g=h.batch,d=g.keys();let y=ge.resolve();return d.forEach(_=>{y=y.next(()=>m.getEntry(f,_)).next(w=>{const T=h.docVersions.get(_);at(T!==null,48541),w.version.compareTo(T)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),m.addEntry(w)))})}),y.next(()=>u.mutationQueue.removeMutationBatch(f,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Je();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _I(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function pj(n,e){const t=We(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((m,g)=>{const d=i.get(g);if(!d)return;u.push(t.Ti.removeMatchingKeys(a,m.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(a,m.addedDocuments,g)));let y=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(sn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,r)),i=i.insert(g,y),function(w,T,E){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=cj?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,y,m)&&u.push(t.Ti.updateTargetData(a,y))});let f=vi(),h=Je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(mj(a,l,e.documentUpdates).next(m=>{f=m.qs,h=m.Qs})),!r.isEqual($e.min())){const m=t.Ti.getLastRemoteSnapshotVersion(a).next(g=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(m)}return ge.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(t.xs=i,a))}function mj(n,e,t){let r=Je(),i=Je();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=vi();return t.forEach((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual($e.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):ke(gv,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{qs:l,Qs:i}})}function gj(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yj(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,ge.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new Ji(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Jg(n,e,t){const r=We(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!La(l))throw l;ke(gv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function ub(n,e,t){const r=We(n);let i=$e.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,m){const g=We(f),d=g.Os.get(m);return d!==void 0?ge.resolve(g.xs.get(d)):g.Ti.getTargetData(h,m)}(r,l,Ur(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:$e.min(),t?a:Je())).next(u=>(vj(r,i3(e),u),{documents:u,$s:a})))}function vj(n,e,t){let r=n.Ns.get(e)||$e.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class cb{constructor(){this.activeTargetIds=c3()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _j{constructor(){this.xo=new cb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new cb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="ConnectivityMonitor";class hb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ke(fb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ke(fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function ey(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",Ej={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Lf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const l=ey(),u=this.jo(e,t.toUriEncodedString());ke(lg,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,a);const{host:h}=new URL(u),m=gs(h);return this.Jo(e,u,f,r,m).then(g=>(ke(lg,`Received RPC '${e}' ${l}: `,g),g),g=>{throw _a(lg,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g})}Yo(e,t,r,i,a,l){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=Ej[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class xj extends Tj{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=ey();return new Promise((u,f)=>{const h=new wS;h.setWithCredentials(!0),h.listenOnce(ES.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case gf.NO_ERROR:const g=h.getResponseJson();ke(fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case gf.TIMEOUT:ke(fn,`RPC '${e}' ${l} timed out`),f(new Pe(ye.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const d=h.getStatus();if(ke(fn,`RPC '${e}' ${l} failed with status:`,d,"response text:",h.getResponseText()),d>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const w=function(E){const b=E.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(b)>=0?b:ye.UNKNOWN}(_.status);f(new Pe(w,_.message))}else f(new Pe(ye.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Pe(ye.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{ke(fn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);ke(fn,`RPC '${e}' ${l} sending request:`,i),h.send(t,"POST",m,r,15)})}I_(e,t,r){const i=ey(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=xS(),u=bS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=a.join("");ke(fn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const g=l.createWebChannel(m,f);this.E_(g);let d=!1,y=!1;const _=new bj({Zo:T=>{y?ke(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(d||(ke(fn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),d=!0),ke(fn,`RPC '${e}' stream ${i} sending:`,T),g.send(T))},Xo:()=>g.close()}),w=(T,E,b)=>{T.listen(E,S=>{try{b(S)}catch(x){setTimeout(()=>{throw x},0)}})};return w(g,Ml.EventType.OPEN,()=>{y||(ke(fn,`RPC '${e}' stream ${i} transport opened.`),_.__())}),w(g,Ml.EventType.CLOSE,()=>{y||(y=!0,ke(fn,`RPC '${e}' stream ${i} transport closed`),_.u_(),this.d_(g))}),w(g,Ml.EventType.ERROR,T=>{y||(y=!0,_a(fn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),_.u_(new Pe(ye.UNAVAILABLE,"The operation could not be completed")))}),w(g,Ml.EventType.MESSAGE,T=>{var E;if(!y){const b=T.data[0];at(!!b,16349);const S=b,x=(S==null?void 0:S.error)||((E=S[0])===null||E===void 0?void 0:E.error);if(x){ke(fn,`RPC '${e}' stream ${i} received error:`,x);const O=x.status;let U=function(M){const C=Vt[M];if(C!==void 0)return oI(C)}(O),R=x.message;U===void 0&&(U=ye.INTERNAL,R="Unknown error status: "+O+" with message "+x.message),y=!0,_.u_(new Pe(U,R)),g.close()}else ke(fn,`RPC '${e}' stream ${i} received:`,b),_.c_(b)}}),w(u,TS.STAT_EVENT,T=>{T.stat===qg.PROXY?ke(fn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===qg.NOPROXY&&ke(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(n){return new k3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="PersistentStream";class EI{constructor(e,t,r,i,a,l,u,f){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wI(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new Pe(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ke(db,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ke(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Aj extends EI{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=C3(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?$e.min():l.readTime?Br(l.readTime):$e.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Zg(this.serializer),t.addTarget=function(a,l){let u;const f=l.target;if(u=Kg(f)?{documents:D3(a,f)}:{query:L3(a,f).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uI(a,l.resumeToken);const h=Qg(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo($e.min())>0){u.readTime=Bf(a,l.snapshotVersion.toTimestamp());const h=Qg(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=j3(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Zg(this.serializer),t.removeTarget=e,this.Q_(t)}}class Sj extends EI{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=O3(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Zg(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>N3(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{}class kj extends Ij{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Pe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,Yg(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(ye.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,Yg(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(ye.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Rj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(yi(t),this.ua=!1):ke("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="RemoteStore";class Pj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{mo(this)&&(ke(oo,"Restarting streams for network reachability change."),await async function(f){const h=We(f);h.da.add(4),await Su(h),h.Va.set("Unknown"),h.da.delete(4),await bh(h)}(this))})}),this.Va=new Rj(r,i)}}async function bh(n){if(mo(n))for(const e of n.Aa)await e(!0)}async function Su(n){for(const e of n.Aa)await e(!1)}function TI(n,e){const t=We(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),wv(t)?_v(t):ja(t).N_()&&vv(t,e))}function yv(n,e){const t=We(n),r=ja(t);t.Ea.delete(e),r.N_()&&bI(t,e),t.Ea.size===0&&(r.N_()?r.k_():mo(t)&&t.Va.set("Unknown"))}function vv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ja(n).Z_(e)}function bI(n,e){n.ma.Ke(e),ja(n).X_(e)}function _v(n){n.ma=new x3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ja(n).start(),n.Va.ca()}function wv(n){return mo(n)&&!ja(n).O_()&&n.Ea.size>0}function mo(n){return We(n).da.size===0}function xI(n){n.ma=void 0}async function Cj(n){n.Va.set("Online")}async function Nj(n){n.Ea.forEach((e,t)=>{vv(n,e)})}async function Oj(n,e){xI(n),wv(n)?(n.Va.Pa(e),_v(n)):n.Va.set("Unknown")}async function Dj(n,e,t){if(n.Va.set("Online"),e instanceof lI&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(n,e)}catch(r){ke(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zf(n,r)}else if(e instanceof wf?n.ma.Xe(e):e instanceof aI?n.ma.ot(e):n.ma.nt(e),!t.isEqual($e.min()))try{const r=await _I(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.ma.It(l);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ea.get(h);m&&a.Ea.set(h,m.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,h)=>{const m=a.Ea.get(f);if(!m)return;a.Ea.set(f,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),bI(a,f);const g=new Ji(m.target,f,h,m.sequenceNumber);vv(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ke(oo,"Failed to raise snapshot:",r),await zf(n,r)}}async function zf(n,e,t){if(!La(e))throw e;n.da.add(1),await Su(n),n.Va.set("Offline"),t||(t=()=>_I(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(oo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await bh(n)})}function AI(n,e){return e().catch(t=>zf(n,t,e))}async function xh(n){const e=We(n),t=hs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:iv;for(;Lj(e);)try{const i=await gj(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,Mj(e,i)}catch(i){await zf(e,i)}SI(e)&&II(e)}function Lj(n){return mo(n)&&n.Ia.length<10}function Mj(n,e){n.Ia.push(e);const t=hs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function SI(n){return mo(n)&&!hs(n).O_()&&n.Ia.length>0}function II(n){hs(n).start()}async function jj(n){hs(n).ia()}async function Vj(n){const e=hs(n);for(const t of n.Ia)e.ta(t.mutations)}async function Fj(n,e,t){const r=n.Ia.shift(),i=cv.from(r,e,t);await AI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await xh(n)}async function Uj(n,e){e&&hs(n).ea&&await async function(r,i){if(function(l){return T3(l)&&l!==ye.ABORTED}(i.code)){const a=r.Ia.shift();hs(r).L_(),await AI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await xh(r)}}(n,e),SI(n)&&II(n)}async function pb(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),ke(oo,"RemoteStore received new credentials");const r=mo(t);t.da.add(3),await Su(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await bh(t)}async function Bj(n,e){const t=We(n);e?(t.da.delete(2),await bh(t)):e||(t.da.add(2),await Su(t),t.Va.set("Unknown"))}function ja(n){return n.fa||(n.fa=function(t,r,i){const a=We(t);return a.oa(),new Aj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:Cj.bind(null,n),n_:Nj.bind(null,n),i_:Oj.bind(null,n),Y_:Dj.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),wv(n)?_v(n):n.Va.set("Unknown")):(await n.fa.stop(),xI(n))})),n.fa}function hs(n){return n.ga||(n.ga=function(t,r,i){const a=We(t);return a.oa(),new Sj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:jj.bind(null,n),i_:Uj.bind(null,n),na:Vj.bind(null,n),ra:Fj.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await xh(n)):(await n.ga.stop(),n.Ia.length>0&&(ke(oo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Ev(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(n,e){if(yi("AsyncQueue",`${e}: ${n}`),La(n))return new Pe(ye.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{static emptySet(e){return new da(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=jl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.pa=new St(De.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Fe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class xa{constructor(e,t,r,i,a,l,u,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new xa(e,t,da.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class zj{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=We(t),a=i.queries;i.queries=gb(),a.forEach((l,u)=>{for(const f of u.Sa)f.onError(r)})})(this,new Pe(ye.ABORTED,"Firestore shutting down"))}}function gb(){return new ho(n=>KS(n),yh)}async function Hj(n,e){const t=We(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new qj,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Tv(l,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&bv(t)}async function $j(n,e){const t=We(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Wj(n,e){const t=We(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Ma(i)&&(r=!0);l.ba=i}}r&&bv(t)}function Kj(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function bv(n){n.Ca.forEach(e=>{e.next()})}var ty,yb;(yb=ty||(ty={})).xa="default",yb.Cache="cache";class Gj{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.key=e}}class RI{constructor(e){this.key=e}}class Qj{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.Za=GS(e),this.Xa=new da(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new mb,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const d=i.get(m),y=vh(this.query,g)?g:null,_=!!d&&this.mutatedKeys.has(d.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;d&&y?d.data.isEqual(y.data)?_!==w&&(r.track({type:3,doc:y}),T=!0):this.ru(d,y)||(r.track({type:2,doc:y}),T=!0,(f&&this.Za(y,f)>0||h&&this.Za(y,h)<0)&&(u=!0)):!d&&y?(r.track({type:0,doc:y}),T=!0):d&&!y&&(r.track({type:1,doc:d}),T=!0,(f||h)&&(u=!0)),T&&(y?(l=l.add(y),a=w?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:u,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,g)=>function(y,_){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:T})}};return w(y)-w(_)}(m.type,g.type)||this.Za(m.doc,g.doc)),this.iu(r),i=i!=null&&i;const u=t&&!i?this.su():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Ja;return this.Ja=f,l.length!==0||h?{snapshot:new xa(this.query,e.Xa,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new RI(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new kI(r))}),t}au(e){this.Ha=e.$s,this.Ya=Je();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return xa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const xv="SyncEngine";class Yj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Xj{constructor(e){this.key=e,this.cu=!1}}class Zj{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new ho(u=>KS(u),yh),this.Pu=new Map,this.Tu=new Set,this.Iu=new St(De.comparator),this.Eu=new Map,this.du=new dv,this.Au={},this.Ru=new Map,this.Vu=ba.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Jj(n,e,t=!0){const r=LI(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await PI(r,e,t,!0),i}async function eV(n,e){const t=LI(n);await PI(t,e,!0,!1)}async function PI(n,e,t,r){const i=await yj(n.localStore,Ur(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await tV(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&TI(n.remoteStore,i),u}async function tV(n,e,t,r,i){n.fu=(g,d,y)=>async function(w,T,E,b){let S=T.view.tu(E);S.Cs&&(S=await ub(w.localStore,T.query,!1).then(({documents:R})=>T.view.tu(R,S)));const x=b&&b.targetChanges.get(T.targetId),O=b&&b.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(S,w.isPrimaryClient,x,O);return _b(w,T.targetId,U.ou),U.snapshot}(n,g,d,y);const a=await ub(n.localStore,e,!0),l=new Qj(e,a.$s),u=l.tu(a.documents),f=Au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,f);_b(n,t,h.ou);const m=new Yj(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function nV(n,e,t){const r=We(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(l=>!yh(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&yv(r.remoteStore,i.targetId),ny(r,i.targetId)}).catch(Da)):(ny(r,i.targetId),await Jg(r.localStore,i.targetId,!0))}async function rV(n,e){const t=We(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yv(t.remoteStore,r.targetId))}async function iV(n,e,t){const r=fV(n);try{const i=await function(l,u){const f=We(l),h=Bt.now(),m=u.reduce((y,_)=>y.add(_.key),Je());let g,d;return f.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=vi(),w=Je();return f.Bs.getEntries(y,m).next(T=>{_=T,_.forEach((E,b)=>{b.isValidDocument()||(w=w.add(E))})}).next(()=>f.localDocuments.getOverlayedDocuments(y,_)).next(T=>{g=T;const E=[];for(const b of u){const S=y3(b,g.get(b.key).overlayedDocument);S!=null&&E.push(new po(b.key,S,VS(S.value.mapValue),hi.exists(!0)))}return f.mutationQueue.addMutationBatch(y,h,E,u)}).next(T=>{d=T;const E=T.applyToLocalDocumentSet(g,w);return f.documentOverlayCache.saveOverlays(y,T.batchId,E)})}).then(()=>({batchId:d.batchId,changes:YS(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let h=l.Au[l.currentUser.toKey()];h||(h=new St(Qe)),h=h.insert(u,f),l.Au[l.currentUser.toKey()]=h}(r,i.batchId,t),await Iu(r,i.changes),await xh(r.remoteStore)}catch(i){const a=Tv(i,"Failed to persist write");t.reject(a)}}async function CI(n,e){const t=We(n);try{const r=await pj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?at(l.cu,14607):i.removedDocuments.size>0&&(at(l.cu,42227),l.cu=!1))}),await Iu(t,r,e)}catch(r){await Da(r)}}function vb(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=We(l);f.onlineState=u;let h=!1;f.queries.forEach((m,g)=>{for(const d of g.Sa)d.Fa(u)&&(h=!0)}),h&&bv(f)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sV(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new St(De.comparator);l=l.insert(a,dn.newNoDocument(a,$e.min()));const u=Je().add(a),f=new Eh($e.min(),new Map,new St(Qe),l,u);await CI(r,f),r.Iu=r.Iu.remove(a),r.Eu.delete(e),Av(r)}else await Jg(r.localStore,e,!1).then(()=>ny(r,e,t)).catch(Da)}async function oV(n,e){const t=We(n),r=e.batch.batchId;try{const i=await dj(t.localStore,e);OI(t,r,null),NI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(t,i)}catch(i){await Da(i)}}async function aV(n,e,t){const r=We(n);try{const i=await function(l,u){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,u).next(g=>(at(g!==null,37113),m=g.keys(),f.mutationQueue.removeMutationBatch(h,g))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);OI(r,e,t),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Iu(r,i)}catch(i){await Da(i)}}function NI(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function OI(n,e,t){const r=We(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||DI(n,r)})}function DI(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(yv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Av(n))}function _b(n,e,t){for(const r of t)r instanceof kI?(n.du.addReference(r.key,e),lV(n,r)):r instanceof RI?(ke(xv,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||DI(n,r.key)):Fe(19791,{pu:r})}function lV(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(ke(xv,"New document in limbo: "+t),n.Tu.add(r),Av(n))}function Av(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new De(vt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Xj(t)),n.Iu=n.Iu.insert(t,r),TI(n.remoteStore,new Ji(Ur($S(t.path)),r,"TargetPurposeLimboResolution",ph.le))}}async function Iu(n,e,t){const r=We(n),i=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((u,f)=>{l.push(r.fu(f,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){i.push(h);const g=mv.Rs(f.targetId,h);a.push(g)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(f,h){const m=We(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ge.forEach(h,d=>ge.forEach(d.ds,y=>m.persistence.referenceDelegate.addReference(g,d.targetId,y)).next(()=>ge.forEach(d.As,y=>m.persistence.referenceDelegate.removeReference(g,d.targetId,y)))))}catch(g){if(!La(g))throw g;ke(gv,"Failed to update sequence numbers: "+g)}for(const g of h){const d=g.targetId;if(!g.fromCache){const y=m.xs.get(d),_=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(_);m.xs=m.xs.insert(d,w)}}}(r.localStore,a))}async function uV(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){ke(xv,"User change. New user:",e.toKey());const r=await vI(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(u=>{u.forEach(f=>{f.reject(new Pe(ye.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(t,r.ks)}}function cV(n,e){const t=We(n),r=t.Eu.get(e);if(r&&r.cu)return Je().add(r.key);{let i=Je();const a=t.Pu.get(e);if(!a)return i;for(const l of a){const u=t.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function LI(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sV.bind(null,e),e.lu.Y_=Wj.bind(null,e.eventManager),e.lu.gu=Kj.bind(null,e.eventManager),e}function fV(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aV.bind(null,e),e}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return hj(this.persistence,new uj,e.initialUser,this.serializer)}Su(e){return new yI(pv.fi,this.serializer)}bu(e){return new _j}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class hV extends Hf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){at(this.persistence.referenceDelegate instanceof qf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new G3(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new yI(r=>qf.fi(r,t),this.serializer)}}class ry{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uV.bind(null,this.syncEngine),await Bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zj}()}createDatastore(e){const t=Th(e.databaseInfo.databaseId),r=function(a){return new xj(a)}(e.databaseInfo);return function(a,l,u,f){return new kj(a,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new Pj(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>vb(this.syncEngine,t,0),function(){return hb.C()?new hb:new wj}())}createSyncEngine(e,t){return function(i,a,l,u,f,h,m){const g=new Zj(i,a,l,u,f,h);return m&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=We(i);ke(oo,"RemoteStore shutting down."),a.da.add(5),await Su(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ry.provider={build:()=>new ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class pV{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=kS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ke(ds,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ke(ds,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Tv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cg(n,e){n.asyncQueue.verifyOperationInProgress(),ke(ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mV(n);ke(ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>pb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>pb(e.remoteStore,i)),n._onlineComponents=e}async function mV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(ds,"Using user provided OfflineComponentProvider");try{await cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;_a("Error using user provided cache. Falling back to memory cache: "+t),await cg(n,new Hf)}}else ke(ds,"Using default OfflineComponentProvider"),await cg(n,new hV(void 0));return n._offlineComponents}async function MI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(ds,"Using user provided OnlineComponentProvider"),await wb(n,n._uninitializedComponentsProvider._online)):(ke(ds,"Using default OnlineComponentProvider"),await wb(n,new ry))),n._onlineComponents}function gV(n){return MI(n).then(e=>e.syncEngine)}async function yV(n){const e=await MI(n),t=e.eventManager;return t.onListen=Jj.bind(null,e.syncEngine),t.onUnlisten=nV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rV.bind(null,e.syncEngine),t}function vV(n,e,t={}){const r=new rs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,h){const m=new dV({next:d=>{m.xu(),l.enqueueAndForget(()=>$j(a,g)),d.fromCache&&f.source==="server"?h.reject(new Pe(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(d)},error:d=>h.reject(d)}),g=new Gj(u,m,{includeMetadataChanges:!0,Qa:!0});return Hj(a,g)}(await yV(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n,e,t){if(!t)throw new Pe(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _V(n,e,t,r){if(e===!0&&r===!0)throw new Pe(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Tb(n){if(!De.isDocumentKey(n))throw new Pe(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bb(n){if(De.isDocumentKey(n))throw new Pe(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ah(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function $f(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(n);throw new Pe(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firestore.googleapis.com",xb=!0;class Ab{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FI,this.ssl=xb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W3)throw new Pe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_V("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pe(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bM;switch(r.type){case"firstParty":return new IM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Eb.get(t);r&&(ke("ComponentProvider","Removing Datastore"),Eb.delete(t),r.terminate())}(this),Promise.resolve()}}function wV(n,e,t,r={}){var i;n=$f(n,Sh);const a=gs(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(Zy(`https://${f}`),Jy("Firestore",!0)),l.host!==FI&&l.host!==f&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!ro(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=hn.MOCK_USER;else{m=dS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Pe(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hn(d)}n._authCredentials=new xM(new SS(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class is extends ys{constructor(e,t,r){super(e,t,$S(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new De(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function Sv(n,e,...t){if(n=gn(n),VI("collection","path",e),n instanceof Sh){const r=vt.fromString(e,...t);return bb(r),new is(n,null,r)}{if(!(n instanceof tr||n instanceof is))throw new Pe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return bb(r),new is(n.firestore,null,r)}}function EV(n,e,...t){if(n=gn(n),arguments.length===1&&(e=kS.newId()),VI("doc","path",e),n instanceof Sh){const r=vt.fromString(e,...t);return Tb(r),new tr(n,null,new De(r))}{if(!(n instanceof tr||n instanceof is))throw new Pe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return Tb(r),new tr(n.firestore,n instanceof is?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="AsyncQueue";class Ib{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wI(this,"async_queue_retry"),this.rc=()=>{const r=ug();r&&ke(Sb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=ug();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=ug();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new rs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!La(e))throw e;ke(Sb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,yi("INTERNAL UNHANDLED ERROR: ",kb(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Ev.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Fe(47125,{cc:kb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function kb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Iv extends Sh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ib,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ib(e),this._firestoreClient=void 0,await e}}}function TV(n,e){const t=typeof n=="object"?n:nv(),r=typeof n=="string"?n:Lf,i=dh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=cS("firestore");a&&wV(i,...a)}return i}function UI(n){if(n._terminated)throw new Pe(ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bV(n),n._firestoreClient}function bV(n){var e,t,r;const i=n._freezeSettings(),a=function(u,f,h,m){return new qM(u,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,jI(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new pV(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(sn.fromBase64String(e))}catch(t){throw new Pe(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Aa(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^__.*__$/;class AV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}function qI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ic:n})}}class Cv{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Wf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(qI(this.Ic)&&xV.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class SV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Th(e)}bc(e,t,r,i=!1){return new Cv({Ic:e,methodName:t,wc:r,path:rn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zI(n){const e=n._freezeSettings(),t=Th(n._databaseId);return new SV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IV(n,e,t,r,i,a={}){const l=n.bc(a.merge||a.mergeFields?2:0,e,t,i);WI("Data must be an object, but it was:",l,r);const u=HI(r,l);let f,h;if(a.merge)f=new wr(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const d=RV(e,g,t);if(!l.contains(d))throw new Pe(ye.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);CV(m,d)||m.push(d)}f=new wr(m),h=l.fieldTransforms.filter(g=>f.covers(g.field))}else f=null,h=l.fieldTransforms;return new AV(new Jn(u),f,h)}function kV(n,e,t,r=!1){return Nv(t,n.bc(r?4:3,e))}function Nv(n,e){if($I(n=gn(n)))return WI("Unsupported field value:",e,n),HI(n,e);if(n instanceof BI)return function(r,i){if(!qI(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let f=Nv(u,i.fc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Bt.fromDate(r);return{timestampValue:Bf(i.serializer,a)}}if(r instanceof Bt){const a=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(i.serializer,a)}}if(r instanceof Rv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Aa)return{bytesValue:uI(i.serializer,r._byteString)};if(r instanceof tr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pv)return function(l,u){return{mapValue:{fields:{[MS]:{stringValue:jS},[Mf]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.gc("VectorValues must only contain numeric values.");return uv(u.serializer,h)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Ah(r)}`)}(n,e)}function HI(n,e){const t={};return PS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(n,(r,i)=>{const a=Nv(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function $I(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof Rv||n instanceof Aa||n instanceof tr||n instanceof BI||n instanceof Pv)}function WI(n,e,t){if(!$I(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Ah(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function RV(n,e,t){if((e=gn(e))instanceof kv)return e._internalPath;if(typeof e=="string")return KI(n,e);throw Wf("Field path arguments must be of type string or ",n,!1,void 0,t)}const PV=new RegExp("[~\\*/\\[\\]]");function KI(n,e,t){if(e.search(PV)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kv(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wf(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Pe(ye.INVALID_ARGUMENT,u+n+f)}function CV(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ov("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NV extends GI{data(){return super.data()}}function Ov(n,e){return typeof e=="string"?KI(n,e):e instanceof kv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dv{}class Lv extends Dv{}function DV(n,e,...t){let r=[];e instanceof Dv&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof jv).length,u=a.filter(f=>f instanceof Mv).length;if(l>1||l>0&&u>0)throw new Pe(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Mv extends Lv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Mv(e,t,r)}_apply(e){const t=this._parse(e);return QI(e._query,t),new ys(e.firestore,e.converter,Gg(e._query,t))}_parse(e){const t=zI(e.firestore);return function(a,l,u,f,h,m,g){let d;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Pe(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Pb(g,m);const _=[];for(const w of g)_.push(Rb(f,a,w));d={arrayValue:{values:_}}}else d=Rb(f,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Pb(g,m),d=kV(u,l,g,m==="in"||m==="not-in");return Ut.create(h,m,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class jv extends Dv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)QI(l,f),l=Gg(l,f)}(e._query,t),new ys(e.firestore,e.converter,Gg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vv extends Lv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vv(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Pe(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(a,l)}(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ma(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function LV(n,e="asc"){const t=e,r=Ov("orderBy",n);return Vv._create(r,t)}class Fv extends Lv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Fv(e,t,r)}_apply(e){return new ys(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}function MV(n){return Fv._create("limit",n,"F")}function Rb(n,e,t){if(typeof(t=gn(t))=="string"){if(t==="")throw new Pe(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(e)&&t.indexOf("/")!==-1)throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!De.isDocumentKey(r))throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HT(n,new De(r))}if(t instanceof tr)return HT(n,t._key);throw new Pe(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function Pb(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QI(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Pe(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jV{convertValue(e,t="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return fo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Mf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Dt(l.doubleValue));return new Pv(a)}convertGeoPoint(e){return new Rv(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const t=us(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);at(mI(r),9688,{name:e});const i=new lu(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(t)||yi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FV extends GI{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ef extends FV{data(e={}){return super.data(e)}}class UV{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ef(this._firestore,this._userDataWriter,r.key,r,new sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new Ef(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new Ef(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:BV(u.type),doc:f,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}class qV extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function YI(n){n=$f(n,ys);const e=$f(n.firestore,Iv),t=UI(e),r=new qV(e);return OV(n._query),vV(t,n._query).then(i=>new UV(e,r,n,i))}function zV(n,e){const t=$f(n.firestore,Iv),r=EV(n),i=VV(n.converter,e);return HV(t,[IV(zI(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function HV(n,e){return function(r,i){const a=new rs;return r.asyncQueue.enqueueAndForget(async()=>iV(await gV(r),i,a)),a.promise}(UI(n),e)}(function(e,t=!0){(function(i){Oa=i})(co),io(new as("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Iv(new AM(r.getProvider("auth-internal")),new kM(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(h.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Fr(NT,OT,e),Fr(NT,OT,"esm2017")})();var $V="firebase",WV="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr($V,WV,"app");function Uv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KV=XI,ZI=new Tu("auth","Firebase",XI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new ev("@firebase/auth");function GV(n,...e){Kf.logLevel<=Ze.WARN&&Kf.warn(`Auth (${co}): ${n}`,...e)}function Tf(n,...e){Kf.logLevel<=Ze.ERROR&&Kf.error(`Auth (${co}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,...e){throw Bv(n,...e)}function qr(n,...e){return Bv(n,...e)}function JI(n,e,t){const r=Object.assign(Object.assign({},KV()),{[e]:t});return new Tu("auth","Firebase",r).create(e,{appName:n.name})}function to(n){return JI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZI.create(n,...e)}function qe(n,e,...t){if(!n)throw Bv(e,...t)}function ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function wi(n,e){n||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function QV(){return Cb()==="http:"||Cb()==="https:"}function Cb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QV()||n5()||"connection"in navigator)?navigator.onLine:!0}function XV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=JL()||r5()}get(){return YV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,e){wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e6=new ku(3e4,6e4);function zv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Va(n,e,t,r,i={}){return tk(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=bu(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:f},a);return t5()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&gs(n.emulatorConfig.host)&&(h.credentials="include"),ek.fetch()(await nk(n,n.config.apiHost,t,u),h)})}async function tk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZV),e);try{const i=new n6(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw of(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw of(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw of(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw JI(n,m,h);_i(n,m)}}catch(i){if(i instanceof Gr)throw i;_i(n,"network-request-failed",{message:String(i)})}}async function t6(n,e,t,r,i={}){const a=await Va(n,e,t,r,i);return"mfaPendingCredential"in a&&_i(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function nk(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?qv(n.config,i):`${n.config.apiScheme}://${i}`;return JV.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class n6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),e6.get())})}}function of(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=qr(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(n,e){return Va(n,"POST","/v1/accounts:delete",e)}async function Gf(n,e){return Va(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i6(n,e=!1){const t=gn(n),r=await t.getIdToken(e),i=Hv(r);qe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ql(fg(i.auth_time)),issuedAtTime:Ql(fg(i.iat)),expirationTime:Ql(fg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fg(n){return Number(n)*1e3}function Hv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const i=lS(t);return i?JSON.parse(i):(Tf("Failed to decode base64 JWT payload"),null)}catch(i){return Tf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nb(n){const e=Hv(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Gr&&s6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function s6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await du(n,Gf(t,{idToken:r}));qe(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?rk(a.providerUserInfo):[],u=l6(n.providerData,l),f=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),m=f?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new sy(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function a6(n){const e=gn(n);await Qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rk(n){return n.map(e=>{var{providerId:t}=e,r=Uv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(n,e){const t=await tk(n,{},async()=>{const r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await nk(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&gs(n.emulatorConfig.host)&&(f.credentials="include"),ek.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function c6(n,e){return Va(n,"POST","/v2/accounts:revokeToken",zv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=Nb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await u6(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new pa;return r&&(qe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(qe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Uv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await du(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i6(this,e)}reload(){return a6(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await du(this,r6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,u,f,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,y=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,_=(l=t.photoURL)!==null&&l!==void 0?l:void 0,w=(u=t.tenantId)!==null&&u!==void 0?u:void 0,T=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,E=(h=t.createdAt)!==null&&h!==void 0?h:void 0,b=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:S,emailVerified:x,isAnonymous:O,providerData:U,stsTokenManager:R}=t;qe(S&&R,e,"internal-error");const I=pa.fromJSON(this.name,R);qe(typeof S=="string",e,"internal-error"),Wi(g,e.name),Wi(d,e.name),qe(typeof x=="boolean",e,"internal-error"),qe(typeof O=="boolean",e,"internal-error"),Wi(y,e.name),Wi(_,e.name),Wi(w,e.name),Wi(T,e.name),Wi(E,e.name),Wi(b,e.name);const M=new Er({uid:S,auth:e,email:d,emailVerified:x,displayName:g,isAnonymous:O,photoURL:_,phoneNumber:y,tenantId:w,stsTokenManager:I,createdAt:E,lastLoginAt:b});return U&&Array.isArray(U)&&(M.providerData=U.map(C=>Object.assign({},C))),T&&(M._redirectEventId=T),M}static async _fromIdTokenResponse(e,t,r=!1){const i=new pa;i.updateFromServerResponse(t);const a=new Er({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];qe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?rk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new pa;u.updateFromIdToken(r);const f=new Er({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function ci(n){wi(n instanceof Function,"Expected a class definition");let e=Ob.get(n);return e?(wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ob.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ik.type="NONE";const Db=ik;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n,e,t){return`firebase:${n}:${e}:${t}`}class ma{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=bf(this.userKey,i.apiKey,a),this.fullPersistenceKey=bf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gf(this.auth,{idToken:e}).catch(()=>{});return t?Er._fromGetAccountInfoResponse(this.auth,t,e):null}return Er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ma(ci(Db),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||ci(Db);const l=bf(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const d=await Gf(e,{idToken:m}).catch(()=>{});if(!d)break;g=await Er._fromGetAccountInfoResponse(e,d,m)}else g=Er._fromJSON(e,m);h!==a&&(u=g),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ma(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new ma(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ck(e))return"Blackberry";if(fk(e))return"Webos";if(ok(e))return"Safari";if((e.includes("chrome/")||ak(e))&&!e.includes("edge/"))return"Chrome";if(uk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sk(n=mn()){return/firefox\//i.test(n)}function ok(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ak(n=mn()){return/crios\//i.test(n)}function lk(n=mn()){return/iemobile/i.test(n)}function uk(n=mn()){return/android/i.test(n)}function ck(n=mn()){return/blackberry/i.test(n)}function fk(n=mn()){return/webos/i.test(n)}function $v(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function f6(n=mn()){var e;return $v(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h6(){return i5()&&document.documentMode===10}function hk(n=mn()){return $v(n)||uk(n)||fk(n)||ck(n)||/windows phone/i.test(n)||lk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(n,e=[]){let t;switch(n){case"Browser":t=Lb(mn());break;case"Worker":t=`${Lb(mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(n,e={}){return Va(n,"GET","/v2/passwordPolicy",zv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=6;class g6{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:m6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new d6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gf(this,{idToken:e}),r=await Er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_r(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(to(this));const t=e?gn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p6(this),t=new g6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await c6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Wv(n){return gn(n)}class Mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=h5(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(n){Kv=n}function _6(n){return Kv.loadJS(n)}function w6(){return Kv.gapiScript}function E6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(n,e){const t=dh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(ro(a,e??{}))return i;_i(i,"already-initialized")}return t.initialize({options:e})}function b6(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x6(n,e,t){const r=Wv(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=pk(e),{host:l,port:u}=A6(e),f=u===null?"":`:${u}`,h={url:`${a}//${l}${f}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(ro(h,r.config.emulator)&&ro(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,gs(l)?(Zy(`${a}//${l}${f}`),Jy("Auth",!0)):S6()}function pk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function A6(n){const e=pk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:jb(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:jb(l)}}}function jb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function S6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(n,e){return t6(n,"POST","/v1/accounts:signInWithIdp",zv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="http://localhost";class ao extends mk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_i("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Uv(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ao(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ga(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ga(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ga(e,t)}buildRequest(){const e={requestUri:I6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends gk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ru{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Qi.credential(t,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ru{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Ru{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xi.credential(t,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Er._fromIdTokenResponse(e,r,i),l=Vb(r);return new Sa({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Vb(r);return new Sa({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Vb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends Gr{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Yf(e,t,r,i)}}function yk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(n,a,e,r):a})}async function k6(n,e,t=!1){const r=await du(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Sa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(n,e,t=!1){const{auth:r}=n;if(_r(r.app))return Promise.reject(to(r));const i="reauthenticate";try{const a=await du(n,yk(r,i,e,n),t);qe(a.idToken,r,"internal-error");const l=Hv(a.idToken);qe(l,r,"internal-error");const{sub:u}=l;return qe(n.uid===u,r,"user-mismatch"),Sa._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_i(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(n,e,t=!1){if(_r(n.app))return Promise.reject(to(n));const r="signIn",i=await yk(n,r,e),a=await Sa._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function C6(n,e,t,r){return gn(n).onIdTokenChanged(e,t,r)}function N6(n,e,t){return gn(n).beforeAuthStateChanged(e,t)}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=1e3,D6=10;class _k extends vk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);h6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D6):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},O6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_k.type="LOCAL";const L6=_k;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk extends vk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wk.type="SESSION";const Ek=wk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,a)),f=await M6(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const h=Gv("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const d=g;if(d.data.eventId===h)switch(d.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(d.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function V6(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function F6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function B6(){return Tk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firebaseLocalStorageDb",q6=1,Zf="firebaseLocalStorage",xk="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kh(n,e){return n.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function z6(){const n=indexedDB.deleteDatabase(bk);return new Pu(n).toPromise()}function oy(){const n=indexedDB.open(bk,q6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Zf,{keyPath:xk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await z6(),e(await oy()))})})}async function Fb(n,e,t){const r=kh(n,!0).put({[xk]:e,value:t});return new Pu(r).toPromise()}async function H6(n,e){const t=kh(n,!1).get(e),r=await new Pu(t).toPromise();return r===void 0?null:r.value}function Ub(n,e){const t=kh(n,!0).delete(e);return new Pu(t).toPromise()}const $6=800,W6=3;class Ak{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>W6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(B6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await F6(),!this.activeServiceWorker)return;this.sender=new j6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oy();return await Fb(e,Xf,"1"),await Ub(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>H6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ub(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=kh(i,!1).getAll();return new Pu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ak.type="LOCAL";const K6=Ak;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n,e){return e?ci(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends mk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ga(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ga(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Q6(n){return P6(n.auth,new Qv(n),n.bypassAuthState)}function Y6(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),R6(t,new Qv(n),n.bypassAuthState)}async function X6(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),k6(t,new Qv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q6;case"linkViaPopup":case"linkViaRedirect":return X6;case"reauthViaPopup":case"reauthViaRedirect":return Y6;default:_i(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new ku(2e3,1e4);class ha extends Sk{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z6.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="pendingRedirect",xf=new Map;class e9 extends Sk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xf.get(this.auth._key());if(!e){try{const r=await t9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xf.set(this.auth._key(),e)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t9(n,e){const t=i9(e),r=r9(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function n9(n,e){xf.set(n._key(),e)}function r9(n){return ci(n._redirectPersistence)}function i9(n){return bf(J6,n.config.apiKey,n.name)}async function s9(n,e,t=!1){if(_r(n.app))return Promise.reject(to(n));const r=Wv(n),i=G6(r,e),l=await new e9(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=10*60*1e3;class a9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ik(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bb(e))}saveEventToCache(e){this.cachedEventUids.add(Bb(e)),this.lastProcessedEventTime=Date.now()}}function Bb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ik({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ik(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(n,e={}){return Va(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f9=/^https?/;async function h9(n){if(n.config.emulator)return;const{authorizedDomains:e}=await u9(n);for(const t of e)try{if(d9(t))return}catch{}_i(n,"unauthorized-domain")}function d9(n){const e=iy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!f9.test(t))return!1;if(c9.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=new ku(3e4,6e4);function qb(){const n=zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function m9(n){return new Promise((e,t)=>{var r,i,a;function l(){qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qb(),t(qr(n,"network-request-failed"))},timeout:p9.get()})}if(!((i=(r=zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=zr().gapi)===null||a===void 0)&&a.load)l();else{const u=E6("iframefcb");return zr()[u]=()=>{gapi.load?l():t(qr(n,"network-request-failed"))},_6(`${w6()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw Af=null,e})}let Af=null;function g9(n){return Af=Af||m9(n),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=new ku(5e3,15e3),v9="__/auth/iframe",_9="emulator/auth/iframe",w9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T9(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qv(e,_9):`https://${n.config.authDomain}/${v9}`,r={apiKey:e.apiKey,appName:n.name,v:co},i=E9.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${bu(r).slice(1)}`}async function b9(n){const e=await g9(n),t=zr().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:T9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w9,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=qr(n,"network-request-failed"),u=zr().setTimeout(()=>{a(l)},y9.get());function f(){zr().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A9=500,S9=600,I9="_blank",k9="http://localhost";class zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R9(n,e,t,r=A9,i=S9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},x9),{width:r.toString(),height:i.toString(),top:a,left:l}),h=mn().toLowerCase();t&&(u=ak(h)?I9:t),sk(h)&&(e=e||k9,f.scrollbars="yes");const m=Object.entries(f).reduce((d,[y,_])=>`${d}${y}=${_},`,"");if(f6(h)&&u!=="_self")return P9(e||"",u),new zb(null);const g=window.open(e||"",u,m);qe(g,n,"popup-blocked");try{g.focus()}catch{}return new zb(g)}function P9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="__/auth/handler",N9="emulator/auth/handler",O9=encodeURIComponent("fac");async function Hb(n,e,t,r,i,a){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:co,eventId:i};if(e instanceof gk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",f5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Ru){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),h=f?`#${O9}=${encodeURIComponent(f)}`:"";return`${D9(n)}?${bu(u).slice(1)}${h}`}function D9({config:n}){return n.emulator?qv(n,N9):`https://${n.authDomain}/${C9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class L9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ek,this._completeRedirectFn=s9,this._overrideRedirectResult=n9}async _openPopup(e,t,r,i){var a;wi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Hb(e,t,r,iy(),i);return R9(e,l,Gv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Hb(e,t,r,iy(),i);return V6(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await b9(e),r=new a9(e);return t.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hg,{type:hg},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[hg];l!==void 0&&t(!!l),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hk()||ok()||$v()}}const M9=L9;var $b="@firebase/auth",Wb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F9(n){io(new as("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;qe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dk(n)},h=new y6(r,i,a,f);return b6(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),io(new as("auth-internal",e=>{const t=Wv(e.getProvider("auth").getImmediate());return(r=>new j9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr($b,Wb,V9(n)),Fr($b,Wb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=5*60,B9=hS("authIdTokenMaxAge")||U9;let Kb=null;const q9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>B9)return;const i=t==null?void 0:t.token;Kb!==i&&(Kb=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z9(n=nv()){const e=dh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T6(n,{popupRedirectResolver:M9,persistence:[K6,L6,Ek]}),r=hS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=q9(a.toString());N6(t,l,()=>l(t.currentUser)),C6(t,u=>l(u))}}const i=uS("auth");return i&&x6(t,`http://${i}`),t}function H9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}v6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=qr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",H9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="firebasestorage.googleapis.com",Rk="storageBucket",$9=2*60*1e3,W9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends Gr{constructor(e,t,r=0){super(dg(e),`Firebase Storage: ${t} (${dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function dg(n){return"storage/"+n}function Yv(){const n="An unknown error occurred, please check the error payload for server response.";return new Pt(Rt.UNKNOWN,n)}function K9(n){return new Pt(Rt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function G9(n){return new Pt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pt(Rt.UNAUTHENTICATED,n)}function Y9(){return new Pt(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X9(n){return new Pt(Rt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Z9(){return new Pt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J9(){return new Pt(Rt.CANCELED,"User canceled the upload/download.")}function eF(n){return new Pt(Rt.INVALID_URL,"Invalid URL '"+n+"'.")}function tF(n){return new Pt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function nF(){return new Pt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Rk+"' property when initializing the app?")}function rF(){return new Pt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iF(){return new Pt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sF(n){return new Pt(Rt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ay(n){return new Pt(Rt.INVALID_ARGUMENT,n)}function Pk(){return new Pt(Rt.APP_DELETED,"The Firebase app was deleted.")}function oF(n){return new Pt(Rt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yl(n,e){return new Pt(Rt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Nl(n){throw new Pt(Rt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Un.makeFromUrl(e,t)}catch{return new Un(e,"")}if(r.path==="")return r;throw tF(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function h(x){x.path_=decodeURIComponent(x.path)}const m="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${m}/b/${i}/o${d}`,"i"),_={bucket:1,path:3},w=t===kk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",E=new RegExp(`^https?://${w}/${i}/${T}`,"i"),S=[{regex:u,indices:f,postModify:a},{regex:y,indices:_,postModify:h},{regex:E,indices:{bucket:1,path:2},postModify:h}];for(let x=0;x<S.length;x++){const O=S[x],U=O.regex.exec(e);if(U){const R=U[O.indices.bucket];let I=U[O.indices.path];I||(I=""),r=new Un(R,I),O.postModify(r);break}}if(r==null)throw eF(e);return r}}class aF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(n,e,t){let r=1,i=null,a=null,l=!1,u=0;function f(){return u===2}let h=!1;function m(...T){h||(h=!0,e.apply(null,T))}function g(T){i=setTimeout(()=>{i=null,n(y,f())},T)}function d(){a&&clearTimeout(a)}function y(T,...E){if(h){d();return}if(T){d(),m.call(null,T,...E);return}if(f()||l){d(),m.call(null,T,...E);return}r<64&&(r*=2);let S;u===1?(u=2,S=0):S=(r+Math.random())*1e3,g(S)}let _=!1;function w(T){_||(_=!0,d(),!h&&(i!==null?(T||(u=2),clearTimeout(i),g(0)):T||(u=1)))}return g(0),a=setTimeout(()=>{l=!0,w(!0)},t),w}function uF(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(n){return n!==void 0}function fF(n){return typeof n=="object"&&!Array.isArray(n)}function Xv(n){return typeof n=="string"||n instanceof String}function Gb(n){return Zv()&&n instanceof Blob}function Zv(){return typeof Blob<"u"}function Qb(n,e,t,r){if(r<e)throw ay(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ay(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Ck(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var no;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(no||(no={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t,r,i,a,l,u,f,h,m,g,d=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=g,this.retry=d,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,w)=>{this.resolve_=_,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new af(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===no.NO_ERROR,f=a.getStatus();if(!u||hF(f,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===no.ABORT;r(!1,new af(!1,null,m));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new af(h,a))})},t=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());cF(f)?a(f):a()}catch(f){l(f)}else if(u!==null){const f=Yv();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(i.canceled){const f=this.appDelete_?Pk():J9();l(f)}else{const f=Z9();l(f)}};this.canceled_?t(!1,new af(!1,null,!0)):this.backoffId_=lF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class af{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function pF(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function mF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gF(n,e){e&&(n["X-Firebase-GMPID"]=e)}function yF(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function vF(n,e,t,r,i,a,l=!0,u=!1){const f=Ck(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return gF(m,e),pF(m,t),mF(m,a),yF(m,r),new dF(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wF(...n){const e=_F();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Zv())return new Blob(n);throw new Pt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EF(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(n){if(typeof atob>"u")throw sF("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pg{constructor(e,t){this.data=e,this.contentType=t||null}}function bF(n,e){switch(n){case Lr.RAW:return new pg(Nk(e));case Lr.BASE64:case Lr.BASE64URL:return new pg(Ok(n,e));case Lr.DATA_URL:return new pg(AF(e),SF(e))}throw Yv()}function Nk(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xF(n){let e;try{e=decodeURIComponent(n)}catch{throw Yl(Lr.DATA_URL,"Malformed data URL.")}return Nk(e)}function Ok(n,e){switch(n){case Lr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Yl(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Lr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Yl(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=TF(e)}catch(i){throw i.message.includes("polyfill")?i:Yl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Dk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Yl(Lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=IF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function AF(n){const e=new Dk(n);return e.base64?Ok(Lr.BASE64,e.rest):xF(e.rest)}function SF(n){return new Dk(n).contentType}function IF(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){let r=0,i="";Gb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Gb(this.data_)){const r=this.data_,i=EF(r,e,t);return i===null?null:new Zi(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Zi(r,!0)}}static getBlob(...e){if(Zv()){const t=e.map(r=>r instanceof Zi?r.data_:r);return new Zi(wF.apply(null,t))}else{const t=e.map(l=>Xv(l)?bF(Lr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new Zi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){let e;try{e=JSON.parse(n)}catch{return null}return fF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RF(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Mk(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n,e){return e}class En{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||PF}}let lf=null;function CF(n){return!Xv(n)||n.length<2?n:Mk(n)}function jk(){if(lf)return lf;const n=[];n.push(new En("bucket")),n.push(new En("generation")),n.push(new En("metageneration")),n.push(new En("name","fullPath",!0));function e(a,l){return CF(l)}const t=new En("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const i=new En("size");return i.xform=r,n.push(i),n.push(new En("timeCreated")),n.push(new En("updated")),n.push(new En("md5Hash",null,!0)),n.push(new En("cacheControl",null,!0)),n.push(new En("contentDisposition",null,!0)),n.push(new En("contentEncoding",null,!0)),n.push(new En("contentLanguage",null,!0)),n.push(new En("contentType",null,!0)),n.push(new En("metadata","customMetadata",!0)),lf=n,lf}function NF(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new Un(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function OF(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return NF(r,n),r}function Vk(n,e,t){const r=Lk(e);return r===null?null:OF(n,r,t)}function DF(n,e,t,r){const i=Lk(e);if(i===null||!Xv(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(h=>{const m=n.bucket,g=n.fullPath,d="/b/"+l(m)+"/o/"+l(g),y=Jv(d,t,r),_=Ck({alt:"media",token:h});return y+_})[0]}function LF(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Fk{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(n){if(!n)throw Yv()}function MF(n,e){function t(r,i){const a=Vk(n,i,e);return Uk(a!==null),a}return t}function jF(n,e){function t(r,i){const a=Vk(n,i,e);return Uk(a!==null),DF(a,i,n.host,n._protocol)}return t}function Bk(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Y9():i=Q9():t.getStatus()===402?i=G9(n.bucket):t.getStatus()===403?i=X9(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function VF(n){const e=Bk(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=K9(n.path)),a.serverResponse=i.serverResponse,a}return t}function FF(n,e,t){const r=e.fullServerUrl(),i=Jv(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,u=new Fk(i,a,jF(n,t),l);return u.errorHandler=VF(e),u}function UF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function BF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=UF(null,e)),r}function qF(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let S="";for(let x=0;x<2;x++)S=S+Math.random().toString().slice(2);return S}const f=u();l["Content-Type"]="multipart/related; boundary="+f;const h=BF(e,r,i),m=LF(h,t),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,d=`\r
--`+f+"--",y=Zi.getBlob(g,r,d);if(y===null)throw rF();const _={name:h.fullPath},w=Jv(a,n.host,n._protocol),T="POST",E=n.maxUploadRetryTime,b=new Fk(w,T,MF(n,t),E);return b.urlParams=_,b.headers=l,b.body=y.uploadData(),b.errorHandler=Bk(e),b}class zF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=no.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=no.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=no.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,a){if(this.sent_)throw Nl("cannot .send() more than once");if(gs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HF extends zF{initXhr(){this.xhr_.responseType="text"}}function qk(){return new HF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t){this._service=e,t instanceof Un?this._location=t:this._location=Un.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lo(e,t)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mk(this._location.path)}get storage(){return this._service}get parent(){const e=kF(this._location.path);if(e===null)return null;const t=new Un(this._location.bucket,e);return new lo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw oF(e)}}function $F(n,e,t){n._throwIfRoot("uploadBytes");const r=qF(n.storage,n._location,jk(),new Zi(e,!0),t);return n.storage.makeRequestWithTokens(r,qk).then(i=>({metadata:i,ref:n}))}function WF(n){n._throwIfRoot("getDownloadURL");const e=FF(n.storage,n._location,jk());return n.storage.makeRequestWithTokens(e,qk).then(t=>{if(t===null)throw iF();return t})}function KF(n,e){const t=RF(n._location.path,e),r=new Un(n._location.bucket,t);return new lo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(n){return/^[A-Za-z]+:\/\//.test(n)}function QF(n,e){return new lo(n,e)}function zk(n,e){if(n instanceof e0){const t=n;if(t._bucket==null)throw nF();const r=new lo(t,t._bucket);return e!=null?zk(r,e):r}else return e!==void 0?KF(n,e):n}function YF(n,e){if(e&&GF(e)){if(n instanceof e0)return QF(n,e);throw ay("To use ref(service, url), the first argument must be a Storage instance.")}else return zk(n,e)}function Yb(n,e){const t=e==null?void 0:e[Rk];return t==null?null:Un.makeFromBucketSpec(t,n)}function XF(n,e,t,r={}){n.host=`${e}:${t}`;const i=gs(e);i&&(Zy(`https://${n.host}/b`),Jy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:dS(a,n.app.options.projectId))}class e0{constructor(e,t,r,i,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=kk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$9,this._maxUploadRetryTime=W9,this._requests=new Set,i!=null?this._bucket=Un.makeFromBucketSpec(i,this._host):this._bucket=Yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=Yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lo(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new aF(Pk());{const l=vF(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Xb="@firebase/storage",Zb="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="storage";function ZF(n,e,t){return n=gn(n),$F(n,e,t)}function JF(n){return n=gn(n),WF(n)}function e8(n,e){return n=gn(n),YF(n,e)}function $k(n=nv(),e){n=gn(n);const r=dh(n,Hk).getImmediate({identifier:e}),i=cS("storage");return i&&t8(r,...i),r}function t8(n,e,t,r={}){XF(n,e,t,r)}function n8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new e0(t,r,i,e,co)}function r8(){io(new as(Hk,n8,"PUBLIC").setMultipleInstances(!0)),Fr(Xb,Zb,""),Fr(Xb,Zb,"esm2017")}r8();const i8={apiKey:"AIzaSyCHUbIIa8LKo2Rpn1wfMVduDC9nCuTh7tU",authDomain:"notemeow-4c9a7.firebaseapp.com",projectId:"notemeow-4c9a7",storageBucket:"notemeow-4c9a7.firebasestorage.app",messagingSenderId:"764674651461",appId:"1:764674651461:web:ccb9a1912be8c5a187fa2c"},t0=gS(i8);$k(t0);const n0=TV(t0);z9(t0);function s8(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}s8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var r0=n=>typeof n=="number"&&!isNaN(n),pu=n=>typeof n=="string",Wk=n=>typeof n=="function",o8=n=>pu(n)||r0(n),a8=n=>se.isValidElement(n)||pu(n)||Wk(n)||r0(n),l8=1,Kk=()=>`${l8++}`,Hr=new Map,ly=[],Jb=new Set,Gk=()=>Hr.size>0,u8=(n,{containerId:e})=>{var t;return(t=Hr.get(e||1))==null?void 0:t.toasts.get(n)};function c8(n,e){var t;if(e)return!!((t=Hr.get(e))!=null&&t.isToastActive(n));let r=!1;return Hr.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function f8(n){if(!Gk()){ly=ly.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||o8(n))Hr.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Hr.get(n.containerId);e?e.removeToast(n.id):Hr.forEach(t=>{t.removeToast(n.id)})}}var h8=(n={})=>{Hr.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function d8(n,e){a8(n)&&(Gk()||ly.push({content:n,options:e}),Hr.forEach(t=>{t.buildToast(n,e)}))}function Qk(n,e){Hr.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function p8(n){return Jb.add(n),()=>{Jb.delete(n)}}function m8(n){return n&&(pu(n.toastId)||r0(n.toastId))?n.toastId:Kk()}function Cu(n,e){return d8(n,e),e.toastId}function Rh(n,e){return{...e,type:e&&e.type||n,toastId:m8(e)}}function Ph(n){return(e,t)=>Cu(e,Rh(n,t))}function pt(n,e){return Cu(n,Rh("default",e))}pt.loading=(n,e)=>Cu(n,Rh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function g8(n,{pending:e,error:t,success:r},i){let a;e&&(a=pu(e)?pt.loading(e,i):pt.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,m,g)=>{if(m==null){pt.dismiss(a);return}let d={type:h,...l,...i,data:g},y=pu(m)?{render:m}:m;return a?pt.update(a,{...d,...y}):pt(y.render,{...d,...y}),g},f=Wk(n)?n():n;return f.then(h=>u("success",r,h)).catch(h=>u("error",t,h)),f}pt.promise=g8;pt.success=Ph("success");pt.info=Ph("info");pt.error=Ph("error");pt.warning=Ph("warning");pt.warn=pt.warning;pt.dark=(n,e)=>Cu(n,Rh("default",{theme:"dark",...e}));function y8(n){f8(n)}pt.dismiss=y8;pt.clearWaitingQueue=h8;pt.isActive=c8;pt.update=(n,e={})=>{let t=u8(n,e);if(t){let{props:r,content:i}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:Kk()};a.toastId!==n&&(a.staleId=n);let l=a.render||i;delete a.render,Cu(l,a)}};pt.done=n=>{pt.update(n,{progress:1})};pt.onChange=p8;pt.play=n=>Qk(!0,n);pt.pause=n=>Qk(!1,n);const v8=se.forwardRef((n,e)=>j.jsx(Rx,{...n,forwardedRef:e})),_8=()=>{const n=uo(),e=se.useRef(null),[t,r]=se.useState(""),[i,a]=se.useState([]),l=async()=>{if(!t.trim()){pt.error("Nội dung ghi chú trống bà ơi!");return}try{const y=await d(),_={text:t,images:y,createdAt:Bt.now()},w=await zV(Sv(n0,"notes"),_);console.log("✅ Ghi chú đã lưu với ID:",w.id),pt.success("Đã lưu vào Firebase!"),r(""),m([]),n("/meowstudy/all-notes")}catch(y){console.error("🔥 Lỗi khi lưu Firebase:",y),pt.error("Không lưu được, thử lại nhen!")}};function u(y){a(i.filter((_,w)=>w!==y))}const f=y=>{m(h.filter((_,w)=>w!==y))},[h,m]=se.useState([]),g=y=>{const _=Array.from(y.target.files);m([...h,..._])},d=async()=>{const y=$k(),_=[];for(const w of h){const T=`images/${Date.now()}-${Math.random()}`,E=e8(y,T);await ZF(E,w);const b=await JF(E);_.push(b)}return _};return j.jsx(BL.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.4},children:j.jsxs("div",{className:"bg-[url('/photo/Arknights-1.jpg')] bg-cover bg-center bg-no-repeat h-500 min-h-screen ",children:[j.jsxs("div",{className:"navbar w-full bg-yellow-50 text-gray-800 shadow-md px-6 py-2 flex justify-between items-center mt-[-2%]",children:[j.jsxs("div",{className:"flex-1 flex items-center gap-6",children:[j.jsx("button",{onClick:()=>n("/meowstudy/"),className:"text-gray-800 font-bold text-2xl font-sans ml-30 cursor-pointer",children:"NOTE MEOW FOR STUDY"}),j.jsx("button",{onClick:()=>n("/meowstudy/all-notes"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"All Notes"}),j.jsx("button",{onClick:()=>n("/meowstudy/categories"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"Categories"}),j.jsx("button",{onClick:()=>n("/meowstudy/about-us"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"About Us"})]}),j.jsxs("label",{className:"swap swap-rotate mr-2",children:[j.jsx("input",{type:"checkbox",className:"theme-controller",value:"cupcake"}),j.jsx("svg",{className:"swap-off h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),j.jsx("svg",{className:"swap-on h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",placeholder:"Search",className:"bg-yellow-100 input input-bordered w-24 md:w-auto"}),j.jsxs("div",{className:"dropdown dropdown-end",children:[j.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar bg-yellow-50",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg"})})}),j.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-yellow-50 text-gray-800 rounded-box z-1 mt-3 w-52 p-2 shadow visible absolute top-[50%]",children:[j.jsxs("div",{className:"px-4 py-3 border-b border-yellow-200 bg-white bg-opacity-60 rounded-t-xl",children:[j.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Trần Nguyễn Hồng Hà"}),j.jsx("button",{onClick:()=>n("/meowstudy/profile"),className:"text-gray-800 font-sans cursor-pointer",children:"Tap to see your profile"})]}),j.jsx("li",{children:j.jsxs("ul",{className:"text-sm text-gray-700 divide-y divide-yellow-100",children:[["Settings","Help","Accessibility","Feedback"].map(y=>j.jsx("li",{className:"px-4 py-2 hover:bg-yellow-50 transition duration-200 cursor-pointer",children:y},y)),j.jsx("li",{className:"px-4 py-2 text-red-600 hover:bg-red-50 font-medium cursor-pointer",children:"Log out"})]})})]})]})]})]}),j.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-lg mt-9",children:[j.jsx("h2",{className:"text-5xl font-bold mb-4 text-gray-800",children:"Create Note"}),j.jsxs("div",{className:"max-w-3xl mx-auto bg-yellow-30 p-6 rounded-lg shadow-lg border-4 border-yellow-300",children:[j.jsxs("div",{className:"flex justify-between mb-4",children:[j.jsx("input",{type:"text",placeholder:"DATE",className:"bg-white text-gray-800 px-3 py-2 rounded border border-yellow-40"}),j.jsx("input",{type:"text",placeholder:"TITLE",className:"bg-white text-gray-800 px-3 py-2 rounded border border-yellow-40"})]}),j.jsx(v8,{ref:e,value:t,onChange:r,className:"text-gray-800"}),j.jsx("input",{type:"file",multiple:!0,onChange:g,className:"mt-4"}),j.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:h.map((y,_)=>j.jsxs("div",{className:"relative",children:[j.jsx("img",{src:URL.createObjectURL(y),alt:"Uploaded",className:"rounded-lg shadow-md border border-yellow-30"}),j.jsx("button",{className:"absolute top-1 right-1 bg-red-50 px-2 py-1 text-sm text-gray-800 rounded",onClick:()=>f(_),children:"❌"})]},_))})]}),j.jsxs("div",{className:"flex gap-3 mt-4",children:[j.jsx("button",{className:"bg-yellow-100 px-4 py-2 text-gray-800 rounded",onClick:l,children:"Save Note"}),j.jsx("button",{className:"bg-yellow-50 px-4 py-2 rounded text-gray-800",onClick:()=>r(""),children:"Clear"})]}),j.jsxs("div",{className:"mt-6",children:[j.jsx("h3",{className:"text-5xl font-bold mb-2 text-gray-800",children:"Saved Notes"}),i.map((y,_)=>j.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg mb-3 relative ",onClick:()=>l(),children:[j.jsx(Rx,{value:y,readOnly:!0,theme:"bubble",className:"text-gray-800"}),j.jsx("button",{className:"absolute top-2 right-2 bg-rose-50 text-gray-800 px-2 py-1 border-none rounded",onClick:()=>u(_),children:"Delete"})]},_))]})]})]})})},w8=()=>{const[n,e]=se.useState([]),t=uo();return se.useEffect(()=>{(async()=>{const a=(await YI(Sv(n0,"notes"))).docs.map(l=>({id:l.id,...l.data()}));e(a)})()},[]),j.jsxs("div",{className:"bg-[url('/photo/Arknights-1.jpg')] bg-cover bg-center bg-no-repeat h-500 min-h-screen ",children:[j.jsxs("div",{className:"navbar w-full bg-yellow-50 text-gray-800 shadow-md px-6 py-2 flex justify-between items-center mt-[-2%]",children:[j.jsxs("div",{className:"flex-1 flex items-center gap-6",children:[j.jsx("button",{onClick:()=>t("/meowstudy/"),className:"text-gray-800 font-bold text-2xl font-sans ml-30 cursor-pointer",children:"NOTE MEOW FOR STUDY"}),j.jsx("button",{onClick:()=>t("/meowstudy/all-notes"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"All Notes"}),j.jsx("button",{onClick:()=>t("/meowstudy/categories"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"Categories"}),j.jsx("button",{onClick:()=>t("/meowstudy/about-us"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"About Us"})]}),j.jsxs("label",{className:"swap swap-rotate mr-2",children:[j.jsx("input",{type:"checkbox",className:"theme-controller",value:"cupcake"}),j.jsx("svg",{className:"swap-off h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),j.jsx("svg",{className:"swap-on h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",placeholder:"Search",className:"bg-yellow-100 input input-bordered w-24 md:w-auto"}),j.jsxs("div",{className:"dropdown dropdown-end",children:[j.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar bg-yellow-50",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg"})})}),j.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-yellow-50 text-gray-800 rounded-box z-1 mt-3 w-52 p-2 shadow visible absolute top-[50%]",children:[j.jsxs("div",{className:"px-4 py-3 border-b border-yellow-200 bg-white bg-opacity-60 rounded-t-xl",children:[j.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Trần Nguyễn Hồng Hà"}),j.jsx("button",{onClick:()=>t("/meowstudy/profile"),className:"text-gray-800 font-sans cursor-pointer",children:"Tap to see your profile"})]}),j.jsx("li",{children:j.jsxs("ul",{className:"text-sm text-gray-700 divide-y divide-yellow-100",children:[["Settings","Help","Accessibility","Feedback"].map(r=>j.jsx("li",{className:"px-4 py-2 hover:bg-yellow-50 transition duration-200 cursor-pointer",children:r},r)),j.jsx("li",{className:"px-4 py-2 text-red-600 hover:bg-red-50 font-medium cursor-pointer",children:"Log out"})]})})]})]})]})]}),j.jsxs("div",{className:"p-4 max-w-4xl text-gray-800 mx-auto",children:[j.jsx("h2",{className:"text-4xl font-bold mb-6",children:"All Notes"}),n.map(r=>{var i,a;return j.jsxs("div",{className:"bg-yellow-50 p-4 mb-4 rounded",children:[j.jsx("div",{dangerouslySetInnerHTML:{__html:r.text}}),((i=r.images)==null?void 0:i.length)>0&&j.jsx("div",{className:"grid grid-cols-3 gap-4 mt-3",children:r.images.map((l,u)=>j.jsx("img",{src:l,alt:`ảnh-${u}`,className:"rounded-md mb-2"},u))}),j.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Created: ",(a=r.createdAt)==null?void 0:a.toDate().toLocaleString()]})]},r.id)})]})]})};function E8(){const[n,e]=se.useState(null),t=uo();return se.useEffect(()=>{(async()=>{var u;const i=DV(Sv(n0,"notes"),LV("createdAt","desc"),MV(1)),l=(u=(await YI(i)).docs[0])==null?void 0:u.data();e(l)})()},[]),j.jsxs("div",{className:"bg-yellow-50 w-full",children:[j.jsxs("div",{className:"navbar w-full bg-yellow-50 text-gray-800 shadow-md px-6 py-2 flex justify-between items-center mt-[-2%]",children:[j.jsxs("div",{className:"flex-1 flex items-center gap-6",children:[j.jsx("a",{className:"text-gray-800 font-bold text-2xl font-sans ml-30 cursor-pointer",children:"NOTE MEOW FOR STUDY"}),j.jsx("button",{onClick:()=>t("/meowstudy/create"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"Your-studybase"}),j.jsx("button",{onClick:()=>t("/meowstudy/categories"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"Categories"}),j.jsx("button",{onClick:()=>t("/meowstudy/about-us"),className:"text-gray-800 font-semibold text-xl font-sans ml-30 cursor-pointer rounded-md p-2",children:"About Us"})]}),j.jsxs("label",{className:"swap swap-rotate mr-2",children:[j.jsx("input",{type:"checkbox",className:"theme-controller",value:"cupcake"}),j.jsx("svg",{className:"swap-off h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),j.jsx("svg",{className:"swap-on h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",placeholder:"Search",className:"bg-yellow-100 input input-bordered w-24 md:w-auto"}),j.jsxs("div",{className:"dropdown dropdown-end",children:[j.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar bg-yellow-50",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/daisyui/mark-rotating.svg"})})}),j.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-yellow-50 text-gray-800 rounded-box z-1 mt-3 w-52 p-2 shadow visible absolute top-[50%]",children:[j.jsxs("div",{className:"px-4 py-3 border-b border-yellow-200 bg-white bg-opacity-60 rounded-t-xl",children:[j.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Trần Nguyễn Hồng Hà"}),j.jsx("button",{onClick:()=>t("/meowstudy/profile"),className:"text-gray-800 font-sans cursor-pointer",children:"Tap to see your profile"})]}),j.jsx("li",{children:j.jsxs("ul",{className:"text-sm text-gray-700 divide-y divide-yellow-100",children:[["Settings","Help","Accessibility","Feedback"].map(r=>j.jsx("li",{className:"px-4 py-2 hover:bg-yellow-50 transition duration-200 cursor-pointer",children:r},r)),j.jsx("li",{className:"px-4 py-2 text-red-600 hover:bg-red-50 font-medium cursor-pointer",children:"Log out"})]})})]})]})]})]}),j.jsxs("div",{className:"p-6",children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"📂 Trang Categories"}),n?j.jsxs("div",{className:"bg-yellow-50 p-4 rounded shadow",children:[j.jsx("h2",{className:"text-xl text-gray-800 font-semibold mb-2",children:"📝 Ghi chú vừa tạo"}),j.jsx("div",{dangerouslySetInnerHTML:{__html:n.text}})]}):j.jsx("p",{children:"Không tìm thấy ghi chú gần nhất."})]})]})}function T8(){const n=ps();return j.jsx(rD,{mode:"wait",children:j.jsxs(ZR,{location:n,children:[j.jsx(Ks,{path:"/meowstudy/",element:j.jsx(MP,{})}),j.jsx(Ks,{path:"/meowstudy/about-us",element:j.jsx(jP,{})}),j.jsx(Ks,{path:"/meowstudy/profile",element:j.jsx(VP,{})}),j.jsx(Ks,{path:"/meowstudy/create",element:j.jsx(_8,{})}),j.jsx(Ks,{path:"/meowstudy/all-notes",element:j.jsx(w8,{})}),j.jsx(Ks,{path:"/meowstudy/categories",element:j.jsx(E8,{})})]},n.pathname)})}aR.createRoot(document.getElementById("root")).render(j.jsx(TP,{children:j.jsx(T8,{})}));
